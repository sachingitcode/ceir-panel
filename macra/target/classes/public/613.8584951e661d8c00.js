(self.webpackChunkceirpanel=self.webpackChunkceirpanel||[]).push([[613],{2613:(de,Gt,j)=>{"use strict";j.r(Gt),j.d(Gt,{GrievanceModule:()=>ar});var R=j(7586),pt=j(1965),lt=j(5438),t=j(5879),M=j(6223),Q=j(6814);function bt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"input",3,4),t.NdJ("paste",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.handlePaste(i))})("keyup",function(i){const f=t.CHM(e).index,v=t.oxw(2);return t.KtG(v.onKeyUp(i,f))})("input",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.onInput(i))})("keydown",function(i){const f=t.CHM(e).index,v=t.oxw(2);return t.KtG(v.onKeyDown(i,f))}),t.qZA()}if(2&n){const e=a.$implicit,o=a.index,i=t.oxw(2);t.Gre("otp-input ",i.config.inputClass,""),t.Q6J("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[e])("id",i.getBoxId(o))}}function xt(n,a){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,bt,2,9,"input",2),t.ALo(2,"keys"),t.qZA()),2&n){const e=t.oxw();t.Gre("ng-otp-input-wrapper wrapper ",e.config.containerClass,""),t.MGl("id","c_",e.componentKey,""),t.Q6J("ngStyle",e.config.containerStyles),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,6,null==e.otpForm?null:e.otpForm.controls))}}class dt{static ifTab(a){return this.ifKey(a,"Tab")}static ifDelete(a){return this.ifKey(a,"Delete;Del")}static ifBackspace(a){return this.ifKey(a,"Backspace")}static ifRightArrow(a){return this.ifKey(a,"ArrowRight;Right")}static ifLeftArrow(a){return this.ifKey(a,"ArrowLeft;Left")}static ifSpacebar(a){return this.ifKey(a,"Spacebar; ")}static ifKey(a,e){return e.split(";").some(i=>i===a.key)}}let ft=(()=>{class n{transform(e){return Object.keys(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"keys",type:n,pure:!0}),n})(),$=(()=>{class n{constructor(e,o){this.keysPipe=e,this.document=o,this.config={length:4},this.onInputChange=new t.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new M.cw({});for(let e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new M.NI);this.otpForm.valueChanges.subscribe(e=>{this.keysPipe.transform(this.otpForm.controls).forEach(o=>{var i=this.otpForm.controls[o].value;i&&i.length>1&&(i.length>=this.config.length?this.setValue(i):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const e=this.document.getElementById(`c_${this.componentKey}`);if(e){const o=e.getElementsByClassName("otp-input")[0];o&&o.focus&&o.focus()}}}getControlName(e){return`ctrl_${e}`}onKeyDown(e,o){const i=this.getBoxId(o-1),c=this.getBoxId(o);return dt.ifSpacebar(e)?(e.preventDefault(),!1):dt.ifBackspace(e)?(e.target.value?this.clearInput(c,o):(this.clearInput(i,o-1),this.setSelected(i)),void this.rebuildValue()):void 0}onInput(e){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${e.target.value}`:e.target.value))return e.target.value="",e.stopPropagation(),void e.preventDefault()}onKeyUp(e,o){dt.ifTab(e)&&(o-=1);const i=this.getBoxId(o+1),c=this.getBoxId(o-1),f=this.getBoxId(o);return dt.ifRightArrow(e)?(e.preventDefault(),void this.setSelected(i)):dt.ifLeftArrow(e)?(e.preventDefault(),void this.setSelected(c)):dt.ifDelete(e)?(e.target.value?this.clearInput(f,o):(this.clearInput(c,o-1),this.setSelected(c)),void this.rebuildValue()):void(e.target.value&&(this.ifValidKeyCode(e)&&this.setSelected(i),this.rebuildValue()))}validateNumber(e){return e&&/^[0-9]+$/.test(e)}getBoxId(e){return`otp_${e}_${this.componentKey}`}clearInput(e,o){let i=this.getControlName(o);this.otpForm.controls[i]?.setValue(null);const c=this.document.getElementById(e);c&&c instanceof HTMLInputElement&&(c.value=null)}setSelected(e){this.focusTo(e);const o=this.document.getElementById(e);o&&o.setSelectionRange&&setTimeout(()=>{o.setSelectionRange(0,1)},0)}ifValidKeyCode(e){const o=e.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(o)}focusTo(e){const o=this.document.getElementById(e);o&&o.focus()}setValue(e){if(!this.config.allowNumbersOnly||!isNaN(e)){if(this.otpForm.reset(),!e)return void this.rebuildValue();if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach((i,c)=>{this.otpForm.get(this.getControlName(c))&&this.otpForm.get(this.getControlName(c)).setValue(i)}),!this.config.disableAutoFocus){const i=this.document.getElementById(`c_${this.componentKey}`);var o=e.length<this.config.length?e.length:this.config.length-1;let c=i.getElementsByClassName("otp-input")[o];c&&c.focus&&c.focus()}this.rebuildValue()}}rebuildValue(){let e="";this.keysPipe.transform(this.otpForm.controls).forEach(o=>{if(this.otpForm.controls[o].value){let i=this.otpForm.controls[o].value,c=i.length>1,f=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());i=i[0];let v=f?"upper"==this.config.letterCase.toLocaleLowerCase()?i.toUpperCase():i.toLowerCase():i;f&&v==i?f=!1:i=v,e+=i,(c||f)&&this.otpForm.controls[o].setValue(i)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(e),this.onInputChange.emit(e),this.currentVal=e}handlePaste(e){let o=e.clipboardData||window.clipboardData;if(o)var i=o.getData("Text");e.stopPropagation(),e.preventDefault(),i&&(!this.config.allowNumbersOnly||this.validateNumber(i))&&this.setValue(i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ft),t.Y36(Q.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(e,o){1&e&&t.YNc(0,xt,3,8,"div",0),2&e&&t.Q6J("ngIf",null==o.otpForm?null:o.otpForm.controls)},dependencies:[Q.O5,Q.PC,Q.sg,M.Fj,M.c5,M.JJ,M.oH,ft],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[ft],imports:[[Q.ez,M.u5,M.UX]]}),n})();var rt=j(7679),wt=j(3643),X=j(8253),Et=j(9671);function Nt(n){function a(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var o=e.done;return Promise.resolve(e.value).then(function(i){return{value:i,done:o}})}return(Nt=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return a(this.n.apply(this.s,arguments))},return:function(o){var i=this.s.return;return void 0===i?Promise.resolve({value:o,done:!0}):a(i.apply(this.s,arguments))},throw:function(o){var i=this.s.return;return void 0===i?Promise.reject(o):a(i.apply(this.s,arguments))}},new Nt(n)}var zt=j(8645);class yt extends zt.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(a){const{hasError:e,_hasValue:o,_value:i,thrownError:c,isStopped:f,_isComplete:v}=this;e?a.error(c):(f||v)&&(o&&a.next(i),a.complete())}next(a){this.isStopped||(this._value=a,this._hasValue=!0)}complete(){const{_hasValue:a,_value:e,_isComplete:o}=this;o||(this._isComplete=!0,a&&super.next(e),super.complete())}}var Zt=j(149);const Vt=["*"],Rt=n=>{switch(n){case"default":default:return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#202020"},backgroundOptions:{color:"#ffffff"}};case"ocean":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"dots",gradient:{type:"radial",colorStops:[{offset:0,color:"#36CDA5"},{offset:1,color:"#1582AE"},{offset:2,color:"#0277BD"}]}},backgroundOptions:{color:"#ffffff"},cornersSquareOptions:{type:"square"}};case"sunflower":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"dots",gradient:{type:"radial",colorStops:[{offset:0,color:"#BB8412"},{offset:1,color:"#4D762E"},{offset:2,color:"#2F702F"}]}},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#006B3B",type:"dot"},cornersSquareOptions:{color:"#006B3B",type:"extra-rounded"}};case"luxury":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"classy-rounded",gradient:{type:"radial",colorStops:[{offset:0,color:"#E29C0F"},{offset:1,color:"#913C0C"},{offset:2,color:"#732E0C"}]}},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#732E0C",type:"dot"},cornersSquareOptions:{color:"#732E0C",type:"extra-rounded"}};case"bitcoin":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#3a3a3a",type:"dots"},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#ff9900"},cornersSquareOptions:{type:"extra-rounded"}};case"starbucks":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#3a3a3a",type:"dots"},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#00643C",type:"dot"},cornersSquareOptions:{color:"#00643C",type:"extra-rounded"}};case"angular":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#c3002f",type:"dots"},backgroundOptions:{color:"#ffffff"}};case"facebook":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#4D72A9",type:"dots"},backgroundOptions:{color:"#ffffff"}};case"beans":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#416B2C",type:"dots"},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#60A541",type:"dot"},cornersSquareOptions:{type:"extra-rounded"}};case"green":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#006B3B",type:"dots"},backgroundOptions:{color:"#ffffff"},cornersDotOptions:{color:"#006B3B",type:"dot"},cornersSquareOptions:{color:"#006B3B",type:"extra-rounded"}};case"sky":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#2c7597",type:"rounded"},backgroundOptions:{color:"#ffffff"}};case"mosaic":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"rounded",gradient:{rotation:190,type:"linear",colorStops:[{offset:0,color:"#0277BD"},{offset:1,color:"#943A40"},{offset:2,color:"#A13535"}]}},backgroundOptions:{color:"#ffffff"}};case"coffee":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#5E4F39",type:"dots"},backgroundOptions:{color:"#FAEDE7"}};case"vintage":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#2D7363",type:"extra-rounded"},backgroundOptions:{color:"#E7E5C5"},cornersDotOptions:{color:"#BE8C49"},cornersSquareOptions:{color:"#2D7363"}};case"stamp":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#2a3c16",type:"square"},backgroundOptions:{color:"#9cc66e"},cornersDotOptions:{color:"#4c692c"},cornersSquareOptions:{color:"#2a3c16"}};case"chess":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#F4EAA5",type:"dots"},backgroundOptions:{color:"#494B49"}};case"jungle":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"classy-rounded",gradient:{type:"radial",colorStops:[{offset:0,color:"#84b931"},{offset:1,color:"#537234"},{offset:2,color:"#537234"}]}},cornersSquareOptions:{color:"#434343",gradient:{type:"radial",colorStops:[{offset:0,color:"#84b931"},{offset:1,color:"#537234"},{offset:2,color:"#537234"}]}}};case"arabic":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"classy-rounded",gradient:{type:"radial",colorStops:[{offset:0,color:"#393939"},{offset:1,color:"#393939"},{offset:2,color:"#393939"}]}},cornersSquareOptions:{color:"#434343",gradient:{type:"radial",colorStops:[{offset:0,color:"#393939"},{offset:1,color:"#72a28b"},{offset:2,color:"#72a28b"}]}}};case"tea":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"extra-rounded",gradient:{type:"radial",colorStops:[{offset:0,color:"#72b0b4"},{offset:1,color:"#035558"},{offset:2,color:"#035558"}]}},cornersSquareOptions:{color:"#434343",gradient:{type:"radial",colorStops:[{offset:0,color:"#72b0b4"},{offset:1,color:"#035558"},{offset:2,color:"#035558"}]}}};case"grape":return{data:"",qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{type:"rounded",gradient:{type:"radial",colorStops:[{offset:0,color:"#7076ae"},{offset:1,color:"#2a3240"},{offset:2,color:"#2a3240"}]}},cornersSquareOptions:{color:"#434343",gradient:{type:"radial",colorStops:[{offset:0,color:"#7b7cb5"},{offset:1,color:"#2a3240"},{offset:2,color:"#2a3240"}]}}}}};function Bt(n,a){const e=new yt;if(!n||!a)return e.error("Container or Config not available!"),e.complete(),e;const o=document.createElement("div"),c=n?.frameOptions?.style??"F_020",f=n?.frameOptions?.height??300,v=n?.frameOptions?.width??300,G=n?.frameOptions?.x??50,H=n?.frameOptions?.y??50,Me=()=>{const z=o.querySelector(`#${c}_svg`);return z&&z.setAttribute("height",`${f}px`),z&&z.setAttribute("width",`${v}px`),z};return(0,Et.Z)(function*(){if((()=>{if(n?.frameOptions)return!1;{const z=()=>{let mt=n&&JSON.parse(JSON.stringify(n));return Object.assign({data:window.unescape(encodeURIComponent(mt?.data??""))},mt)};for(;a.firstChild;)a.removeChild(a.lastChild);return new Zt(z()).append(a),!0}})())return e.next({config:n,container:a}),void e.complete();{yield(()=>{const z=fetch(`https://raw.githubusercontent.com/id1945/ngx-qrcode-styling/master/svg/${c}.svg`,{method:"GET"});return new Promise((ut,mt)=>{z.then(W=>W.text()).then(W=>{"404: Not Found"!==W&&(z=>{const mt=(new DOMParser).parseFromString(z,"image/svg+xml");if(mt){const W=mt.documentElement.children[c+"_svg"];if(!W)return;const re=W.getElementsByClassName("frame-text"),Kt=W.getElementsByClassName("frame-content"),gr=W.getElementsByClassName("frame-container");n?.frameOptions?.background&&W.setAttribute("style",`background: ${n?.frameOptions?.background};${W?.getAttribute("style")}`);const se=(Ct,Tt)=>{if(Ct)for(const kt in Tt)["x","y","transform"].includes(kt)?Ct.setAttribute(kt,Tt&&Tt[kt]):["textContent"].includes(kt)?Ct[kt]=Tt&&Tt[kt]:Ct.style[kt]=Tt&&Tt[kt]},mr=Ct=>{const kt=document.createElementNS("http://www.w3.org/2000/svg","text");se(kt,Ct),W.appendChild(kt)};n?.frameOptions?.texts&&[...n.frameOptions.texts].forEach((Ct,Tt)=>{const kt=[...re][Tt];kt?se(kt,Ct):mr(Ct)}),n?.frameOptions?.containers&&[...gr].forEach((Ct,Tt)=>{se(Ct,n?.frameOptions?.containers?.[Tt])}),n?.frameOptions?.contents&&[...Kt].forEach((Ct,Tt)=>{se(Ct,n?.frameOptions?.contents?.[Tt])}),o.appendChild(mt.documentElement)}})(W),ut(W)}).catch(W=>{console.error(W),mt(W)})})})();const z=(()=>{const z=o.querySelector(".addsvg");return z?.setAttribute("transform",`translate(${G},${H})`),z})();yield(z=>{for(;a?.firstChild;)a.removeChild(a.lastChild);const mt=new Zt((()=>{let W=n&&JSON.parse(JSON.stringify(n));return W={...W,type:"svg",data:window.unescape(encodeURIComponent(W?.data??""))},delete W.frameOptions,delete W.template,W})());return mt?._svgDrawingPromise?.then(()=>{mt.append(z)}).catch(W=>console.error(W))})(z),(z=>{z&&n?.rotate&&z?.childNodes?.[0]?.childNodes?.forEach(ut=>{"rect"===ut.nodeName&&(ut.style.transformOrigin="50% 50%",ut.style.transform=`rotate(${n?.rotate??0}deg)`)}),z&&n?.scale&&z?.childNodes?.[0]?.childNodes?.forEach(ut=>{"rect"===ut.nodeName&&(ut.style.scale=n?.scale??0)})})(z),"svg"===n?.type&&(Me(),a.appendChild(o),1)?(e.next({config:n,container:a}),e.complete()):((()=>{const z=new Image,ut=(()=>{const z=document.createElement("canvas");return z.height=f,z.width=v,a.appendChild(z),z})().getContext("2d");z.onload=function(){ut&&ut.drawImage(z,0,0)};const mt=(z=>{const ut=z.split(";base64,"),mt=ut[0].split(":")[1],W=window.atob(ut[1]),re=new Uint8Array(W.length);for(let Kt=0;Kt<W.length;++Kt)re[Kt]=W.charCodeAt(Kt);return new Blob([re],{type:mt})})((z=>{const mt=z&&(new XMLSerializer).serializeToString(z);return"data:image/svg+xml;base64,"+(mt&&btoa(unescape(encodeURIComponent(mt))))})(Me())),W=URL.createObjectURL(mt);z.src=W})(),e.next({config:n,container:a}),e.complete())}})(),e}const Z=n=>{let a=n&&JSON.parse(JSON.stringify(n));return n?.template?{...Rt(n.template.toLocaleLowerCase()),...a}:a},A=function(){var n=(0,Et.Z)(function*(a,e){const o=a&&JSON.parse(JSON.stringify(a));let i={...o,...e};const c=["frameOptions","qrOptions","imageOptions","dotsOptions","cornersSquareOptions","cornersDotOptions","backgroundOptions"];var G,f=!1,v=!1;try{for(var ct,H=function It(n){var a,e,o,i=2;for(typeof Symbol<"u"&&(e=Symbol.asyncIterator,o=Symbol.iterator);i--;){if(e&&null!=(a=n[e]))return a.call(n);if(o&&null!=(a=n[o]))return new Nt(a.call(n));e="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}(c);f=!(ct=yield H.next()).done;f=!1){const gt=ct.value;if(gt in e){const _t={[gt]:{...o[gt],...e[gt]}};i={...i,..._t}}}}catch(gt){v=!0,G=gt}finally{try{f&&null!=H.return&&(yield H.return())}finally{if(v)throw G}}return i});return function(e,o){return n.apply(this,arguments)}}();let C=(()=>{class n{create(e,o){return Bt(Z(e),o)}update(e,o,i){const c=new yt;return(0,Et.Z)(function*(){Bt(yield A(Z(e),Z(o)),i).subscribe(v=>{c.next(v),c.complete()})})(),c}download(e,o="",i=0){const c=new yt,f=H=>{o||(o=`ngx_qrcode_styling_${Date.now()}.${H}`)},G=H=>{H?((H=>{const ct=document.createElement("a");ct.download=o,ct.href=H,ct.click(),ct.remove()})(H),c.next({fileName:o,container:e,url:H}),c.complete()):(c.error("Container not found!"),c.complete())};return setTimeout(()=>{const H=e?.querySelector("canvas");if(H){f("png");const ct=o?o?.split(".")?.slice(-1)?.toString():"png";H.toBlob(gt=>G(URL.createObjectURL(gt)),"image/"+ct)}else{const ct=e?.querySelector("svg");if(ct){f("svg");const _t=new Blob([ct.outerHTML],{type:"image/svg+xml;charset=utf-8"}),Lt=URL.createObjectURL(_t);G(Lt)}else G("")}},i),c}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y=(()=>{class n{constructor(e,o){this.canvas=e,this.service=o,this.template="default",this.scale=0,this.rotate=0}ngOnInit(){this.canvas&&(this.template&&(this.config={...this.config,template:this.template}),this.type&&(this.config={...this.config,type:this.type}),this.shape&&(this.config={...this.config,shape:this.shape}),this.width&&(this.config={...this.config,width:this.width}),this.height&&(this.config={...this.config,height:this.height}),this.margin&&(this.config={...this.config,margin:this.margin}),this.data&&(this.config={...this.config,data:this.data}),this.image&&(this.config={...this.config,image:this.image}),this.scale&&(this.config={...this.config,scale:this.scale}),this.rotate&&(this.config={...this.config,rotate:this.rotate}),this.frameOptions&&(this.config={...this.config,frameOptions:this.frameOptions}),this.qrOptions&&(this.config={...this.config,qrOptions:this.qrOptions}),this.imageOptions&&(this.config={...this.config,imageOptions:this.imageOptions}),this.dotsOptions&&(this.config={...this.config,dotsOptions:this.dotsOptions}),this.cornersSquareOptions&&(this.config={...this.config,cornersSquareOptions:this.cornersSquareOptions}),this.cornersDotOptions&&(this.config={...this.config,cornersDotOptions:this.cornersDotOptions}),this.backgroundOptions&&(this.config={...this.config,backgroundOptions:this.backgroundOptions}),this.create(this.config))}create(e){return this.service.create(e,this.canvas.nativeElement)}update(e,o){return this.service.update(e,o,this.canvas.nativeElement)}download(e,o=0){return this.service.download(this.canvas.nativeElement,e,o)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.SBq),t.Y36(C))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-qrcode-styling"]],inputs:{config:"config",template:"template",type:"type",shape:"shape",width:"width",height:"height",margin:"margin",data:"data",image:"image",scale:"scale",rotate:"rotate",frameOptions:"frameOptions",qrOptions:"qrOptions",imageOptions:"imageOptions",dotsOptions:"dotsOptions",cornersSquareOptions:"cornersSquareOptions",cornersDotOptions:"cornersDotOptions",backgroundOptions:"backgroundOptions"},ngContentSelectors:Vt,decls:1,vars:0,template:function(o,i){1&o&&(t.F$t(),t.Hsn(0))},encapsulation:2})}return n})(),k=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[C]})}return n})();function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(i){const f=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.readonly?v.noop():v.onStarClick(i,f))})("mousemove",function(i){const f=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.readonly?v.noop():v.onStarHover(i,f))}),t._UZ(1,"span",4),t.qZA()}if(2&n){const e=a.$implicit,o=t.oxw();t.Q6J("ngStyle",o.starPadding()),t.xp6(1),t.ekj("star-rtl",o.rtl),t.Q6J("ngClass",e.classname)("ngStyle",o.starColorAndSize())}}let I=(()=>{class n{constructor(){this.maxStars=5,this.initialStars=0,this.animationSpeed=100,this.wholeStars=!1,this.rtl=!1,this.ratingOutput=new t.vpe,this.customClassIdentifier=Math.random().toString(36).substring(2),this.safeSize=()=>Number.isInteger(this.size)&&this.size>0&&this.size<6?this.size:1}ngOnInit(){this.setupStarImages(),this.editableStars=Array.from(new Array(this.maxStars)).map((e,o)=>new S(o)),this.rtl&&(this.editableStars=this.editableStars.reverse()),this.setRating(this.initialStars),this.animation&&(this.animationInterval=setInterval(this.starAnimation.bind(this),this.animationSpeed))}ngOnDestroy(){this.customCssClasses&&this.customCssClasses.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)})}setupStarImages(){this.customStarIcons&&(this.customCssClasses=[],Object.keys(this.customStarIcons).map(e=>e).forEach(e=>{const o=this.getStarClass(e);this.createCssClass(o,e)}))}createCssClass(e,o){const i=document.createElement("style");i.type="text/css",i.innerHTML=`.${e} {\n      -webkit-mask-image: url(${this.customStarIcons[o]});\n      mask-image: url(${this.customStarIcons[o]});\n    }`,document.getElementsByTagName("head")[0].appendChild(i),this.customCssClasses.push(i)}starPadding(){return{"margin-right":this.customPadding||`calc(${this.starSize().width} / 10)`}}starColorAndSize(){return Object.assign({},this.starColor(),this.starSize())}starColor(){return{"background-color":this.color||"crimson"}}starSize(){return{height:this.customSize||15*this.safeSize()+"px",width:this.customSize||16*this.safeSize()+"px"}}zeroStarLeft(){return this.rtl?`calc(${this.starSize().width} * ${this.maxStars})`:"-16px"}starAnimation(){this.animationRunning=!0,this.setRating(this.rating<this.maxStars?this.rating+=.5:0)}cancelStarAnimation(){this.animationRunning&&(clearInterval(this.animationInterval),this.rating=0,this.animationRunning=!1)}setRating(e){this.rating=Math.round(2*e)/2,this.onStarsUnhover()}onStarHover(e,o){this.cancelStarAnimation();const i=this.clickedInFirstHalf(e);o.classname=this.getStarClass(!this.wholeStars&&i?"half":"full"),this.editableStars.forEach(c=>{c.position>o.position?c.classname=this.getStarClass("empty"):c.position<o.position&&(c.classname=this.getStarClass("full"))})}onStarClick(e,o){this.cancelStarAnimation();const i=this.clickedInFirstHalf(e);this.rating=o.position+(!this.wholeStars&&i?.5:1),this.ratingOutput.emit(this.rating)}onZeroStarClick(){this.setRating(0),this.ratingOutput.emit(this.rating)}onZeroStarHover(){this.editableStars.forEach(e=>e.classname=this.getStarClass("empty"))}onStarsUnhover(){this.editableStars.forEach(e=>{const o=e.position+1;e.classname=this.getStarClass(this.rating>=o?"full":this.rating>o-1&&this.rating<o?"half":"empty")})}clickedInFirstHalf(e){const o=e.target;return this.rtl?e.pageX>o.getBoundingClientRect().right-o.offsetWidth/2:e.pageX<o.getBoundingClientRect().left+o.offsetWidth/2}noop(){}getStarClass(e){return this.customCssClasses?`ngx-stars-star-${e}-${this.customClassIdentifier}`:`star-${e}`}getAriaLabel(){return`Rating: ${this.rating} out of ${this.maxStars} stars ${this.readonly?"":". Can be edited."}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-stars"]],inputs:{maxStars:"maxStars",initialStars:"initialStars",readonly:"readonly",size:"size",customSize:"customSize",color:"color",animation:"animation",animationSpeed:"animationSpeed",customPadding:"customPadding",wholeStars:"wholeStars",customStarIcons:"customStarIcons",rtl:"rtl"},outputs:{ratingOutput:"ratingOutput"},decls:3,vars:5,consts:[["role","img",1,"stars-line",3,"mouseleave"],["aria-hidden","true",1,"star","zero-star",3,"ngStyle","click","mousemove"],["aria-hidden","true",3,"ngStyle","click","mousemove",4,"ngFor","ngForOf"],["aria-hidden","true",3,"ngStyle","click","mousemove"],["aria-hidden","true",1,"star",3,"ngClass","ngStyle"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("mouseleave",function(){return o.readonly?o.noop():o.onStarsUnhover()}),t.TgZ(1,"span",1),t.NdJ("click",function(){return o.readonly?o.noop():o.onZeroStarClick()})("mousemove",function(){return o.readonly?o.noop():o.onZeroStarHover()}),t.qZA(),t.YNc(2,O,2,5,"div",2),t.qZA()),2&e&&(t.uIk("aria-label",o.getAriaLabel()),t.xp6(1),t.Udp("left",o.zeroStarLeft()),t.Q6J("ngStyle",o.starSize()),t.xp6(1),t.Q6J("ngForOf",o.editableStars))},dependencies:[Q.mk,Q.sg,Q.PC],styles:[".stars-line[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.stars-line[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{z-index:999}.zero-star[_ngcontent-%COMP%]{color:transparent;position:absolute}.star[_ngcontent-%COMP%]{display:inline-block;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat}.star-rtl[_ngcontent-%COMP%]{transform:scaleX(-1)}.star-empty[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z'%3E%3C/path%3E%3C/svg%3E%0A\");mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='far' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z'%3E%3C/path%3E%3C/svg%3E%0A\")}.star-half[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3C!-- had to hack this one's viewbox otherwise it didn't line up with the other two --%3E%3C!-- changed viewbox from '0 0 536 512' to '-20 0 576 512' --%3E%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star-half-alt' class='svg-inline--fa fa-star-half-alt fa-w-17' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='-20 0 576 512'%3E%3Cpath fill='currentColor' d='M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z'%3E%3C/path%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3C!-- had to hack this one's viewbox otherwise it didn't line up with the other two --%3E%3C!-- changed viewbox from '0 0 536 512' to '-20 0 576 512' --%3E%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star-half-alt' class='svg-inline--fa fa-star-half-alt fa-w-17' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='-20 0 576 512'%3E%3Cpath fill='currentColor' d='M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z'%3E%3C/path%3E%3C/svg%3E\")}.star-full[_ngcontent-%COMP%]{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z'%3E%3C/path%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg aria-hidden='true' focusable='false' data-prefix='fas' data-icon='star' class='svg-inline--fa fa-star fa-w-18' role='img' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512'%3E%3Cpath fill='currentColor' d='M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z'%3E%3C/path%3E%3C/svg%3E\")}"]}),n})();class S{constructor(a){this.position=a}}let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Q.ez]}),n})();var at=j(9116),T=j(3790),r=j(6621),l=j(3750);let d=(()=>{class n{constructor(e,o,i,c,f,v){this.apicall=e,this.transport=o,this.router=i,this.activeRoute=c,this.configService=f,this.document=v,this.config={width:180,height:180,data:"http://localhost:4200/#/view-ticket-thread",image:"assets/images/logo.png",margin:0,dotsOptions:{color:"#000000",type:"dots"},backgroundOptions:{color:"#CF1B22"},imageOptions:{crossOrigin:"anonymous",margin:0}}}get(){return this.config.data=this.document.location.protocol+"//"+this.document.location.host+"/#"+this.router.url,this.config.image=this.configService.get("logo")||"assets/images/logo.png",this.config.backgroundOptions.color=this.configService.get("captchaBg")||"#ffffff",this.config.dotsOptions.color=this.configService.get("captchaColor")||"#000000",console.log("url: ",this.config),console.log("protocol: ",this.document.location.protocol),this.config}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(T.b),t.LFG(r.t),t.LFG(R.F0),t.LFG(R.gz),t.LFG(l.E4),t.LFG(Q.K0))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p=j(6426),g=j(6990);let h=(()=>{class n{constructor(e,o,i,c){this.apicall=e,this.transport=o,this.router=i,this.auth=c}putData(e,o){Object.keys(o).forEach(i=>{e.append(i,o[i])})}notes(e){this.transport.progress=!0,this.apicall.post("/ticket/save/note",e).subscribe({next:o=>{console.log(o),this.transport.alert={message:"registerTicketSuccess",type:"info"}},complete:()=>{setTimeout(()=>this.transport.progress=!1,3e3)}})}create(e,o,i,c){this.transport.progress=!0,this.apicall.post("/ticket/save",e).subscribe({next:f=>{this.transport.alert={message:"registerTicketSuccess",type:"info"},this.auth.isLogin()?g.isEqual(o,"ticket")?this.router.navigate(["/ticket/register-ticket-success",f.ticketId],{queryParams:{lang:i,header:c}}):this.router.navigate(["/register-ticket/register-ticket-success",f.ticketId],{queryParams:{lang:i,header:c}}):this.router.navigate(["/ticket/register-ticket-success",f.ticketId],{queryParams:{lang:i,header:c}})},complete:()=>{setTimeout(()=>this.transport.progress=!1,3e3)}})}update(e){this.transport.progress=!0,this.apicall.put("/ticket/save",e).subscribe({next:()=>(this.transport.alert={message:"registerTicketSuccess",type:"info"},this.router.navigate(["/register-ticket-success"])),complete:()=>{setTimeout(()=>this.transport.progress=!1,3e3)}})}get(e){return this.apicall.get(`/ticket/${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(T.b),t.LFG(r.t),t.LFG(R.F0),t.LFG(p.e))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b=j(4119),s=j(5561);function m(n,a){}function u(n,a){}function _(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i._location.back())}),t._UZ(1,"cds-icon",12),t.qZA(),t._uU(2," \xa0 ")}}function x(n,a){if(1&n&&(t.TgZ(0,"div",13)(1,"p"),t._uU(2,"A message and email along with Ticket ID and link is sent to registered contact number "),t.TgZ(3,"span",14),t._uU(4),t.qZA(),t._uU(5," and email ID "),t.TgZ(6,"span",14),t._uU(7),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(4),t.AsE("",e.cnf.get("countryCode")," ",e.ticket.mobileNumber,""),t.xp6(3),t.Oqu(e.ticket.emailAddress)}}const q=function(){return["TICKET_SSYSADMIN"]};function L(n,a){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4",7),t.YNc(5,u,0,0,"ng-template",8),t.YNc(6,_,3,0,"ng-template",null,9,t.W1O),t._uU(8),t.ALo(9,"translate"),t.qZA()()()(),t.YNc(10,x,8,3,"div",10),t.qZA()),2&n){const e=t.MAs(7),o=t.oxw();t.xp6(5),t.Q6J("ngxPermissionsOnly",t.DdM(6,q))("ngxPermissionsOnlyElse",e),t.xp6(3),t.hij(" ",t.lcZ(9,4,"ticket.pageTitle.success")," "),t.xp6(2),t.Q6J("ngIf",o.ticket.mobileNumber)}}function w(n,a){1&n&&t._UZ(0,"div")}function D(n,a){1&n&&t._UZ(0,"div")}const U=function(){return["/register-ticket"]};function Y(n,a){if(1&n&&(t.TgZ(0,"button",39),t._uU(1," Register New Ticket "),t.qZA(),t.TgZ(2,"a",40),t._uU(3," Back to Home "),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("routerLink",t.DdM(2,U)),t.xp6(2),t.Q6J("href",e.eirsportallink,t.LSH)}}const V=function(){return["/ticket/register-ticket"]},J=function(){return["/ticket"]};function P(n,a){1&n&&(t.TgZ(0,"button",39),t._uU(1," Register New Ticket "),t.qZA(),t.TgZ(2,"button",39),t._uU(3," Back to Home "),t.qZA()),2&n&&(t.Q6J("routerLink",t.DdM(2,V)),t.xp6(2),t.Q6J("routerLink",t.DdM(3,J)))}function E(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h4",7),t._uU(5," Support Ticket "),t.qZA()()()(),t.TgZ(6,"div",13)(7,"div",19)(8,"div",20)(9,"div",21)(10,"div",22)(11,"div",23),t._uU(12," Ticket Successfully! Registered "),t.qZA(),t.TgZ(13,"div",24)(14,"div",25)(15,"p",26),t._uU(16),t.qZA(),t.TgZ(17,"p",26),t._uU(18," Scan this QR code to check the status of your registered ticket and Download QR for future use. "),t.qZA(),t.TgZ(19,"p",27),t._uU(20," !Please note this ID for future use! "),t.qZA()()()(),t.TgZ(21,"div",28)(22,"div",29),t._uU(23),t.qZA(),t.TgZ(24,"div",30),t._UZ(25,"ngx-qrcode-styling",31,32),t.qZA(),t.TgZ(27,"div",33)(28,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(26),c=t.oxw(2);return t.KtG(c.onDownload(i))}),t._uU(29,"Download QR"),t.qZA()()()(),t.TgZ(30,"div",35)(31,"div",36),t.YNc(32,D,1,0,"div",15),t.YNc(33,Y,4,3,"ng-template",null,37,t.W1O),t.YNc(35,P,4,4,"ng-template",null,38,t.W1O),t.qZA()()()()()()}if(2&n){const e=t.MAs(34),o=t.MAs(36),i=t.oxw(2);t.xp6(16),t.hij(" Your Ticket registered successfully with the Ticket id ",i.ticketId,". This Ticket ID sent to your registered contact number and email ID. "),t.xp6(7),t.hij(" Ticket ID: ",i.ticketId," "),t.xp6(2),t.Q6J("config",i.config),t.xp6(7),t.Q6J("ngIf",i.eirsportallink)("ngIfThen",e)("ngIfElse",o)}}function F(n,a){1&n&&t._UZ(0,"div")}function vt(n,a){if(1&n&&(t.TgZ(0,"a",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("href",e.eirsportallink,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(2,2,"button.backToHome")," ")}}function et(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i._location.back())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"button.backToHome")," "))}const B=function(n){return{ticketId:n}},nt=function(n,a){return{lang:n,header:a}};function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",42)(8,"div",25)(9,"p",26),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"p",26),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"p",27),t._uU(16),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",28)(19,"div",29),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",30),t._UZ(23,"ngx-qrcode-styling",31,32),t.qZA(),t.TgZ(25,"div",33)(26,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(24),c=t.oxw(2);return t.KtG(c.onDownload(i))}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()(),t.TgZ(29,"div",35)(30,"div",36)(31,"button",43),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.YNc(34,F,1,0,"div",15),t.YNc(35,vt,3,4,"ng-template",null,37,t.W1O),t.YNc(37,et,3,3,"ng-template",null,38,t.W1O),t.qZA()()()()}if(2&n){const e=t.MAs(36),o=t.MAs(38),i=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,14,"ticket.success.title1")," "),t.xp6(5),t.hij(" ",t.xi3(11,16,"ticket.success.message",t.VKq(29,B,i.ticketId))," "),t.xp6(3),t.hij(" ",t.lcZ(14,19,"ticket.success.instructions")," "),t.xp6(3),t.hij(" ",t.lcZ(17,21,"ticket.success.note")," "),t.xp6(4),t.AsE(" ",t.lcZ(21,23,"ticket.success.title2"),": ",i.ticketId," "),t.xp6(3),t.Q6J("config",i.config),t.xp6(4),t.Oqu(t.lcZ(28,25,"button.downloadQR")),t.xp6(4),t.Q6J("routerLink",t.DdM(31,U))("queryParams",t.WLB(32,nt,i.lang,i.header)),t.xp6(1),t.hij(" ",t.lcZ(33,27,"button.registerNewTicket")," "),t.xp6(2),t.Q6J("ngIf",i.eirsportallink)("ngIfThen",e)("ngIfElse",o)}}function ot(n,a){if(1&n&&(t.YNc(0,w,1,0,"div",15),t.YNc(1,E,37,6,"ng-template",null,16,t.W1O),t.YNc(3,K,39,35,"ng-template",null,17,t.W1O)),2&n){const e=t.MAs(2),o=t.MAs(4),i=t.oxw();t.Q6J("ngIf",i.authService.isLogin())("ngIfThen",e)("ngIfElse",o)}}let st=(()=>{class n{constructor(e,o,i,c,f,v,G,H,ct,gt,_t){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.router=f,this.authService=v,this.qrcodeService=G,this.ticketService=H,this._location=ct,this.permissionService=gt,this.cnf=_t,this.imei={},this.cancel=!1,this.config={},this.ticket={},this.eirsportallink="",this.lang="en",this.header="yes",this.authService.isLogin()||this.permissionService.addPermission("TICKET_SSYSADMIN"),this.ticketId=this.route.snapshot.paramMap.get("ticketId")||"",this.authService.isLogin()||this.apicall.get("/config/frontend").subscribe({next:Lt=>{this.eirsportallink=Lt.eirsPortalLink}}),this.route.queryParams.subscribe(Lt=>{this.lang=Lt.lang||"en",this.header=Lt.header||"yes"})}ngOnDestroy(){this.permissionService.removePermission("TICKET_SSYSADMIN")}ngOnInit(){this.ticketService.get(this.ticketId).subscribe({next:e=>this.ticket=e.data}),this.config=this.qrcodeService.get()}onSubmit(e){console.log(e)}onOtpChange(e){console.log(e)}onDownload(e){e.download().subscribe(o=>{console.log("download:",o)})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(R.F0),t.Y36(p.e),t.Y36(d),t.Y36(h),t.Y36(Q.Ye),t.Y36(X.YI),t.Y36(l.E4))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-register-ticket-success"]],decls:5,vars:4,consts:[[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen","ngxPermissionsOnlyElse"],["registered",""],["public",""],[1,"card","shadow-none","border",2,"min-height","85vh"],[1,"card-header"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-6",2,"margin-top","5px"],[1,"card-title","text-capitalize"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyElse"],["cc",""],["class","card-block m-1 p-1",4,"ngIf"],["href","Javascript:void(0)",3,"click"],["shape","arrow","direction","left","solid","true","size","md",1,"text-black"],[1,"card-block","m-1","p-1"],[1,"fw-bold"],[4,"ngIf","ngIfThen","ngIfElse"],["login",""],["logout",""],[1,"card","shadow-none","border",2,"min-height","72vh"],[1,"row","justify-content-center","m-0","p-0","mt-5","bg-white",2,"min-height","85vh"],[1,"col-sm-12","col-xs-12","col-md-10","col-lg-10","col-xl-10","col-xxl-10"],[1,"row"],[1,"col-sm-12","col-xs-12","col-md-6","col-lg-6","col-xl-6","col-xxl-6"],[1,"fst-normal","fs-6","h5","pb-1","mb-1","text-success","border-bottom","border-dark-subtle"],[1,"row","clr-justify-content-between"],[1,"col-12"],[1,"text-start"],[1,"text-start","h4","pb-1","mb-1","text-warning","font-bolder"],[1,"col-sm-12","col-xs-12","col-md-6","col-lg-6","col-xl-6","col-xxl-6","m-0","p-0"],[1,"fst-normal","fs-6","h5","text-center",2,"color","#1E4076"],[1,"text-center","p-0","m-0"],[3,"config"],["qrcode",""],[1,"text-primary","text-center","font-bold"],[1,"btn","btn-link","m-0","p-0",3,"click"],[1,"row","justify-content-lg-between","justify-content-sm-center","justify-content-xs-center"],[1,"col-sm-12","col-xs-12","col-md-12","col-lg-12","col-xl-12","col-xxl-12"],["eirs",""],["self",""],["type","button",1,"btn","btn-primary",3,"routerLink"],["type","button",1,"btn","btn-primary",3,"href"],[1,"row","justify-content-center","m-0","p-0","mt-5","bg-white",2,"min-height","72vh"],[1,"row","justify-content-between"],["type","button",1,"btn","btn-primary",3,"routerLink","queryParams"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,i){if(1&o&&(t.YNc(0,m,0,0,"ng-template",0),t.YNc(1,L,11,7,"ng-template",null,1,t.W1O),t.YNc(3,ot,5,3,"ng-template",null,2,t.W1O)),2&o){const c=t.MAs(2),f=t.MAs(4);t.Q6J("ngxPermissionsOnly",t.DdM(3,q))("ngxPermissionsOnlyThen",f)("ngxPermissionsOnlyElse",c)}},dependencies:[y,Q.O5,s.nkF,R.rH,X.gE,b.X$]})}return n})();var it=j(5844);const ht=function(){return{length:4}};let qt=(()=>{class n extends it.v{constructor(e){super(),this.apicall=e,this.loading=!0,this.selected=[],this.open=!1,this.otpModel={otp:""},this.verifyEvent=new t.vpe,this.countdown="00",this.finished=!1}clearTimer(){this.countdown="00",this.finished=!1,clearInterval(this.timerobj)}openTimer(){this.timer(1),setTimeout(()=>this.open=!0,100)}sendOtp(){this.finished=!1,this.apicall.get(`/otp/send/${this.mobileNumber}`).subscribe({next:e=>{console.log("result: ",e),this.timer(1)}})}onSubmit(e){console.log(e.value),console.log(this.otpModel),this.otpModel.mobileNumber=this.mobileNumber,this.verifyOtp()}onOtpChange(e){console.log(e),this.otpModel.otp=e}verifyOtp(){this.apicall.post("/otp/verify",this.otpModel).subscribe({next:e=>{console.log("result: ",e),g.has(e,"verifyOtpSuccess")?this.verifyEvent.emit(!0):this.verifyEvent.emit(!1)}})}timer(e){let o=60*e,i="0",c=60;const f=e<10?"0":"";this.timerobj=setInterval(()=>{o--,0!=c?c--:c=59,i=c<10?"0"+c:c,this.countdown=`${f}${Math.floor(o/60)}:${i}`,0==o&&(clearInterval(this.timerobj),this.finished=!0)},1e3)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T.b))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-verify-ticket-otp"]],inputs:{mobileNumber:"mobileNumber",ticketid:"ticketid"},outputs:{verifyEvent:"verifyEvent"},features:[t.qOj],decls:34,vars:7,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalOpenChange"],[1,"modal-body"],["clrForm","","clrLayout","vertical",1,"m-0","p-0",3,"ngSubmit"],["f","ngForm"],[1,"text-center"],[1,"blockquote"],[1,"fs-5","fw-bold",2,"color","#1E4076"],[1,"blockquote-footer","m-0","p-0","mt-1"],["title","Source Title"],[1,"m-0","p-0"],[1,"clr-row"],[1,"clr-col-12","text-center","m-0","p-0"],[3,"config","onInputChange"],[1,"clr-row","mt-3"],["type","submit",1,"btn","btn-primary","btn-block","m-0","p-0"],[1,"clr-row","clr-justify-content-center","m-0","p-0"],[1,"clr-col-4","m-0","p-0"],["type","button",1,"btn","btn-link","m-0","p-0",3,"disabled","click"],[1,"clr-col-4","text-end","m-0","p-0"],["type","button",1,"btn","btn-link","m-0","p-0",3,"click"],[1,"clr-row","clr-justify-content-center"],[1,"m-0","p-0","text-primary"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"clr-modal",0),t.NdJ("clrModalOpenChange",function(v){return i.open=v}),t.TgZ(1,"div",1)(2,"form",2,3),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(3);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(4,"figure",4)(5,"blockquote",5)(6,"h3")(7,"small",6),t._uU(8,"View Ticket Status"),t.qZA()()(),t.TgZ(9,"figcaption",7),t._uU(10," SMS verify code sent to phone number "),t.TgZ(11,"cite",8),t._uU(12),t.qZA(),t.TgZ(13,"p",9),t._uU(14,"Please enter the code to verify"),t.qZA()()(),t.TgZ(15,"div",10)(16,"div",11)(17,"ng-otp-input",12),t.NdJ("onInputChange",function(v){return i.onOtpChange(v)}),t.qZA()()(),t.TgZ(18,"div",13)(19,"div",11)(20,"button",14),t._uU(21," Verify "),t.qZA()()(),t.TgZ(22,"div",15)(23,"div",16)(24,"button",17),t.NdJ("click",function(){return i.sendOtp()}),t._uU(25," Resend "),t.qZA()(),t.TgZ(26,"div",18)(27,"button",19),t.NdJ("click",function(){return i.open=!1}),t._uU(28," Back "),t.qZA()()(),t.TgZ(29,"div",20)(30,"div",16)(31,"p",21),t._uU(32),t.qZA()(),t._UZ(33,"div",18),t.qZA()()()()}2&o&&(t.Q6J("clrModalOpen",i.open)("clrModalStaticBackdrop",!1),t.xp6(12),t.hij("+855 ",i.mobileNumber,""),t.xp6(5),t.Q6J("config",t.DdM(6,ht)),t.xp6(7),t.Q6J("disabled",!i.finished),t.xp6(8),t.hij("Time remaining: 00:",i.countdown,""))},dependencies:[$,M._Y,M.JL,M.F,s.qAN,s.VLi,s.YAP,s.mIp]})}return n})();var jt=j(547),At=j(1538);const Ht=function(n){return["/check-ticket-status/ticket-thread",n]};function ae(n,a){if(1&n&&(t.TgZ(0,"clr-dg-row",5)(1,"clr-dg-cell"),t._uU(2),t.qZA(),t.TgZ(3,"clr-dg-cell"),t._uU(4),t.qZA(),t.TgZ(5,"clr-dg-cell"),t._uU(6),t.qZA(),t.TgZ(7,"clr-dg-cell"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"clr-dg-cell"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"clr-dg-cell",6),t._uU(14),t.qZA(),t.TgZ(15,"clr-dg-cell",6),t._uU(16),t.qZA(),t.TgZ(17,"clr-dg-cell",7)(18,"button",8),t._UZ(19,"cds-icon",9),t.qZA()()()),2&n){const e=a.$implicit;t.Q6J("clrDgItem",e),t.xp6(2),t.hij("G",e.ticketId,""),t.xp6(2),t.Oqu(e.mobileNumber),t.xp6(2),t.Oqu(e.issue.subject),t.xp6(2),t.Oqu(t.xi3(9,9,e.issue.createdOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(t.xi3(12,12,e.issue.updatedOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(e.raisedBy),t.xp6(2),t.Oqu(e.issue.status.name),t.xp6(2),t.Q6J("routerLink",t.VKq(15,Ht,e.ticketId))}}const Ot=function(){return[10,20,50,100]};let Wt=(()=>{class n extends it.v{constructor(e,o,i,c,f,v){super(),this.deviceService=e,this.cdRef=o,this.translate=i,this.apicall=c,this.exportService=f,this.router=v,this.loading=!0,this.selected=[]}refresh(e){this.loading=!0,this.state=e,this.applyFilter({contactNumber:this.mobileNumber}),this.cdRef.detectChanges(),this.apicall.post("/ticket/pagination",e).subscribe({next:o=>{this.tickets=o.content,this.total=o.totalElements,this.loading=!1,1===this.total&&this.router.navigate(["/view-ticket-thread",this.tickets[0].ticketId]),this.cdRef.detectChanges()},error:o=>this.loading=!1,complete:()=>{this.loading=!1,this.cdRef.detectChanges()}})}deleteRecord(e){this.apicall.delete(`/group/${e.id}`).subscribe({next:o=>{console.log("result:",o)},error:o=>this.loading=!1,complete:()=>{console.log("completed"),this.refresh(this.state)}})}openClose(e){this.open=e,e&&this.selectedData.length>0&&this.selectedData.forEach(o=>this.deleteRecord(o))}export(e){const o=g.cloneDeep(e);o&&o.page&&(o.page.size=1e3),this.apicall.post("/group/pagination",o).subscribe({next:i=>{this.exportService.groups(i.content,`groups-${(new Date).getMilliseconds()}`,{showLabels:!0,headers:["ID","Created On","Group Name","Parent Group Name"]})}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(At.U),t.Y36(t.sBO),t.Y36(b.sK),t.Y36(T.b),t.Y36(jt.T),t.Y36(R.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-list-by-user"]],inputs:{mobileNumber:"mobileNumber",ticketid:"ticketid"},features:[t.qOj],decls:32,vars:33,consts:[[1,"datagrid-compact","mt-2",3,"clrDgLoading","clrDgRefresh"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[3,"clrDgItem"],[1,"text-truncate"],[1,"m-0","p-0"],[1,"btn","btn-link","btn-icon","btn-sm","m-0","m-0",3,"routerLink"],["shape","eye"]],template:function(o,i){if(1&o&&(t.TgZ(0,"clr-datagrid",0),t.NdJ("clrDgRefresh",function(f){return i.refresh(f)}),t.TgZ(1,"clr-dg-column"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"clr-dg-column"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"clr-dg-column"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"clr-dg-column"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"clr-dg-column"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"clr-dg-column"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"clr-dg-column"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"clr-dg-column"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.YNc(25,ae,20,17,"clr-dg-row",1),t.TgZ(26,"clr-dg-footer")(27,"clr-dg-pagination",2,3)(29,"clr-dg-page-size",4),t._uU(30,"Tickets per page"),t.qZA(),t._uU(31),t.qZA()()()),2&o){const c=t.MAs(28);t.Q6J("clrDgLoading",i.loading),t.xp6(2),t.Oqu(t.lcZ(3,16,"datalist.ticketId")),t.xp6(3),t.Oqu(t.lcZ(6,18,"datalist.phone")),t.xp6(3),t.Oqu(t.lcZ(9,20,"datalist.subject")),t.xp6(3),t.Oqu(t.lcZ(12,22,"datalist.createDate")),t.xp6(3),t.Oqu(t.lcZ(15,24,"datalist.modifiedDate")),t.xp6(3),t.Oqu(t.lcZ(18,26,"datalist.raisedBy")),t.xp6(3),t.Oqu(t.lcZ(21,28,"datalist.status")),t.xp6(3),t.Oqu(t.lcZ(24,30,"datalist.action")),t.xp6(2),t.Q6J("ngForOf",i.tickets),t.xp6(2),t.Q6J("clrDgPageSize",10)("clrDgTotalItems",i.total),t.xp6(2),t.Q6J("clrPageSizeOptions",t.DdM(32,Ot)),t.xp6(2),t.lnq(" ",c.firstItem+1," - ",c.lastItem+1," of ",c.totalItems," Tickets ")}},dependencies:[Q.sg,s.C9t,s.fv_,s.m4W,s.dRQ,s.YYR,s.Ltv,s.Z4N,s.jND,s.KHL,s.PDs,s.Gcc,s.dml,s.Nh1,s.K8c,s.nkF,R.rH,Q.uU,b.X$],encapsulation:2})}return n})();function Dt(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.mobileNumber.error")))}function Ut(n,a){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,Dt,3,3,"div",24),t.qZA()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function $t(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.ticketId.error")))}function Xt(n,a){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,$t,3,3,"div",24),t.qZA()),2&n){t.oxw();const e=t.MAs(29);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function Jt(n,a){if(1&n&&t._UZ(0,"ceirpanel-ticket-list-by-user",25),2&n){const e=t.oxw();t.Q6J("mobileNumber",e.ticket.mobileNumber)}}const ue=function(n){return{"is-invalid":n}};let qe=(()=>{class n{constructor(e,o){this.apicall=e,this.router=o,this.imei={},this.cancel=!1,this.ticket={},this.verified=!1}ngOnInit(){console.log()}onSubmit(e){this.verified=!1,g.isEmpty(this.ticket.mobileNumber)&&!g.isEmpty(this.ticket.ticketId)?this.apicall.get(`/ticket/${this.ticket.ticketId}`).subscribe({next:o=>{g.isEmpty(o)||this.router.navigate(["/check-ticket-status/ticket-thread",this.ticket.ticketId])}}):g.isEmpty(this.ticket.mobileNumber)||(this.verifyOtp.mobileNumber=this.ticket.mobileNumber,this.verifyOtp.clearTimer(),setTimeout(()=>this.verifyOtp.openTimer(),10)),console.log(e)}onOtpChange(e){console.log(e)}getTicket(){this.apicall.get(`/ticket/${this.ticket.ticketId}`).subscribe({next:e=>{g.isEmpty(e)||(this.ticket=e,this.verifyOtp.open=!0,this.verifyOtp.mobileNumber=this.ticket.mobileNumber,this.sendOtp())}})}sendOtp(){this.apicall.get(`/otp/send/${this.ticket.mobileNumber}`).subscribe({next:e=>{console.log("result: ",e)}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T.b),t.Y36(R.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-check-ticket-status"]],viewQuery:function(o,i){if(1&o&&t.Gf(qt,5),2&o){let c;t.iGM(c=t.CRH())&&(i.verifyOtp=c.first)}},decls:38,vars:29,consts:[[1,"card","m-0","p-0","border","border-1","shadow-none",2,"min-height","85vh"],[1,"card-header"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-4",2,"margin-top","5px"],[1,"card-title","text-capitalize","text-black"],[1,"card-block","m-1","p-1"],["clrStepper","","clrForm","","clrLayout","vertical",1,"m-0","p-0",3,"ngSubmit"],["f","ngForm"],[1,"clr-row","m-0","p-0"],[1,"clr-col-3","m-0","p-0"],[1,"form-group"],["type","text","name","mobileNumber",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["mobileNumber","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"clr-col-1","mt-4","p-0"],[1,"ms-4"],[1,"clr-col-3"],["type","text","name","ticketId",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["ticketId","ngModel"],[1,"clr-col-3","mt-3"],["type","submit",1,"btn","btn-primary","btn-block"],[3,"verifyEvent"],[3,"mobileNumber",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[3,"mobileNumber"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(9);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",11,12),t.NdJ("ngModelChange",function(v){return i.ticket.mobileNumber=v}),t.ALo(18,"translate"),t.qZA(),t.YNc(19,Ut,2,1,"div",13),t.qZA()(),t.TgZ(20,"div",14)(21,"span",15),t._uU(22,"Or"),t.qZA()(),t.TgZ(23,"div",16)(24,"div",10)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",17,18),t.NdJ("ngModelChange",function(v){return i.ticket.ticketId=v}),t.ALo(30,"translate"),t.qZA(),t.YNc(31,Xt,2,1,"div",13),t.qZA()(),t.TgZ(32,"div",19)(33,"button",20),t._uU(34),t.ALo(35,"translate"),t.qZA()()()(),t.TgZ(36,"ceirpanel-verify-ticket-otp",21),t.NdJ("verifyEvent",function(v){return i.verified=v,i.verifyOtp.open=!1}),t.qZA(),t.YNc(37,Jt,1,1,"ceirpanel-ticket-list-by-user",22),t.qZA()()}if(2&o){const c=t.MAs(9),f=t.MAs(17),v=t.MAs(29);t.xp6(5),t.hij(" ",t.lcZ(6,13,"ticket.pageTitle.check")," "),t.xp6(9),t.Oqu(t.lcZ(15,15,"ticket.phone.label")),t.xp6(2),t.Q6J("ngModel",i.ticket.mobileNumber)("placeholder",t.lcZ(18,17,"ticket.phone.placeholder"))("ngClass",t.VKq(25,ue,c.submitted&&f.errors)),t.xp6(3),t.Q6J("ngIf",c.submitted&&f.errors),t.xp6(7),t.Oqu(t.lcZ(27,19,"ticket.ticketId.label")),t.xp6(2),t.Q6J("ngModel",i.ticket.ticketId)("placeholder",t.lcZ(30,21,"ticket.ticketId.placeholder"))("ngClass",t.VKq(27,ue,c.submitted&&v.errors)),t.xp6(3),t.Q6J("ngIf",c.submitted&&v.errors),t.xp6(3),t.hij(" ",t.lcZ(35,23,"button.search")," "),t.xp6(3),t.Q6J("ngIf",i.verified)}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.On,M.F,Q.mk,Q.O5,s.MgK,s.YAP,s.mIp,s.Ppb,s.cc2,qt,Wt,b.X$]})}return n})();var ee=j(3579);let Se=(()=>{class n{constructor(e){this.customValidator=e}validate(e){return this.customValidator.imeiValidator(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(ee.q))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","ceirpanelAppValidateImei",""]],features:[t._Bn([{provide:M.SD,useExisting:(0,t.Gpc)(()=>n),multi:!0}])]})}return n})();const pe=function(){return["/ticket/ticket-thread"]};let Le=(()=>{class n extends it.v{constructor(e,o,i,c,f){super(),this.deviceService=e,this.cdRef=o,this.translate=i,this.apicall=c,this.exportService=f,this.loading=!0}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(At.U),t.Y36(t.sBO),t.Y36(b.sK),t.Y36(T.b),t.Y36(jt.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-device-state"]],features:[t.qOj],decls:26,vars:4,consts:[[1,"table"],[1,"text-bg-info"],[1,"left","text-bg-info","text-white"],[1,"text-bg-info","text-white"],[1,"left"],[1,"btn","btn-link","btn-sm","m-0","p-0",3,"routerLink"],["shape","eye"]],template:function(o,i){1&o&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),t._uU(4,"Device State"),t.qZA(),t.TgZ(5,"th",3),t._uU(6,"Date"),t.qZA(),t.TgZ(7,"th",3),t._uU(8,"Status"),t.qZA()()(),t.TgZ(9,"tbody")(10,"tr")(11,"td",4),t._uU(12,"1"),t.qZA(),t.TgZ(13,"td"),t._uU(14,"1"),t.qZA(),t.TgZ(15,"td")(16,"button",5),t._UZ(17,"cds-icon",6),t.qZA()()(),t.TgZ(18,"tr")(19,"td",4),t._uU(20,"1"),t.qZA(),t.TgZ(21,"td"),t._uU(22,"1"),t.qZA(),t.TgZ(23,"td")(24,"button",5),t._UZ(25,"cds-icon",6),t.qZA()()()()()),2&o&&(t.xp6(16),t.Q6J("routerLink",t.DdM(2,pe)),t.xp6(8),t.Q6J("routerLink",t.DdM(3,pe)))},dependencies:[s.nkF,R.rH],styles:[".text-bg-info[_ngcontent-%COMP%]{background-color:#1e4076!important}"]})}return n})();const ge=function(){return["/ticket/ticket-thread"]};let Ie=(()=>{class n extends it.v{constructor(e,o,i,c,f){super(),this.deviceService=e,this.cdRef=o,this.translate=i,this.apicall=c,this.exportService=f,this.loading=!0}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(At.U),t.Y36(t.sBO),t.Y36(b.sK),t.Y36(T.b),t.Y36(jt.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-device-status"]],features:[t.qOj],decls:32,vars:4,consts:[[1,"table"],[1,"text-bg-info"],[1,"left","text-bg-info","text-white"],[1,"text-bg-info","text-white"],[1,"left"],[1,"btn","btn-link","btn-sm","m-0","p-0",3,"routerLink"],["shape","eye"]],template:function(o,i){1&o&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr")(3,"th",2),t._uU(4,"Status"),t.qZA(),t.TgZ(5,"th",3),t._uU(6,"Date"),t.qZA(),t.TgZ(7,"th",3),t._uU(8,"Status"),t.qZA(),t.TgZ(9,"th",3),t._uU(10,"View"),t.qZA()()(),t.TgZ(11,"tbody")(12,"tr")(13,"td",4),t._uU(14,"1"),t.qZA(),t.TgZ(15,"td"),t._uU(16,"1"),t.qZA(),t.TgZ(17,"td"),t._uU(18,"1"),t.qZA(),t.TgZ(19,"td")(20,"button",5),t._UZ(21,"cds-icon",6),t.qZA()()(),t.TgZ(22,"tr")(23,"td",4),t._uU(24,"1"),t.qZA(),t.TgZ(25,"td"),t._uU(26,"1"),t.qZA(),t.TgZ(27,"td"),t._uU(28,"1"),t.qZA(),t.TgZ(29,"td")(30,"button",5),t._UZ(31,"cds-icon",6),t.qZA()()()()()),2&o&&(t.xp6(20),t.Q6J("routerLink",t.DdM(2,ge)),t.xp6(10),t.Q6J("routerLink",t.DdM(3,ge)))},dependencies:[s.nkF,R.rH],styles:[".text-bg-info[_ngcontent-%COMP%]{background-color:#1e4076!important}"]})}return n})();function Ne(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"device.imei.error.required")))}function De(n,a){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,Ne,3,3,"div",28),t.qZA()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function Ue(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"device.imei.error.imeiNotExist")))}function Je(n,a){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,Ue,3,3,"div",28),t.qZA()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngIf",e.errors.imeiNotExist)}}function Ee(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"device.imsi.error.required")))}function Qe(n,a){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,Ee,3,3,"div",28),t.qZA()),2&n){t.oxw();const e=t.MAs(27);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}const me=function(n){return{"is-invalid":n}};let Ye=(()=>{class n{constructor(e,o,i,c,f){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.router=f,this.device={},this.cancel=!1}ngOnInit(){console.log()}onSubmit(e){console.log(e)}onOtpChange(e){console.log(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(R.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-search-imei-result"]],decls:102,vars:89,consts:[[1,"card"],[1,"card-header"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-4",2,"margin-top","5px"],[1,"card-title","text-capitalize"],[1,"card-block","m-1","p-1"],["clrForm","","clrLayout","vertical","novalidate","",1,"m-0","p-0",3,"ngSubmit"],["f","ngForm"],[1,"clr-row","m-0","p-0"],[1,"clr-col-3","mt-3"],[1,"form-group"],["id","imei","name","imei","required","","ceirpanelAppValidateImei","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["imeiStr","ngModel"],["class","invalid-feedback",4,"ngIf"],["name","imsi","required","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["imsi","ngModel"],["id","msisdn","name","msisdn",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],[1,"clr-break-row"],["name","msisdn",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],["name","os",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],["name","brandName",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],["name","manufacturer",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],["name","deviceStatus",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],[1,"clr-row","m-0","p-0","mt-3"],[1,"clr-col-12"],[1,"card-title","text-capitalize","m-0","p-0"],[1,"clr-col-6"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(9);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"input",11,12),t.NdJ("ngModelChange",function(v){return i.device.deviceId=v}),t.ALo(18,"translate"),t.qZA(),t.YNc(19,De,2,1,"div",13),t.YNc(20,Je,2,1,"div",13),t.qZA()(),t.TgZ(21,"div",9)(22,"div",10)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"input",14,15),t.NdJ("ngModelChange",function(v){return i.device.deviceId=v}),t.ALo(28,"translate"),t.qZA(),t.YNc(29,Qe,2,1,"div",13),t.qZA()(),t.TgZ(30,"div",9)(31,"div",10)(32,"label"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"input",16),t.NdJ("ngModelChange",function(v){return i.device.deviceId=v}),t.ALo(36,"translate"),t.qZA()()(),t._UZ(37,"div",17),t.TgZ(38,"div",9)(39,"div",10)(40,"label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"input",18),t.NdJ("ngModelChange",function(v){return i.device.userType=v}),t.ALo(44,"translate"),t.qZA()()(),t.TgZ(45,"div",9)(46,"div",10)(47,"label"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"input",19),t.NdJ("ngModelChange",function(v){return i.device.os=v}),t.ALo(51,"translate"),t.qZA()()(),t.TgZ(52,"div",9)(53,"div",10)(54,"label"),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"input",20),t.NdJ("ngModelChange",function(v){return i.device.brandName=v}),t.ALo(58,"translate"),t.qZA()()(),t.TgZ(59,"div",9)(60,"div",10)(61,"label"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"input",18),t.NdJ("ngModelChange",function(v){return i.device.modelName=v}),t.ALo(65,"translate"),t.qZA()()(),t.TgZ(66,"div",9)(67,"div",10)(68,"label"),t._uU(69),t.ALo(70,"translate"),t.qZA(),t.TgZ(71,"input",18),t.NdJ("ngModelChange",function(v){return i.device.marketingName=v}),t.ALo(72,"translate"),t.qZA()()(),t.TgZ(73,"div",9)(74,"div",10)(75,"label"),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"input",21),t.NdJ("ngModelChange",function(v){return i.device.manufacturer=v}),t.ALo(79,"translate"),t.qZA()()(),t.TgZ(80,"div",9)(81,"div",10)(82,"label"),t._uU(83),t.ALo(84,"translate"),t.qZA(),t.TgZ(85,"input",22),t.NdJ("ngModelChange",function(v){return i.device.deviceStatus=v}),t.ALo(86,"translate"),t.qZA()()(),t.TgZ(87,"div",9)(88,"div",10)(89,"label"),t._uU(90),t.ALo(91,"translate"),t.qZA(),t.TgZ(92,"input",18),t.NdJ("ngModelChange",function(v){return i.device.organizationId=v}),t.ALo(93,"translate"),t.qZA()()()()(),t.TgZ(94,"div",23)(95,"div",24)(96,"h4",25),t._uU(97,"Device Status"),t.qZA()(),t.TgZ(98,"div",26),t._UZ(99,"ceirpanel-device-status"),t.qZA(),t.TgZ(100,"div",26),t._UZ(101,"ceirpanel-device-state"),t.qZA()()()()}if(2&o){const c=t.MAs(9),f=t.MAs(17),v=t.MAs(27);t.xp6(5),t.Oqu(t.lcZ(6,39,"device.pageTitle.view")),t.xp6(9),t.Oqu(t.lcZ(15,41,"device.imei.label")),t.xp6(2),t.Q6J("ngModel",i.device.deviceId)("placeholder",t.lcZ(18,43,"device.imei.placeholder"))("ngClass",t.VKq(85,me,c.submitted&&f.errors)),t.xp6(3),t.Q6J("ngIf",c.submitted&&f.errors),t.xp6(1),t.Q6J("ngIf",c.touched&&f.errors),t.xp6(4),t.Oqu(t.lcZ(25,45,"device.imsi.label")),t.xp6(2),t.Q6J("ngModel",i.device.deviceId)("placeholder",t.lcZ(28,47,"device.imsi.placeholder"))("ngClass",t.VKq(87,me,c.submitted&&v.errors)),t.xp6(3),t.Q6J("ngIf",c.submitted&&v.errors),t.xp6(4),t.Oqu(t.lcZ(34,49,"device.msisdn.label")),t.xp6(2),t.Q6J("ngModel",i.device.deviceId)("placeholder",t.lcZ(36,51,"device.msisdn.placeholder")),t.xp6(6),t.Oqu(t.lcZ(42,53,"device.userType.label")),t.xp6(2),t.Q6J("ngModel",i.device.userType)("placeholder",t.lcZ(44,55,"device.userType.placeholder")),t.xp6(5),t.Oqu(t.lcZ(49,57,"device.os.label")),t.xp6(2),t.Q6J("ngModel",i.device.os)("placeholder",t.lcZ(51,59,"device.os.placeholder")),t.xp6(5),t.Oqu(t.lcZ(56,61,"device.brandName.label")),t.xp6(2),t.Q6J("ngModel",i.device.brandName)("placeholder",t.lcZ(58,63,"device.brandName.placeholder")),t.xp6(5),t.Oqu(t.lcZ(63,65,"device.modelName.label")),t.xp6(2),t.Q6J("ngModel",i.device.modelName)("placeholder",t.lcZ(65,67,"device.modelName.placeholder")),t.xp6(5),t.Oqu(t.lcZ(70,69,"device.marketingName.label")),t.xp6(2),t.Q6J("ngModel",i.device.marketingName)("placeholder",t.lcZ(72,71,"device.marketingName.placeholder")),t.xp6(5),t.Oqu(t.lcZ(77,73,"device.manufacturer.label")),t.xp6(2),t.Q6J("ngModel",i.device.manufacturer)("placeholder",t.lcZ(79,75,"device.manufacturer.placeholder")),t.xp6(5),t.Oqu(t.lcZ(84,77,"device.deviceStatus.label")),t.xp6(2),t.Q6J("ngModel",i.device.deviceStatus)("placeholder",t.lcZ(86,79,"device.deviceStatus.placeholder")),t.xp6(5),t.Oqu(t.lcZ(91,81,"device.organizationId.label")),t.xp6(2),t.Q6J("ngModel",i.device.organizationId)("placeholder",t.lcZ(93,83,"device.organizationId.placeholder"))}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.Q7,M.On,M.F,Q.mk,Q.O5,s.MgK,s.YAP,s.mIp,Se,Le,Ie,b.X$]})}return n})();var ne=j(5522),Pe=j(6593);const he=function(n){return{"is-invalid":n}};let Fe=(()=>{class n{constructor(e,o,i,c,f,v){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.router=f,this.sanitizer=v,this.imei={imei:""},this.cancel=!1,this.url="https://www.youtube.com/embed/dQw4w9WgXcQ"}ngOnInit(){this.urlSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.url)}onSubmit(e){console.log(e),this.router.navigate(["/search-imei/result"])}onOtpChange(e){console.log(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(R.F0),t.Y36(Pe.H7))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-search-imei"]],decls:40,vars:32,consts:[[1,"card",2,"min-height","85vh"],[1,"card-header"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-4",2,"margin-top","5px"],[1,"card-title","text-capitalize"],[1,"card-block","m-1","p-1",2,"min-height","430px"],["clrForm","","clrLayout","vertical","novalidate","",1,"m-0","p-0",3,"ngSubmit"],["f","ngForm"],[1,"clr-row"],[1,"clr-col-4"],[1,"col-form-label","clr-required-mark"],["type","text","name","imei","required","",1,"form-control","form-control-sm",3,"ngModel","ngClass","placeholder","ngModelChange"],["imeiModel","ngModel"],[1,"invalid-feedback"],[1,"col-form-label"],["type","text","name","msisdn",1,"form-control","form-control-sm",3,"ngModel","ngClass","placeholder","ngModelChange"],["msisdnModel","ngModel"],[1,"clr-col-2",2,"margin-top","35px"],["type","submit",1,"btn","btn-primary","btn-block"],["type","button",1,"btn","btn-outline","btn-block",3,"click"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(9);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",11,12),t.NdJ("ngModelChange",function(v){return i.imei.imei=v}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",13)(19,"div"),t._uU(20,"IMEI is required"),t.qZA()()(),t.TgZ(21,"div",9)(22,"label",14),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",15,16),t.NdJ("ngModelChange",function(v){return i.imei.msisdn=v}),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",13)(29,"div"),t._uU(30),t.ALo(31,"translate"),t.qZA()()(),t.TgZ(32,"div",17)(33,"button",18),t._uU(34),t.ALo(35,"translate"),t.qZA()(),t.TgZ(36,"div",17)(37,"button",19),t.NdJ("click",function(){return i.cancel=!0}),t._uU(38),t.ALo(39,"translate"),t.qZA()()()()()()}if(2&o){const c=t.MAs(9),f=t.MAs(16),v=t.MAs(26);t.xp6(5),t.Oqu(t.lcZ(6,12,"imei.pageTitle.view")),t.xp6(8),t.Oqu(t.lcZ(14,14,"imei.imei.label")),t.xp6(2),t.Q6J("ngModel",i.imei.imei)("ngClass",t.VKq(28,he,c.submitted&&f.errors))("placeholder",t.lcZ(17,16,"imei.imei.placeholder")),t.xp6(8),t.Oqu(t.lcZ(24,18,"imei.msisdn.label")),t.xp6(2),t.Q6J("ngModel",i.imei.msisdn)("ngClass",t.VKq(30,he,c.submitted&&v.errors))("placeholder",t.lcZ(27,20,"imei.msisdn.placeholder")),t.xp6(5),t.Oqu(t.lcZ(31,22,"imei.msisdn.error.required")),t.xp6(4),t.Oqu(t.lcZ(35,24,"button.search")),t.xp6(4),t.Oqu(t.lcZ(39,26,"button.clear"))}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.Q7,M.On,M.F,Q.mk,s.MgK,s.YAP,s.mIp,b.X$]})}return n})(),Re=(()=>{class n{constructor(e){this.customValidator=e}validate(e){return this.customValidator.ticketIdValidator(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(ee.q))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","ceirpanelAppValidateTicketId",""]],features:[t._Bn([{provide:M.SD,useExisting:(0,t.Gpc)(()=>n),multi:!0}])]})}return n})();function Be(n,a){1&n&&(t.TgZ(0,"div",19)(1,"div",20)(2,"h3",21)(3,"small",22),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"ticket.viewTicket.title")))}function je(n,a){1&n&&t._UZ(0,"div")}function ze(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.viewTicket.error")))}function Ve(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.viewTicket.error")))}const _e=function(n,a){return{lang:n,header:a}};function Ke(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",26),t.YNc(3,ze,3,3,"div",27),t.YNc(4,Ve,3,3,"div",27),t.qZA(),t.TgZ(5,"div",28)(6,"button",29),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()),2&n){const e=t.oxw(2),o=t.MAs(13);t.xp6(3),t.Q6J("ngIf",o.errors.ticketIdNotExist),t.xp6(1),t.Q6J("ngIf",o.errors.required),t.xp6(2),t.Q6J("queryParams",t.WLB(6,_e,e.lang,e.header)),t.xp6(1),t.Oqu(t.lcZ(8,4,"ticket.viewTicket.forgot"))}}function Ge(n,a){if(1&n&&t.YNc(0,Ke,9,9,"div",23),2&n){t.oxw();const e=t.MAs(13);t.Q6J("ngIf",e.errors)}}function He(n,a){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"div",26),t.TgZ(2,"div",28)(3,"button",29),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("queryParams",t.WLB(4,_e,e.lang,e.header)),t.xp6(1),t.Oqu(t.lcZ(5,2,"ticket.viewTicket.forgot"))}}function We(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Captcha Required"),t.qZA())}function $e(n,a){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,We,2,0,"div",27),t.qZA()),2&n){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}const fe=function(n){return{"is-invalid":n}};function Xe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"re-captcha",33,34),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.captcha=i)}),t.qZA(),t.YNc(5,$e,2,1,"div",23),t.qZA()()()}if(2&n){const e=t.MAs(4),o=t.oxw(),i=t.MAs(5);t.xp6(3),t.Q6J("siteKey",o.siteKey)("ngModel",o.ticket.captcha)("ngClass",t.VKq(4,fe,i.submitted&&e.errors)),t.xp6(2),t.Q6J("ngIf",i.submitted&&e.errors)}}const tn=function(n){return{"border border-1":n}},en=function(){return{updateOn:"blur"}};let nn=(()=>{class n{constructor(e,o,i,c,f,v,G){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.router=f,this.transport=v,this.document=G,this.ticket={captcha:""},this.siteKey="",this.isLocalhost=!0,this.lang="en",this.header="yes",this.apicall.get("/config/frontend").subscribe({next:H=>{this.siteKey=H.siteKey}}),this.isLocalhost=this.document.location.host.includes("localhost"),this.route.queryParams.subscribe(H=>{this.lang=H.lang||"en",this.header=H.header||"yes"})}onResized(e){this.scale=e.newRect.width<302?e.newRect.width/302:1.2,this.scale=1.1}ngOnInit(){console.log()}onSubmit(e){console.log(e),e.invalid?this.clrForm.markAsTouched():this.apicall.get(`/ticket/${this.ticket.ticketId}`).subscribe({next:o=>{console.log("message:",o),g.isEqual(g.get(o,"message"),"notValidTicketId")?this.transport.alert={message:"notValidTicketId",type:"info"}:this.router.navigate(["ticket/ticket-thread",o.data.ticketId])}})}onOtpChange(e){console.log(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(R.F0),t.Y36(r.t),t.Y36(Q.K0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-view-ticket"]],viewQuery:function(o,i){if(1&o&&t.Gf(s.YAP,7),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first)}},decls:26,vars:24,consts:[[1,"row","justify-content-center","m-0","p-0",3,"resized"],[1,"col-lg-5","col-xl-5","col-xxl-5","col-md-8","col-sm-10","col-xs-12"],[1,"card","shadow-none","rounded"],[1,"card-block","shadow-none","rounded",3,"ngClass"],["clrStepper","","clrForm","","clrLayout","vertical","autocomplete","off",1,"m-0","p-0","row",2,"height","calc(100vh - 200px)",3,"ngSubmit"],["f","ngForm"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center","mt-4","m-0","p-0"],[1,"col-12","m-0","p-0","col-sm-12","col-xs-12","col-lg-9","col-xl-9"],[1,"col-form-label","clr-required-mark"],["type","text","placeholder","","name","ticketId","ceirpanelAppValidateTicketId","","required","",1,"form-control","form-control-sm",3,"ngModel","ngClass","placeholder","ngModelOptions","ngModelChange"],["ticketId","ngModel"],[4,"ngIf","ngIfThen","ngIfElse"],["error",""],["noerror",""],["class","row mt-2 justify-content-center m-0 p-0",4,"ngIf"],[1,"row","justify-content-center","m-0","p-0",3,"ngClass"],[1,"col-12","col-sm-12","col-xs-12","col-lg-9","col-xl-9","m-0","p-0"],["type","submit",1,"btn","btn-primary","btn-block","m-0","p-0",2,"display","block","width","100%"],[1,"row","justify-content-center"],[1,"col-12","m-0","p-0"],[1,"text-center"],[1,"fs-5","fw-bold","text-dark"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"row","justify-content-around"],[1,"col-6","m-0","p-0","mt-1"],[4,"ngIf"],[1,"col-4","text-end","m-0","p-0"],["type","button","routerLink","/forgot-ticket",1,"btn","btn-link","m-0","p-0","fw-bold",2,"color","#2F80ED",3,"queryParams"],[1,"row","mt-2","justify-content-center","m-0","p-0"],[1,"col-sm-12","col-xs-12","col-lg-9","m-0","p-0"],[1,"form-group",2,"transform-origin","0"],["name","captcha","required","",3,"siteKey","ngModel","ngClass","ngModelChange"],["captcha","ngModel"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0),t.NdJ("resized",function(v){return i.onResized(v)}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(5);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.YNc(6,Be,6,3,"div",6),t.TgZ(7,"div",7)(8,"div",8)(9,"label",9),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",10,11),t.NdJ("ngModelChange",function(v){return i.ticket.ticketId=v}),t.ALo(14,"translate"),t.qZA(),t.YNc(15,je,1,0,"div",12),t.YNc(16,Ge,1,1,"ng-template",null,13,t.W1O),t.YNc(18,He,6,7,"ng-template",null,14,t.W1O),t.qZA()(),t.YNc(20,Xe,6,6,"div",15),t.TgZ(21,"div",16)(22,"div",17)(23,"button",18),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()()()}if(2&o){const c=t.MAs(5),f=t.MAs(13),v=t.MAs(17),G=t.MAs(19);t.xp6(3),t.Q6J("ngClass",t.VKq(19,tn,"yes"===i.header)),t.xp6(3),t.Q6J("ngIf","yes"===i.header),t.xp6(4),t.Oqu(t.lcZ(11,13,"ticket.viewTicket.label")),t.xp6(2),t.Q6J("ngModel",i.ticket.ticketId)("ngClass",t.VKq(21,fe,c.submitted&&f.errors))("placeholder",t.lcZ(14,15,"ticket.viewTicket.placeholder"))("ngModelOptions",t.DdM(23,en)),t.xp6(3),t.Q6J("ngIf",f.errors&&c.submitted)("ngIfThen",v)("ngIfElse",G),t.xp6(5),t.Q6J("ngIf",i.siteKey&&!i.isLocalhost),t.xp6(1),t.Q6J("ngClass",i.siteKey&&!i.isLocalhost?"mt-3":"mt-2"),t.xp6(3),t.Oqu(t.lcZ(25,17,"button.submit"))}},dependencies:[lt.a5,M._Y,M.Fj,M.JJ,M.JL,M.Q7,M.On,M.F,Q.mk,Q.O5,s.MgK,s.YAP,s.mIp,s.Ppb,s.cc2,R.rH,rt.wT,rt.Vd,Re,b.X$],styles:['.g-recaptcha[_ngcontent-%COMP%]{-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);-moz-transform-origin:0;-ms-transform-origin:0;-o-transform-origin:0;transform:scale(1.1);transform-origin:0;filter:progid:DXImageTransform.Microsoft.Matrix(M11=1.1,M12=0,M21=0,M22=1.1,SizingMethod="auto expand")}']})}return n})();function on(n,a){if(1&n&&(t.TgZ(0,"clr-alert",24)(1,"clr-alert-item")(2,"span",25),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n){const e=t.oxw();t.Q6J("clrAlertType",e.alert.type)("clrAlertAppLevel",!0),t.xp6(3),t.Oqu(t.lcZ(4,3,"message."+e.alert.message))}}const rn=function(){return{length:4}},sn=function(n){return["/forgot-ticket",n]};let an=(()=>{class n{constructor(e,o,i,c,f,v){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.router=f,this.transport=v,this.ticket={},this.subscribeTimer=20,this.timeLeft=20,this.timeLeftDisplay="00",this.ticket.mobileNumber=this.route.snapshot.paramMap.get("msisdn")||""}ngOnInit(){this.startTimer()}onSubmit(e){e.invalid?this.clrForm.markAsTouched():this.apicall.get(`/ticket/verify-otp/${this.ticket.mobileNumber}/${this.otp}`).subscribe({next:o=>{console.log("message:",o),g.isEqual(o.message,"verifyOtpSuccess")?g.eq(o.size,1)?this.router.navigate(["/view-ticket-thread",o.id]):this.router.navigate(["/ticket/end-user/list",this.ticket.mobileNumber]):(this.alert={type:"danger",message:g.get(o,"message")},setTimeout(()=>this.alert=null,1e4))}})}onOtpChange(e){this.otp=e}startTimer(){this.interval=setInterval(()=>{this.timeLeft>0&&(this.timeLeft--,this.timeLeftDisplay=1==String(this.timeLeft).length?`0${this.timeLeft}`:`${this.timeLeft}`)},1e3)}pauseTimer(){clearInterval(this.interval)}sendotp(){this.apicall.get(`/ticket/send-otp/${this.ticket.mobileNumber}`).subscribe({next:e=>{console.log("message:",e),g.isEqual(e.message,"sendOtpSuccess")&&(this.transport.alert={message:"sendOtpSuccess",type:"info"},this.timeLeft=20,this.startTimer())}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(R.F0),t.Y36(r.t))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-otp"]],viewQuery:function(o,i){if(1&o&&t.Gf(s.YAP,7),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first)}},decls:43,vars:9,consts:[[1,"row","justify-content-center","m-0","p-0"],[1,"col-lg-5","col-xl-5","col-xxl-5","col-md-8","col-sm-10","col-xs-12"],[1,"card","card","shadow-none","rounded"],[1,"card-block","border","border-1","shadow-none","rounded"],[3,"clrAlertType","clrAlertAppLevel",4,"ngIf"],["clrStepper","","clrForm","","clrLayout","vertical","autocomplete","off",1,"m-0","p-0","row",2,"height","calc(100vh - 200px)",3,"ngSubmit"],["f","ngForm"],[1,"row","justify-content-center"],[1,"col-12","text-center","m-0","p-0"],[1,"fs-5","fw-bold","text-dark"],[1,"fs-6","fw-bold","text-dark"],[1,"row","justify-content-center","mt-2"],[1,"m-0","p-0","text-dark"],[1,"row","justify-content-center","mt-3"],[3,"config","onInputChange"],[1,"row","mt-3","justify-content-around"],[1,"col-9","text-center","m-0","p-0"],["type","submit",1,"btn","btn-primary","btn-block","m-0","p-0"],[1,"row","justify-content-around"],[1,"col-9","text-center"],["type","button",1,"btn","btn-link","m-0","p-0","float-start",3,"disabled","click"],["type","button",1,"btn","btn-link","m-0","p-0","float-end",3,"routerLink"],[1,"col-9"],[1,"m-0","p-0","text-primary"],[3,"clrAlertType","clrAlertAppLevel"],[1,"alert-text","text-white"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,on,5,5,"clr-alert",4),t.TgZ(5,"form",5,6),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(6);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(7,"div",7)(8,"div",8)(9,"h3")(10,"small",9),t._uU(11,"Forgot Ticket ID"),t.qZA()()()(),t.TgZ(12,"div",7)(13,"div",8)(14,"p",10),t._uU(15,"Verify OTP"),t.qZA()()(),t.TgZ(16,"div",11)(17,"div",8)(18,"p",12),t._uU(19,"SMS verify code sent to contact number"),t.qZA()(),t.TgZ(20,"div",8)(21,"p",12),t._uU(22),t.qZA()(),t.TgZ(23,"div",8)(24,"p",12),t._uU(25,"Please enter the code to verify"),t.qZA()()(),t.TgZ(26,"div",13)(27,"div",8)(28,"ng-otp-input",14),t.NdJ("onInputChange",function(v){return i.onOtpChange(v)}),t.qZA()()(),t.TgZ(29,"div",15)(30,"div",16)(31,"button",17),t._uU(32,"Verify"),t.qZA()()(),t.TgZ(33,"div",18)(34,"div",19)(35,"button",20),t.NdJ("click",function(){return i.sendotp()}),t._uU(36,"Resend"),t.qZA(),t.TgZ(37,"button",21),t._uU(38,"Back"),t.qZA()()(),t.TgZ(39,"div",18)(40,"div",22)(41,"p",23),t._uU(42),t.qZA()()()()()()()()}2&o&&(t.xp6(4),t.Q6J("ngIf",i.alert),t.xp6(18),t.hij("+855 ",i.ticket.mobileNumber,""),t.xp6(6),t.Q6J("config",t.DdM(6,rn)),t.xp6(7),t.Q6J("disabled",i.timeLeft>0),t.xp6(2),t.Q6J("routerLink",t.VKq(7,sn,i.ticket.mobileNumber)),t.xp6(5),t.hij("Time remaining: 00:",i.timeLeftDisplay,""))},dependencies:[$,M._Y,M.JL,M.F,Q.O5,s.TIm,s.CyW,s.I9z,s.YAP,s.mIp,s.Ppb,s.cc2,R.rH,b.X$]})}return n})();function cn(n,a){1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"h3",20)(3,"small",21),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"ticket.forgotTicket.title")))}function ln(n,a){1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.forgotTicket.error")))}function dn(n,a){1&n&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.forgotTicket.pattern")))}const ve=function(n,a){return{lang:n,header:a}};function un(n,a){if(1&n&&(t.TgZ(0,"div",22)(1,"div",23),t.YNc(2,ln,3,3,"div",24),t.YNc(3,dn,3,3,"div",24),t.TgZ(4,"div",25)(5,"button",26),t._uU(6),t.ALo(7,"translate"),t.qZA()()()()),2&n){const e=t.oxw(),o=t.MAs(16);t.xp6(2),t.Q6J("ngIf",o.errors.required),t.xp6(1),t.Q6J("ngIf",o.errors.pattern),t.xp6(2),t.Q6J("queryParams",t.WLB(6,ve,e.lang,e.header)),t.xp6(1),t.Oqu(t.lcZ(7,4,"ticket.forgotTicket.view"))}}function pn(n,a){if(1&n&&(t.TgZ(0,"div",18)(1,"div",28)(2,"button",26),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("queryParams",t.WLB(4,ve,e.lang,e.header)),t.xp6(1),t.Oqu(t.lcZ(4,2,"ticket.forgotTicket.view"))}}const gn=function(n){return{"is-invalid":n}};let mn=(()=>{class n{constructor(e,o,i,c,f,v){this.cdref=e,this.route=o,this.translate=i,this.apicall=c,this.config=f,this.router=v,this.ticket={},this.lang="en",this.countryCode="EIRS",this.header="yes",this.countryCode=this.config.get("countryCode")||"+855",this.ticket.mobileNumber=this.route.snapshot.paramMap.get("msisdn")||"",this.route.queryParams.subscribe(G=>{this.lang=G.lang||"en",this.header=G.header||"yes"}),this.apicall.get("/config/frontend").subscribe({next:G=>{this.mobileRegex=G.mobileRegex}})}ngOnInit(){console.log()}onSubmit(e){e.invalid?this.clrForm.markAsTouched():this.sendotp()}sendotp(){this.apicall.get(`/ticket/send-otp/${this.ticket.mobileNumber}`).subscribe({next:e=>{console.log("message:",e),g.isEqual(e.message,"sendOtpSuccess")&&this.router.navigate(["/verify-ticket-otp",this.ticket.mobileNumber])}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(b.sK),t.Y36(T.b),t.Y36(l.E4),t.Y36(R.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-register-ticket"]],viewQuery:function(o,i){if(1&o&&t.Gf(s.YAP,7),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first)}},decls:25,vars:18,consts:[[1,"row","justify-content-center","m-0","p-0"],[1,"col-lg-5","col-xl-5","col-xxl-5","col-md-8","col-sm-10","col-xs-12"],[1,"card","card","shadow-none","rounded"],[1,"card-block","border","border-1","shadow-none","rounded"],["clrStepper","","clrForm","","clrLayout","vertical","novalidate","","autocomplete","off",1,"m-0","p-0","row",2,"height","calc(100vh - 200px)",3,"ngSubmit"],["f","ngForm"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center","mt-4"],[1,"col-12","m-0","p-0","col-sm-12","col-xs-12","col-lg-9","col-xl-9"],[1,"form-label","clr-required-mark"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","text","name","mobileNumber","required","",1,"form-control","form-control-sm","rounded-end",3,"placeholder","ngModel","ngClass","pattern","ngModelChange"],["mobileNumber","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-1","justify-content-center"],[1,"col-9","text-center","m-0","p-0"],["type","submit",1,"btn","btn-primary","btn-block","m-0","p-0"],[1,"row","justify-content-center"],[1,"col-12","m-0","p-0"],[1,"text-center"],[1,"fs-5","fw-bold","text-dark"],[1,"invalid-feedback"],[1,"row","justify-content-around"],["class","col-6 m-0 p-0 mt-1",4,"ngIf"],[1,"col-4","text-end","m-0","p-0"],["type","button","routerLink","/view-ticket",1,"btn","btn-link","m-0","p-0","fw-bold",2,"color","#2F80ED",3,"queryParams"],[1,"col-6","m-0","p-0","mt-1"],[1,"col-9","text-right","m-0","p-0"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(5);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.YNc(6,cn,6,3,"div",6),t.TgZ(7,"div",7)(8,"div",8)(9,"label",9),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",10)(13,"span",11),t._uU(14),t.qZA(),t.TgZ(15,"input",12,13),t.NdJ("ngModelChange",function(v){return i.ticket.mobileNumber=v}),t.ALo(17,"translate"),t.qZA(),t.YNc(18,un,8,9,"div",14),t.qZA()()(),t.YNc(19,pn,5,7,"div",6),t.TgZ(20,"div",15)(21,"div",16)(22,"button",17),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()()()()()}if(2&o){const c=t.MAs(5),f=t.MAs(16);t.xp6(6),t.Q6J("ngIf","yes"===i.header),t.xp6(4),t.Oqu(t.lcZ(11,10,"ticket.forgotTicket.label")),t.xp6(4),t.Oqu(i.countryCode),t.xp6(1),t.Q6J("placeholder",t.lcZ(17,12,"ticket.forgotTicket.placeholder"))("ngModel",i.ticket.mobileNumber)("ngClass",t.VKq(16,gn,(c.submitted||c.touched)&&f.errors))("pattern",i.mobileRegex),t.xp6(3),t.Q6J("ngIf",(c.submitted||c.touched)&&f.errors),t.xp6(1),t.Q6J("ngIf",!(c.submitted||c.touched)&&c.invalid||c.valid),t.xp6(4),t.Oqu(t.lcZ(24,14,"button.submit"))}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.Q7,M.c5,M.On,M.F,Q.mk,Q.O5,s.MgK,s.YAP,s.mIp,s.Ppb,s.cc2,R.rH,b.X$],styles:["[_nghost-%COMP%]     .input-group-sm>.btn, .input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%]{font-size:16px}"]})}return n})();function hn(n,a){if(1&n&&(t.TgZ(0,"p",7),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}var Qt=(()=>((Qt=Qt||{}).small="sm",Qt.medium="md",Qt.large="lg",Qt.extraLarge="xl",Qt))();let be=(()=>{class n{constructor(){this.modalSize=Qt,this.open=!1}static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ceir-alert"]],decls:9,vars:4,consts:[[1,"m-0","p-0",3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body","m-0","p-0"],["class","m-0 p-0 lh-1",4,"ngFor","ngForOf"],[1,"clr-row","clr-justify-content-center"],[1,"clr-col-12","text-end","mt-2"],["type","button",1,"btn","btn-outline",3,"click"],[1,"m-0","p-0","lh-1"]],template:function(o,i){1&o&&(t.TgZ(0,"clr-modal",0),t.NdJ("clrModalOpenChange",function(f){return i.open=f}),t.TgZ(1,"h3",1),t._uU(2,"Alert"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,hn,2,1,"p",3),t.TgZ(5,"div",4)(6,"div",5)(7,"button",6),t.NdJ("click",function(){return i.open=!1}),t._uU(8,"Close"),t.qZA()()()()()),2&o&&(t.Q6J("clrModalOpen",i.open)("clrModalStaticBackdrop",!1)("clrModalClosable",!1),t.xp6(4),t.Q6J("ngForOf",i.messages))},dependencies:[Q.sg,s.qAN,s.VLi]})}return n})();var Te=j(6024);let _n=(()=>{class n{constructor(e){this.customValidator=e}validate(e){return this.customValidator.blankEmailValidator(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(ee.q))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","ceirpanelBlankEmailValidator",""]],features:[t._Bn([{provide:M.SD,useExisting:(0,t.Gpc)(()=>n),multi:!0}])]})}return n})(),fn=(()=>{class n{constructor(e){this.customValidator=e}validate(e){return this.customValidator.blankMobileValidator(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(ee.q))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","ceirpanelBlankMobileValidator",""]],features:[t._Bn([{provide:M.SD,useExisting:(0,t.Gpc)(()=>n),multi:!0}])]})}return n})();function vn(n,a){1&n&&t._UZ(0,"div")}const bn=function(n,a){return{"":n,"border border-0":a}};function Tn(n,a){if(1&n&&(t.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"h4",35),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.WLB(4,bn,e.authService.isLogin(),!e.authService.isLogin())),t.xp6(4),t.Oqu(t.lcZ(5,2,"ticket.pageTitle.add"))}}function kn(n,a){}function xn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.firstName.error.required")))}function yn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,xn,3,3,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(6);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function Cn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.phone.error.required")))}function wn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Enter a valid contact number"),t.qZA())}function Zn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,Cn,3,3,"div",54),t.YNc(2,wn,2,0,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(23);t.xp6(1),t.Q6J("ngIf",e.errors.required),t.xp6(1),t.Q6J("ngIf",e.errors.pattern)}}function An(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"user.contact.mobile.invalidMobile")))}function On(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,An,3,3,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(34);t.xp6(1),t.Q6J("ngIf",!1===e.errors.invalid)}}function Mn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"user.contact.email.invaildEmail")))}function qn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,Mn,3,3,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(43);t.xp6(1),t.Q6J("ngIf",!1===e.errors.invalid)}}function Sn(n,a){if(1&n&&(t.TgZ(0,"option",60),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ln(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Category is required"),t.qZA())}function In(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,Ln,2,0,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(5);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}const Nn=function(n,a){return{"col-5":n,"col-6":a}},Yt=function(n){return{"is-invalid":n}};function Dn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"label",55),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"select",56,57),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticket.category=i)}),t.TgZ(6,"option",58),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,Sn,2,2,"option",59),t.qZA(),t.YNc(10,In,2,1,"div",16),t.qZA()}if(2&n){const e=t.MAs(5),o=t.oxw(2),i=t.MAs(8);t.Q6J("ngClass",t.WLB(12,Nn,o.authService.isLogin(),!o.authService.isLogin())),t.xp6(2),t.Oqu(t.lcZ(3,8,"ticket.category.label")),t.xp6(2),t.Q6J("ngModel",o.ticket.category)("ngClass",t.VKq(15,Yt,i.submitted&&e.errors)),t.xp6(2),t.Q6J("value",""),t.xp6(1),t.Oqu(t.lcZ(8,10,"ticket.category.placeholder")),t.xp6(2),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("ngIf",i.submitted&&e.errors)}}const ie=function(n,a){return{"col-5":n,"col-lg-6 col-md-6 col-sm-12 col-xs-12":a}},Un=function(n,a){return{"col-5":n,"col-lg-12 col-md-12 col-sm-12 col-xs-12":a}};function Jn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"label",36),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",37,38),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.firstName=i)}),t.ALo(7,"translate"),t.qZA(),t.YNc(8,yn,2,1,"div",16),t.qZA()(),t.TgZ(9,"div",11)(10,"label",39),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",40),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.lastName=i)}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",11)(16,"label",41),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",42)(20,"span",43),t._uU(21),t.qZA(),t.TgZ(22,"input",44,45),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.mobileNumber=i)}),t.ALo(24,"translate"),t.qZA(),t.YNc(25,Zn,3,2,"div",16),t.qZA()(),t.TgZ(26,"div",11)(27,"label",46),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",42)(31,"span",43),t._uU(32),t.qZA(),t.TgZ(33,"input",47,48),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.alternateMobileNumber=i)}),t.ALo(35,"translate"),t.qZA(),t.YNc(36,On,2,1,"div",16),t.qZA()(),t.TgZ(37,"div",11)(38,"div",12)(39,"label",49),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"input",50,51),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.emailAddress=i)}),t.ALo(44,"translate"),t.qZA(),t.YNc(45,qn,2,1,"div",16),t.qZA()(),t.YNc(46,Dn,11,17,"div",52)}if(2&n){const e=t.MAs(6),o=t.MAs(23),i=t.MAs(34),c=t.MAs(43),f=t.oxw(),v=t.MAs(8);t.Q6J("ngClass",t.WLB(52,ie,f.authService.isLogin(),!f.authService.isLogin())),t.xp6(3),t.Oqu(t.lcZ(4,32,"ticket.firstName.label")),t.xp6(2),t.Q6J("ngModel",f.ticket.firstName)("placeholder",t.lcZ(7,34,"ticket.firstName.placeholder"))("ngClass",t.VKq(55,Yt,v.submitted&&e.errors)),t.xp6(3),t.Q6J("ngIf",v.submitted&&e.errors),t.xp6(1),t.Q6J("ngClass",t.WLB(57,ie,f.authService.isLogin(),!f.authService.isLogin())),t.xp6(2),t.Oqu(t.lcZ(12,36,"ticket.lastName.label")),t.xp6(2),t.Q6J("ngModel",f.ticket.lastName)("placeholder",t.lcZ(14,38,"ticket.lastName.placeholder")),t.xp6(2),t.Q6J("ngClass",t.WLB(60,ie,f.authService.isLogin(),!f.authService.isLogin())),t.xp6(2),t.Oqu(t.lcZ(18,40,"ticket.phone.label")),t.xp6(4),t.Oqu(f.countryCode),t.xp6(1),t.Q6J("ngModel",f.ticket.mobileNumber)("pattern",f.mobileRegex)("placeholder",t.lcZ(24,42,"ticket.phone.placeholder"))("ngClass",t.VKq(63,Yt,(v.submitted||v.touched)&&o.errors)),t.xp6(3),t.Q6J("ngIf",(v.submitted||v.touched)&&o.errors),t.xp6(1),t.Q6J("ngClass",t.WLB(65,ie,f.authService.isLogin(),!f.authService.isLogin())),t.xp6(2),t.Oqu(t.lcZ(29,44,"ticket.alternateMobileNumber.label")),t.xp6(4),t.Oqu(f.countryCode),t.xp6(1),t.Q6J("ngModel",f.ticket.alternateMobileNumber)("ngClass",t.VKq(68,Yt,(v.touched||v.submitted)&&i.errors))("placeholder",t.lcZ(35,46,"ticket.alternateMobileNumber.placeholder")),t.xp6(3),t.Q6J("ngIf",v.touched&&i.errors),t.xp6(1),t.Q6J("ngClass",t.WLB(70,Un,f.authService.isLogin(),!f.authService.isLogin())),t.xp6(3),t.Oqu(t.lcZ(41,48,"ticket.email.label")),t.xp6(2),t.Q6J("ngModel",f.ticket.emailAddress)("placeholder",t.lcZ(44,50,"ticket.email.placeholder"))("ngClass",t.VKq(73,Yt,(v.touched||v.submitted)&&c.errors)),t.xp6(3),t.Q6J("ngIf",v.touched&&c.errors),t.xp6(1),t.Q6J("ngIf",f.authService.isLogin())}}function En(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.subject.error.required")))}function Qn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,En,3,3,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(19);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function Yn(n,a){}function Pn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",61)(1,"div",12)(2,"label",62),t._uU(3,"Reference ID"),t.qZA(),t.TgZ(4,"input",63),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.referenceId=i)}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.ticket.referenceId)}}function Fn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ticket.description.error.required")))}function Rn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,Fn,3,3,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(31);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function Bn(n,a){}function jn(n,a){1&n&&(t.TgZ(0,"div",22)(1,"div",75)(2,"h5",78),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"ticket.image.list")," "))}function zn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",79),t.NdJ("click",function(){const c=t.CHM(e).index,f=t.oxw(2);return t.KtG(f.documentObject.splice(c,1))}),t.TgZ(1,"div",80)(2,"a",81)(3,"span",82),t._uU(4),t.qZA(),t._UZ(5,"cds-icon",83),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.AsE("",null==e?null:e.name,"(",(null==e||null==e.size?null:e.size.size)+(null==e?null:e.size.type),")")}}function Vn(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Captcha Required"),t.qZA())}function Kn(n,a){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,Vn,2,0,"div",54),t.qZA()),2&n){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}const te=function(n,a){return{"clr-col-10":n,"clr-col-12":a}};function Gn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",19)(2,"div",12)(3,"re-captcha",84,85),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticket.captcha=i)})("resolved",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.resolved(i))}),t.qZA(),t.YNc(5,Kn,2,1,"div",16),t.qZA()()()}if(2&n){const e=t.MAs(4),o=t.oxw(2),i=t.MAs(8);t.xp6(1),t.Q6J("ngClass",t.WLB(5,te,o.authService.isLogin(),!o.authService.isLogin())),t.xp6(2),t.Q6J("siteKey",o.siteKey)("ngModel",o.ticket.captcha)("ngClass",t.VKq(8,Yt,i.submitted&&e.errors)),t.xp6(2),t.Q6J("ngIf",i.submitted&&e.errors)}}function Hn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",64)(1,"div",65)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA()()(),t.TgZ(5,"div",66)(6,"div",67)(7,"input",68,69),t.NdJ("change",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.documentSelect(i))}),t.qZA(),t.TgZ(9,"button",70),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(8);return t.KtG(i.click())}),t._uU(10),t.ALo(11,"translate"),t._UZ(12,"cds-icon",71),t.qZA()(),t.TgZ(13,"div",67)(14,"p",72),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p",72),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.YNc(20,jn,5,3,"div",73),t.YNc(21,zn,6,2,"div",74),t.TgZ(22,"div",22)(23,"div",75)(24,"h5",76),t._uU(25),t.ALo(26,"translate"),t.qZA()()(),t.YNc(27,Gn,6,10,"div",77)}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(20,te,e.authService.isLogin(),!e.authService.isLogin())),t.xp6(2),t.Oqu(t.lcZ(4,10,"ticket.document.label")),t.xp6(6),t.Q6J("disabled",3===e.documentObject.length),t.xp6(1),t.hij(" ",t.lcZ(11,12,"ticket.document.placeholder"),""),t.xp6(5),t.Oqu(t.lcZ(16,14,"ticket.image.accept1")),t.xp6(3),t.Oqu(t.lcZ(19,16,"ticket.image.accept2")),t.xp6(2),t.Q6J("ngIf",e.documentObject&&e.documentObject.length>0),t.xp6(1),t.Q6J("ngForOf",e.documentObject),t.xp6(4),t.hij(" ",t.lcZ(26,18,"ticket.mandatory.label")," "),t.xp6(2),t.Q6J("ngIf",e.siteKey&&!e.isLocalhost)}}function Wn(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",86)(1,"input",87),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.ticket.resolved=i)}),t.qZA(),t.TgZ(2,"label",88),t._uU(3),t.ALo(4,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.ticket.resolved),t.xp6(2),t.hij(" ",t.lcZ(4,2,"ticket.resolved.label")," ")}}function $n(n,a){}function Xn(n,a){1&n&&(t.TgZ(0,"div",91)(1,"button",93),t._uU(2,"Back"),t.qZA()())}function ti(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"div",89),t.YNc(2,Xn,3,0,"div",90),t.TgZ(3,"div",91)(4,"button",92),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.WLB(5,te,e.authService.isLogin(),!e.authService.isLogin())),t.xp6(2),t.Q6J("ngIf",e.authService.isLogin()),t.xp6(3),t.Oqu(t.lcZ(6,3,"button.register"))}}function ei(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",91)(1,"button",95),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const i=t.MAs(8);return t.KtG(i.reset())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"button.reset")))}const ni=function(n,a){return{"clr-justify-content-end":n,"clr-justify-content-start":a}};function ii(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"div",94)(2,"div",91)(3,"button",92),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,ei,4,3,"div",90),t.qZA()()),2&n){const e=t.oxw();t.Q6J("ngClass",t.WLB(6,te,e.authService.isLogin(),!e.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(9,ni,e.authService.isLogin(),!e.authService.isLogin())),t.xp6(3),t.Oqu(t.lcZ(5,4,"button.register")),t.xp6(2),t.Q6J("ngIf",e.authService.isLogin())}}const oi=function(n,a){return{"col-12":n,"col-12 col-sm-11 col-md-11 col-lg-11 col-xl-11":a}},ri=function(n,a){return{"border border-1 shadow-none":n,"shadow-none":a}},ke=function(){return["TICKET_SSYSADMIN"]},xe=function(n,a){return{"col-10":n,"col-12":a}},ye=function(){return["TICKET_ATTACHMENT"]};let ce=(()=>{class n{constructor(e,o,i,c,f,v,G,H,ct,gt){this.cdref=e,this.route=o,this.apicall=i,this.router=c,this.transport=f,this.permissionService=v,this.ticketService=G,this.authService=H,this.config=ct,this.document=gt,this.page="",this.path="",this.id=0,this.readonly=!1,this.templateForm={parentGroup:""},this.ticket={category:""},this.groups=[],this.open=!1,this.cancel=!1,this.delete=!1,this.imageObject=[],this.categories=[],this.documentObject=[],this.isLocalhost=!0,this.allow=!0,this.lang="en",this.header="yes",this.countryCode="+855",this.apicall.get("/config/frontend").subscribe({next:_t=>{this.siteKey=_t.siteKey,this.mobileRegex=_t.mobileRegex}}),H.isLogin()||this.apicall.get("/acl/isAllowInYourRegion").subscribe({next:_t=>{g.isEqual(g.get(_t,"allow"),!1)&&(console.log("access not allowed"),this.router.navigate(["/region-denied"]))}}),this.isLocalhost=this.document.location.host.includes("localhost"),H.isLogin()||v.addPermission("TICKET_ATTACHMENT"),this.route.queryParams.subscribe(_t=>{this.lang=_t.lang||"en",this.header=_t.header||"yes"})}ngOnInit(){this.countryCode=this.config.get("countryCode")||"+855",this.path=this.route.snapshot.url[0].path,this.page=this.route.snapshot.paramMap.get("page")||"",this.id=Number(this.route.snapshot.paramMap.get("id")||0),this.page===Te.G.view&&(this.readonly=!0),console.log("page: ",this.path),this.findCategories(),this.id>0&&this.apicall.get(`/ticket/${this.id}`).subscribe({next:e=>{this.ticket=e},error:e=>console.log(e),complete:()=>console.info("complete")})}onSubmit(e){console.log("submit form: ",e.invalid),e.invalid?this.clrForm.markAsTouched():this.save()}save(){this.transport.progress=!0;const e=new FormData;this.documentObject.forEach(o=>e.append("documents",o.file)),this.ticketService.putData(e,this.ticket),Te.G.edit?this.ticketService.create(e,this.page,this.lang,this.header):this.ticketService.update(e)}openClose(e){this.open=e}cancelOpenClose(e){this.cancel=!1,1==e&&this.router.navigate([this.path])}findCategories(){this.apicall.get("/ticket/category").subscribe({next:e=>this.categories=e})}documentSelect(e){const o=[];for(let i=0;i<e.target.files.length;i++)if(console.log("size: ",e.target.files[i].size),e.target.files[i].size<2e6){const c=window.URL?window.URL.createObjectURL(e.target.files[i]):window.webkitURL.createObjectURL(e.target.files[i]);this.documentObject.length<3&&this.documentObject.push({file:e.target.files[i],image:c,thumbImage:c,name:e.target.files[i].name,size:this.formatBytes(e.target.files[i].size)})}else o.push(`File:${e.target.files[i].name} size is exceeded more than 2MB`);o.length>0&&(this.alert.messages=o,this.alert.open=!0)}formatBytes(e){const i=Math.floor(Math.log(e)/Math.log(1024));return{size:+(e/1024/1024).toFixed(2),type:["bytes","kb","mb","gb","tb","pb","eb","zb","yb"][i]}}resolved(e){console.log(`Resolved captcha with response: ${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(R.gz),t.Y36(T.b),t.Y36(R.F0),t.Y36(r.t),t.Y36(X.YI),t.Y36(h),t.Y36(p.e),t.Y36(l.E4),t.Y36(Q.K0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-register-ticket"]],viewQuery:function(o,i){if(1&o&&(t.Gf(s.YAP,7),t.Gf(be,7)),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first),t.iGM(c=t.CRH())&&(i.alert=c.first)}},features:[t._Bn([h])],decls:54,vars:64,consts:[[1,"row","justify-content-center","m-0","p-0"],[1,"col","col-12","m-0","p-0",3,"ngClass"],[1,"card","m-0","p-0",2,"min-height","500px",3,"ngClass"],[4,"ngIf","ngIfThen"],["head",""],[1,"card-block"],["novalidate","","name","form",1,"needs-validation","mt-3",3,"ngSubmit"],["f","ngForm"],[1,"row"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyElse"],["hideInput",""],[1,"mb-2",3,"ngClass"],[1,"form-group"],["for","subject",1,"form-label","clr-required-mark","fw-semibold"],["type","text","name","subject","id","subject","required","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["subject","ngModel"],["class","invalid-feedback",4,"ngIf"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen"],["showInput",""],[3,"ngClass"],["name","description","id","description","required","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["description","ngModel"],[1,"clr-row","m-0","p-0"],[1,"m-0","p-0","mt-1",3,"ngClass"],[1,"text-danger"],[1,"fw-semibold"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen","ngxPermissionsOnlyElse"],["showUpload",""],["hideUpload",""],[1,"clr-row","mt-2"],["left",""],["right",""],[1,"card-header",3,"ngClass"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-12","clr-col-md-6","clr-col-lg-6",2,"margin-top","5px"],[1,"card-title","text-capitalize","text-black"],["for","firstName",1,"form-label","clr-required-mark","fw-semibold"],["type","text","name","firstName","id","firstName","required","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["firstName","ngModel"],["for","lastName",1,"form-label","fw-semibold"],["type","text","name","lastName","id","lastName",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngModelChange"],["for","mobileNumber",1,"form-label","clr-required-mark","fw-semibold"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","text","name","mobileNumber","id","mobileNumber","required","",1,"form-control","form-control-sm",3,"ngModel","pattern","placeholder","ngClass","ngModelChange"],["mobileNumber","ngModel"],["for","alternateMobileNumber",1,"form-label","fw-semibold"],["type","text","name","alternateMobileNumber","id","alternateMobileNumber","ceirpanelBlankMobileValidator","",1,"form-control","form-control-sm",3,"ngModel","ngClass","placeholder","ngModelChange"],["alternateMobileNumber","ngModel"],["for","email",1,"form-label","fw-semibold"],["type","text","name","emailAddress","id","emailAddress","ceirpanelBlankEmailValidator","",1,"form-control","form-control-sm",3,"ngModel","placeholder","ngClass","ngModelChange"],["emailAddress","ngModel"],["class","mb-2",3,"ngClass",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["for","email",1,"form-label","fw-semibold","clr-required-mark"],["name","category","required","",1,"form-select","form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["category","ngModel"],["selected","","disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-2","col-10"],["for","referenceId",1,"form-label","fw-semibold"],["type","text","name","referenceId","id","referenceId","placeholder","Enter Reference ID",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"clr-row","m-0","p-0","mt-1"],[1,"m-0","p-0",3,"ngClass"],[1,"row","m-0","p-0","mt-2","row-cols-auto"],[1,"m-0","p-0","col"],["type","file","accept","image/png, image/jpg, image/jpeg, application/pdf","multiple","",2,"display","none",3,"change"],["document",""],["type","button",1,"btn","btn-primary-outline","text-black",2,"border-style","dotted",3,"disabled","click"],["shape","paperclip"],[1,"m-0","p-0","lh-sm"],["class","clr-row m-0 p-0",4,"ngIf"],["class","clr-row m-0 p-0 mt-2",3,"click",4,"ngFor","ngForOf"],[1,"m-0","p-0","clr-col-12"],[1,"clr-required-mark","text-black"],["class","clr-row mt-2",4,"ngIf"],[1,"text-black"],[1,"clr-row","m-0","p-0","mt-2",3,"click"],[1,"m-0","p-0","clr-col-12'"],["href","javascript://",1,"label","label-blue","clickable","border","border-0"],[1,"text"],["shape","close"],["name","captcha","required","",3,"siteKey","ngModel","ngClass","ngModelChange","resolved"],["captcha","ngModel"],[1,"form-check","mt-1"],["type","checkbox","id","resolved","name","resolved","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],[1,"clr-row","clr-justify-content-start"],["class","clr-col-5 clr-col-lg-2",4,"ngIf"],[1,"clr-col-5","clr-col-lg-2"],["type","submit",1,"btn","btn-primary","btn-block"],["type","button","routerLink","/ticket",1,"btn","btn-outline","btn-block"],[1,"clr-row",3,"ngClass"],["type","button",1,"btn","btn-outline","btn-block",3,"click"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,vn,1,0,"div",3),t.YNc(4,Tn,6,7,"ng-template",null,4,t.W1O),t.TgZ(6,"div",5)(7,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(8);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(9,"div",8),t.YNc(10,kn,0,0,"ng-template",9),t.YNc(11,Jn,47,75,"ng-template",null,10,t.W1O),t.TgZ(13,"div",11)(14,"div",12)(15,"label",13),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",14,15),t.NdJ("ngModelChange",function(v){return i.ticket.subject=v}),t.ALo(20,"translate"),t.qZA(),t.YNc(21,Qn,2,1,"div",16),t.qZA()(),t.YNc(22,Yn,0,0,"ng-template",17),t.YNc(23,Pn,5,1,"ng-template",null,18,t.W1O),t.TgZ(25,"div",19)(26,"div",12)(27,"label",13),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"textarea",20,21),t.NdJ("ngModelChange",function(v){return i.ticket.description=v}),t.ALo(32,"translate"),t.qZA(),t.YNc(33,Rn,2,1,"div",16),t.qZA()()(),t.TgZ(34,"div",22)(35,"div",23)(36,"span",24),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"span",25),t._uU(40),t.ALo(41,"translate"),t.qZA()()(),t.YNc(42,Bn,0,0,"ng-template",26),t.YNc(43,Hn,28,23,"ng-template",null,27,t.W1O),t.YNc(45,Wn,5,4,"ng-template",null,28,t.W1O),t.TgZ(47,"div",29),t.YNc(48,$n,0,0,"ng-template",26),t.YNc(49,ti,7,8,"ng-template",null,30,t.W1O),t.YNc(51,ii,7,12,"ng-template",null,31,t.W1O),t.qZA()()()()()(),t._UZ(53,"ceirpanel-ceir-alert")}if(2&o){const c=t.MAs(5),f=t.MAs(8),v=t.MAs(12),G=t.MAs(19),H=t.MAs(24),ct=t.MAs(31),gt=t.MAs(44),_t=t.MAs(46),Lt=t.MAs(50),le=t.MAs(52);t.xp6(1),t.Q6J("ngClass",t.WLB(41,oi,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(44,ri,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngIf","yes"===i.header)("ngIfThen",c),t.xp6(7),t.Q6J("ngxPermissionsOnly",t.DdM(47,ke))("ngxPermissionsOnlyElse",v),t.xp6(3),t.Q6J("ngClass",t.WLB(48,xe,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(3),t.Oqu(t.lcZ(17,29,"ticket.subject.label")),t.xp6(2),t.Q6J("ngModel",i.ticket.subject)("placeholder",t.lcZ(20,31,"ticket.subject.placeholder"))("ngClass",t.VKq(51,Yt,f.submitted&&G.errors)),t.xp6(3),t.Q6J("ngIf",f.submitted&&G.errors),t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(53,ke))("ngxPermissionsOnlyThen",H),t.xp6(3),t.Q6J("ngClass",t.WLB(54,xe,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(3),t.Oqu(t.lcZ(29,33,"ticket.description.label")),t.xp6(2),t.Q6J("ngModel",i.ticket.description)("placeholder",t.lcZ(32,35,"ticket.description.placeholder"))("ngClass",t.VKq(57,Yt,f.submitted&&ct.errors)),t.xp6(3),t.Q6J("ngIf",f.submitted&&ct.errors),t.xp6(2),t.Q6J("ngClass",t.WLB(59,te,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(2),t.hij("",t.lcZ(38,37,"button.note"),"! * "),t.xp6(3),t.hij(" ",t.lcZ(41,39,"ticket.pageTitle.info")," "),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(62,ye))("ngxPermissionsOnlyThen",gt)("ngxPermissionsOnlyElse",_t),t.xp6(6),t.Q6J("ngxPermissionsOnly",t.DdM(63,ye))("ngxPermissionsOnlyThen",Lt)("ngxPermissionsOnlyElse",le)}},dependencies:[M._Y,M.YN,M.Kr,M.Fj,M.Wl,M.EJ,M.JJ,M.JL,M.Q7,M.c5,M.On,M.F,Q.mk,Q.sg,Q.O5,s.nkF,s.MgK,R.rH,be,X.gE,rt.wT,rt.Vd,_n,fn,b.X$],styles:["[_nghost-%COMP%]     .clr-combobox-wrapper{min-width:95%!important}[_nghost-%COMP%]     .input-group-sm>.btn, .input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%]{font-size:16px}"]})}return n})();var si=j(1678),ai=j(8997);function ci(n,a){1&n&&t._UZ(0,"div")}function li(n,a){}function di(n,a){1&n&&t._uU(0,"Support Ticket")}function ui(n,a){1&n&&t._uU(0,"View Tickets")}const oe=function(){return["TICKET_SSYSADMIN"]};function pi(n,a){if(1&n&&(t.TgZ(0,"h4",21),t.YNc(1,li,0,0,"ng-template",22),t.YNc(2,di,1,0,"ng-template",null,23,t.W1O),t.YNc(4,ui,1,0,"ng-template",null,24,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.MAs(5);t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(3,oe))("ngxPermissionsOnlyThen",e)("ngxPermissionsOnlyElse",o)}}function gi(n,a){1&n&&(t.TgZ(0,"h4",21),t._uU(1,"Ticket Status"),t.qZA())}function mi(n,a){}function hi(n,a){}function _i(n,a){}function fi(n,a){1&n&&t._uU(0,"Register New Ticket")}function vi(n,a){1&n&&t._uU(0,"Register New Ticket")}const bi=function(){return["/ticket/register-ticket"]};function Ti(n,a){if(1&n&&(t.TgZ(0,"button",28),t._UZ(1,"cds-icon",29),t.YNc(2,_i,0,0,"ng-template",22),t.YNc(3,fi,1,0,"ng-template",null,23,t.W1O),t.YNc(5,vi,1,0,"ng-template",null,24,t.W1O),t.qZA()),2&n){const e=t.MAs(4),o=t.MAs(6);t.Q6J("routerLink",t.DdM(4,bi)),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(5,oe))("ngxPermissionsOnlyThen",e)("ngxPermissionsOnlyElse",o)}}function ki(n,a){if(1&n&&(t.YNc(0,hi,0,0,"ng-template",11),t.YNc(1,Ti,7,6,"ng-template",null,23,t.W1O)),2&n){const e=t.MAs(2);t.Q6J("ngxPermissionsOnly",t.DdM(2,oe))("ngxPermissionsOnlyThen",e)}}const xi=function(){return["TICKET_ADD"]};function yi(n,a){if(1&n&&(t.TgZ(0,"div",25)(1,"div",26),t.YNc(2,mi,0,0,"ng-template",11),t.YNc(3,ki,3,3,"ng-template",null,27,t.W1O),t.qZA()()),2&n){const e=t.MAs(4);t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(2,xi))("ngxPermissionsOnlyThen",e)}}function Ci(n,a){}function wi(n,a){}function Zi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ceirpanel-filter",33),t.NdJ("filter",function(i){t.CHM(e);const c=t.oxw(3);return c.applyFilter(i),t.KtG(c.refresh(c.state))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("startDate",!0)("endDate",!0)("phoneNo",!1)("ticketId",!0)("userId",!0)("ticketStatus",!0)("filterModel",e.filterModel)}}function Ai(n,a){if(1&n&&t.YNc(0,Zi,1,7,"ceirpanel-filter",32),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.authService.isLogin())}}function Oi(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ceirpanel-filter",35),t.NdJ("filter",function(i){t.CHM(e);const c=t.oxw(3);return c.applyFilter(i),t.KtG(c.refresh(c.state))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("startDate",!0)("endDate",!0)("phoneNo",!0)("ticketId",!0)("raisedBy",!0)("ticketStatus",!0)("filterModel",e.filterModel)}}function Mi(n,a){if(1&n&&t.YNc(0,Oi,1,7,"ceirpanel-filter",34),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.authService.isLogin())}}function qi(n,a){if(1&n&&(t.YNc(0,wi,0,0,"ng-template",22),t.YNc(1,Ai,1,1,"ng-template",null,30,t.W1O),t.YNc(3,Mi,1,1,"ng-template",null,31,t.W1O)),2&n){const e=t.MAs(2),o=t.MAs(4);t.Q6J("ngxPermissionsOnly",t.DdM(3,oe))("ngxPermissionsOnlyThen",e)("ngxPermissionsOnlyElse",o)}}function Si(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"clr-dg-action-bar")(1,"ceirpanel-list-action",36),t.NdJ("download",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.export(i))})("refresh",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.refresh(i))})("filter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.callFilter())})("resetFilter",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resetFilter())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("state",e.state)("feature","TICKET")}}const Ce=function(n){return["/ticket/ticket-thread",n]};function Li(n,a){if(1&n&&(t.TgZ(0,"clr-dg-cell")(1,"button",39),t._UZ(2,"cds-icon",40),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Ce,e.ticketId))}}function Ii(n,a){}function Ni(n,a){if(1&n&&(t.TgZ(0,"button",42),t._UZ(1,"cds-icon",40),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,Ce,e.ticketId))}}const Di=function(){return["TICKET_VIEW"]};function Ui(n,a){if(1&n&&(t.TgZ(0,"clr-dg-cell"),t.YNc(1,Ii,0,0,"ng-template",11),t.YNc(2,Ni,2,3,"ng-template",null,41,t.W1O),t.qZA()),2&n){const e=t.MAs(3);t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(2,Di))("ngxPermissionsOnlyThen",e)}}function Ji(n,a){if(1&n&&(t.TgZ(0,"clr-dg-row",37)(1,"clr-dg-cell"),t._uU(2),t.qZA(),t.TgZ(3,"clr-dg-cell"),t._uU(4),t.qZA(),t.TgZ(5,"clr-dg-cell"),t._uU(6),t.qZA(),t.TgZ(7,"clr-dg-cell"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"clr-dg-cell"),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"clr-dg-cell",38),t._uU(14),t.qZA(),t.TgZ(15,"clr-dg-cell",38),t._uU(16),t.qZA(),t.YNc(17,Li,3,3,"clr-dg-cell",14),t.YNc(18,Ui,4,3,"clr-dg-cell",14),t.qZA()),2&n){const e=a.$implicit,o=t.oxw();t.Q6J("clrDgItem",e),t.xp6(2),t.Oqu(e.ticketId),t.xp6(2),t.Oqu(e.mobileNumber),t.xp6(2),t.Oqu(e.issue.subject),t.xp6(2),t.Oqu(t.xi3(9,10,e.issue.createdOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(t.xi3(12,13,e.issue.updatedOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(e.raisedBy),t.xp6(2),t.Oqu(e.issue.status.name),t.xp6(1),t.Q6J("ngIf",!o.authService.isLogin()),t.xp6(1),t.Q6J("ngIf",o.authService.isLogin())}}const Ei=function(n,a){return{"clr-col-12 m-0 p-0":n,"clr-col-10":a}},Qi=function(n,a){return{"border border-1 shadow-none":n,"shadow-none":a}},Yi=function(n,a){return{"":n,"border border-0":a}},Pi=function(){return["TICKET_FILTER"]},Fi=function(){return[10,20,50,100]};let Ri=(()=>{class n extends it.v{constructor(e,o,i,c,f,v){super(),this.cdRef=e,this.apicall=o,this.exportService=i,this.route=c,this.authService=f,this.permission=v,this.loading=!0,this.selected=[],this.filterModel={}}ngOnInit(){this.msisdn=this.route.snapshot.paramMap.get("msisdn")||"",this.raisedBy=this.route.snapshot.queryParamMap.get("raisedBy")||"",this.status=this.route.snapshot.queryParamMap.get("status")||"",this.clientType=this.route.snapshot.queryParamMap.get("clientType")||"",this.filterModel.ticketStatus=this.status,this.filterModel.raisedBy=this.raisedBy,this.filterModel.mobileNumber=this.msisdn,console.log("permission: ",this.permission.getPermissions())}refresh(e){this.loading=!0,this.state=e,g.isEmpty(this.msisdn)||this.pushFilter({mobileNumber:this.msisdn}),g.isEmpty(this.raisedBy)||this.pushFilter({raisedBy:this.raisedBy}),g.isEmpty(this.status)||this.pushFilter({ticketStatus:this.status}),g.isEmpty(this.clientType)||this.pushFilter({clientType:this.clientType}),this.applyExisterFilter(),this.apicall.post("/ticket/pagination",e).subscribe({next:o=>{this.tickets=this.sortBy(e,o.content),this.total=o.totalElements,this.loading=!1,this.cdRef.detectChanges()},error:o=>this.loading=!1,complete:()=>{this.loading=!1,this.cdRef.detectChanges()}})}deleteRecord(e){this.apicall.delete(`/group/${e.id}`).subscribe({next:o=>{console.log("result:",o)},error:o=>this.loading=!1,complete:()=>{console.log("completed"),this.refresh(this.state)}})}openClose(e){this.open=e,e&&this.selectedData.length>0&&this.selectedData.forEach(o=>this.deleteRecord(o))}export(e){const o=g.cloneDeep(e);o&&o.page&&(o.page.size=10),this.apicall.post("/ticket/pagination",o).subscribe({next:i=>{this.exportService.tickets(i.content,`tickets-${(new Date).getMilliseconds()}`,{showLabels:!0,headers:["Ticket","Phone","Subject","Created On","Modified On","Raised By","Status"]})}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(T.b),t.Y36(jt.T),t.Y36(R.gz),t.Y36(p.e),t.Y36(X.YI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-list"]],features:[t.qOj],decls:53,vars:67,consts:[[1,"clr-row","m-0","p-0","clr-justify-content-center","border","border-0"],[3,"ngClass"],[1,"card","border","border-1","shadow-none","m-0","p-0",2,"min-height","85vh",3,"ngClass"],[1,"card-header",3,"ngClass"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-4",2,"margin-top","5px"],[4,"ngIf","ngIfThen","ngIfElse"],["login",""],["logout",""],["class","clr-col-6 m-0 p-0",4,"ngIf"],[1,"card-block","border","border-0"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen"],["showFilter",""],[1,"datagrid-compact",3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],[4,"ngIf"],[3,"clrDgSortBy"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[1,"text-capitalize"],[1,"card-title","text-black"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen","ngxPermissionsOnlyElse"],["ss",""],["cc",""],[1,"clr-col-6","m-0","p-0"],[1,"btn-group","btn-primary-outline","float-end"],["showAdd",""],["aria-label","Check",1,"btn",3,"routerLink"],["shape","plus","solid","true"],["sysadmin",""],["nsysadmin",""],[3,"startDate","endDate","phoneNo","ticketId","userId","ticketStatus","filterModel","filter",4,"ngIf"],[3,"startDate","endDate","phoneNo","ticketId","userId","ticketStatus","filterModel","filter"],[3,"startDate","endDate","phoneNo","ticketId","raisedBy","ticketStatus","filterModel","filter",4,"ngIf"],[3,"startDate","endDate","phoneNo","ticketId","raisedBy","ticketStatus","filterModel","filter"],[3,"state","feature","download","refresh","filter","resetFilter"],[3,"clrDgItem"],[1,"text-truncate"],[1,"datagrid-action-toggle","clr-anchor","m-0","p-0",3,"routerLink"],["shape","eye"],["showView",""],[1,"btn","btn-link","btn-sm","m-0","p-0",3,"routerLink"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,ci,1,0,"div",6),t.YNc(7,pi,6,4,"ng-template",null,7,t.W1O),t.YNc(9,gi,2,0,"ng-template",null,8,t.W1O),t.qZA(),t.YNc(11,yi,5,3,"div",9),t.qZA()(),t.TgZ(12,"div",10),t.YNc(13,Ci,0,0,"ng-template",11),t.YNc(14,qi,5,4,"ng-template",null,12,t.W1O),t.TgZ(16,"clr-datagrid",13),t.NdJ("clrDgRefresh",function(f){return i.refresh(f)})("clrDgSelectedChange",function(f){return i.selecton=f}),t.YNc(17,Si,2,2,"clr-dg-action-bar",14),t.TgZ(18,"clr-dg-column",15),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"clr-dg-column",15),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"clr-dg-column",15),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"clr-dg-column",15),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"clr-dg-column",15),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"clr-dg-column",15),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"clr-dg-column",15),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"clr-dg-column"),t._uU(40),t.ALo(41,"translate"),t.qZA(),t.YNc(42,Ji,19,16,"clr-dg-row",16),t.TgZ(43,"clr-dg-footer")(44,"clr-dg-pagination",17,18)(46,"clr-dg-page-size",19)(47,"span",20),t._uU(48,"Tickets"),t.qZA(),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._uU(51),t.ALo(52,"translate"),t.qZA()()()()()()()),2&o){const c=t.MAs(8),f=t.MAs(10),v=t.MAs(15),G=t.MAs(45);t.xp6(1),t.Q6J("ngClass",t.WLB(56,Ei,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(59,Qi,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(62,Yi,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(3),t.Q6J("ngIf",i.authService.isLogin())("ngIfThen",c)("ngIfElse",f),t.xp6(5),t.Q6J("ngIf",i.authService.isLogin()),t.xp6(2),t.Q6J("ngxPermissionsOnly",t.DdM(65,Pi))("ngxPermissionsOnlyThen",v),t.xp6(3),t.Q6J("clrDgLoading",i.loading)("clrDgSelected",i.selecton),t.xp6(1),t.Q6J("ngIf",i.authService.isLogin()),t.xp6(1),t.Q6J("clrDgSortBy","ticketId"),t.xp6(1),t.Oqu(t.lcZ(20,36,"datalist.ticketId")),t.xp6(2),t.Q6J("clrDgSortBy","phone"),t.xp6(1),t.Oqu(t.lcZ(23,38,"datalist.phone")),t.xp6(2),t.Q6J("clrDgSortBy","subject"),t.xp6(1),t.Oqu(t.lcZ(26,40,"datalist.subject")),t.xp6(2),t.Q6J("clrDgSortBy","createDate"),t.xp6(1),t.Oqu(t.lcZ(29,42,"datalist.createDate")),t.xp6(2),t.Q6J("clrDgSortBy","modifiedDate"),t.xp6(1),t.Oqu(t.lcZ(32,44,"datalist.modifiedDate")),t.xp6(2),t.Q6J("clrDgSortBy","raisedBy"),t.xp6(1),t.Oqu(t.lcZ(35,46,"datalist.raisedBy")),t.xp6(2),t.Q6J("clrDgSortBy","status"),t.xp6(1),t.Oqu(t.lcZ(38,48,"datalist.status")),t.xp6(3),t.Oqu(t.lcZ(41,50,"datalist.action")),t.xp6(2),t.Q6J("ngForOf",i.tickets),t.xp6(2),t.Q6J("clrDgPageSize",10)("clrDgTotalItems",i.total),t.xp6(2),t.Q6J("clrPageSizeOptions",t.DdM(66,Fi)),t.xp6(3),t.hij(" ",t.lcZ(50,52,"footer.perPage")," "),t.xp6(2),t.HOy(" ",G.firstItem+1," - ",G.lastItem+1," ",t.lcZ(52,54,"footer.of")," ",G.totalItems," Tickets ")}},dependencies:[Q.mk,Q.sg,Q.O5,s.C9t,s.Gwl,s.fv_,s.m4W,s.dRQ,s.YYR,s.Ltv,s.Z4N,s.jND,s.KHL,s.PDs,s.Gcc,s.dml,s.Nh1,s.K8c,s.nkF,R.rH,si.z,ai.T,X.gE,Q.uU,b.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return n})();const Bi=["f"];function ji(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Feedback is required"),t.qZA())}function zi(n,a){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,ji,2,0,"div",16),t.qZA()),2&n){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}const Vi=function(n){return{"is-invalid":n}};var Pt=(()=>((Pt=Pt||{}).small="sm",Pt.medium="md",Pt.large="lg",Pt.extraLarge="xl",Pt))();let we=(()=>{class n{constructor(e){this.apicall=e,this.modalSize=Pt,this.open=!1,this.confirmation=new t.vpe,this.ticket={},this.notes={}}ngOnInit(){console.log("ticket: ",this.ticketId)}resolve(){this.confirmation.emit({open:!1,notes:this.notes.notes,resolve:"yes"})}onSubmit(e){e.invalid?this.clrForm.markAsTouched():this.confirmation.emit({open:!1,notes:this.notes.notes,resolve:"yes"})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T.b))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-resolve"]],viewQuery:function(o,i){if(1&o&&(t.Gf(s.YAP,7),t.Gf(Bi,5)),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first),t.iGM(c=t.CRH())&&(i.ngForm=c.first)}},inputs:{open:"open",ticketId:"ticketId"},outputs:{confirmation:"confirmation"},features:[t._Bn([])],decls:19,vars:9,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body","m-0","p-0"],["clrForm","","clrLayout","vertical","novalidate","",3,"ngSubmit"],["f","ngForm"],[1,"clr-row","m-0","p-0"],[1,"clr-col-12","m-0","p-0"],[1,"form-group"],[1,"form-label"],["name","notes","placeholder","Write new comment here(if any)",1,"form-control","form-control-sm",2,"min-height","60px !important",3,"ngModel","ngClass","ngModelChange"],["noteObj","ngModel"],["class","invalid-feedback",4,"ngIf"],[1,"clr-col-12","m-0","p-0","d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-outline",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,i){if(1&o){const c=t.EpF();t.TgZ(0,"clr-modal",0),t.NdJ("clrModalOpenChange",function(v){return i.open=v}),t.TgZ(1,"h3",1),t._uU(2,"Resolve Ticket?"),t.qZA(),t.TgZ(3,"div",2)(4,"form",3,4),t.NdJ("ngSubmit",function(){t.CHM(c);const v=t.MAs(5);return t.KtG(v.form.valid&&i.onSubmit(v))}),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Are you sure want to mark this ticket as resolved?"),t.qZA(),t.TgZ(11,"textarea",9,10),t.NdJ("ngModelChange",function(v){return i.notes.notes=v}),t.qZA(),t.YNc(13,zi,2,1,"div",11),t.qZA()(),t.TgZ(14,"div",12)(15,"button",13),t._uU(16,"Yes"),t.qZA(),t.TgZ(17,"button",14),t.NdJ("click",function(){return i.open=!1,i.confirmation.emit({open:!1,resolve:"no"})}),t._uU(18,"No"),t.qZA()()()()()()}if(2&o){const c=t.MAs(5),f=t.MAs(12);t.Q6J("clrModalOpen",i.open)("clrModalStaticBackdrop",!1)("clrModalSize",i.modalSize.medium)("clrModalClosable",!1),t.xp6(11),t.Q6J("ngModel",i.notes.notes)("ngClass",t.VKq(7,Vi,c.submitted&&f.errors)),t.xp6(2),t.Q6J("ngIf",c.submitted&&f.errors)}},dependencies:[M._Y,M.Fj,M.JJ,M.JL,M.On,M.F,Q.mk,Q.O5,s.qAN,s.VLi,s.MgK,s.YAP,s.mIp],styles:["[_nghost-%COMP%]     .modal-footer{display:flex;justify-content:flex-end;padding:1.2rem 1rem 1rem}"]})}return n})();var Ft=(()=>((Ft=Ft||{}).small="sm",Ft.medium="md",Ft.large="lg",Ft.extraLarge="xl",Ft))();let Ki=(()=>{class n{constructor(e){this.apicall=e,this.modalSize=Ft,this.open=!1,this.confirmation=new t.vpe,this.ticket={},this.rate={ratings:0}}ngOnInit(){console.log("ticket: ",this.ticketId)}resolve(){this.confirmation.emit({open:!1,ratings:this.rate.ratings,resolve:"yes",feedback:this.rate.feedback})}onRatingSet(e){console.log("rating: ",e),this.rate.ratings=e}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T.b))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-feedback"]],inputs:{open:"open",ticketId:"ticketId"},outputs:{confirmation:"confirmation"},features:[t._Bn([])],decls:19,vars:10,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalSize","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body","m-0","p-0"],[1,"clr-row","m-0","p-0"],[1,"clr-col-12","m-0","p-0"],[1,"form-label","clr-required-mark"],[3,"readonly","size","color","initialStars","maxStars","ratingOutput"],[1,"border-0"],["clrTextarea","","name","notes","required","","name","feedback","placeholder","Write your feedback here...",1,"w-100",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"clr-modal",0),t.NdJ("clrModalOpenChange",function(f){return i.open=f}),t.TgZ(1,"h3",1),t._uU(2,"Share your opinion with us!"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7,"How would you rate it?"),t.qZA(),t.TgZ(8,"ngx-stars",6),t.NdJ("ratingOutput",function(f){return i.onRatingSet(f)}),t.qZA()(),t.TgZ(9,"div",4)(10,"clr-textarea-container",7)(11,"label"),t._uU(12,"Write Feedback"),t.qZA(),t.TgZ(13,"textarea",8),t.NdJ("ngModelChange",function(f){return i.rate.feedback=f}),t.qZA()()()()(),t.TgZ(14,"div",9)(15,"button",10),t.NdJ("click",function(){return i.open=!1,i.confirmation.emit({open:!1,resolve:"no"})}),t._uU(16,"No"),t.qZA(),t.TgZ(17,"button",11),t.NdJ("click",function(){return i.open=!1,i.confirmation.emit({open:!1,ratings:i.rate.ratings,resolve:"yes",feedback:i.rate.feedback})}),t._uU(18,"Yes"),t.qZA()()()),2&o&&(t.Q6J("clrModalOpen",i.open)("clrModalStaticBackdrop",!1)("clrModalSize",i.modalSize.large)("clrModalClosable",!1),t.xp6(8),t.Q6J("readonly",!1)("size",2)("color","#A36500")("initialStars",i.rate.ratings)("maxStars",5),t.xp6(5),t.Q6J("ngModel",i.rate.feedback))},dependencies:[I,M.Fj,M.JJ,M.Q7,M.On,s.qAN,s.VLi,s.MgK,s.XE5,s.LAP],styles:["[_nghost-%COMP%]     .modal-footer{display:flex;justify-content:flex-end;padding:1.2rem 1rem 1rem}"]})}return n})();const Gi=["f"];function Hi(n,a){1&n&&t._UZ(0,"div")}function Wi(n,a){}function $i(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i._location.back())}),t._UZ(1,"cds-icon",17),t.qZA(),t._uU(2," \xa0 ")}}const Ze=function(){return["TICKET_SSYSADMIN"]};function Xi(n,a){if(1&n&&(t.YNc(0,Wi,0,0,"ng-template",12),t.YNc(1,$i,3,0,"ng-template",null,13,t.W1O),t.TgZ(3,"span",14),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"span",15),t._uU(7),t.qZA()()),2&n){const e=t.MAs(2),o=t.oxw();t.Q6J("ngxPermissionsOnly",t.DdM(6,Ze))("ngxPermissionsOnlyElse",e),t.xp6(4),t.hij("",t.lcZ(5,4,"ticketThread.ticketId"),": "),t.xp6(3),t.Oqu(o.ticketId)}}function to(n,a){if(1&n&&(t._uU(0),t.ALo(1,"translate")),2&n){const e=t.oxw();t.AsE("",t.lcZ(1,2,"ticketThread.viewTicket"),": ",e.ticketId,"")}}function eo(n,a){1&n&&t._UZ(0,"div")}function no(n,a){if(1&n&&(t.TgZ(0,"li",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq("",t.lcZ(2,3,"ticketThread.raisedBy"),": ",e.cnf.get("countryCode")," ",e.ticket.mobileNumber,"")}}function io(n,a){if(1&n&&(t.TgZ(0,"li",33),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"ticketThread.raisedBy"),": ",e.ticket.raisedBy,"")}}function oo(n,a){if(1&n&&(t.TgZ(0,"ul",28)(1,"li",29),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"li",29),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"date"),t.qZA(),t.YNc(9,eo,1,0,"div",7),t.YNc(10,no,3,5,"ng-template",null,30,t.W1O),t.YNc(12,io,3,4,"ng-template",null,31,t.W1O),t.TgZ(14,"li",29),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"li",32),t._uU(18),t.ALo(19,"translate"),t.qZA()()),2&n){const e=t.MAs(11),o=t.MAs(13),i=t.oxw(2);t.xp6(2),t.AsE("",t.lcZ(3,13,"ticketThread.createdOn"),": ",t.xi3(4,15,i.ticket.issue.createdOn,"medium"),""),t.xp6(4),t.AsE("",t.lcZ(7,18,"ticketThread.updatedOn"),": ",t.xi3(8,20,i.ticket.issue.updatedOn,"medium"),""),t.xp6(3),t.Q6J("ngIf",i.ticket.raisedBy===i.ticket.mobileNumber)("ngIfThen",e)("ngIfElse",o),t.xp6(6),t.lnq("",t.lcZ(16,23,"ticketThread.contactNumber"),": ",i.cnf.get("countryCode")," ",i.ticket.mobileNumber,""),t.xp6(2),t.Q6J("ngClass","New"===i.ticket.issue.status.name||"InProgress"===i.ticket.issue.status.name?"blue":"green"),t.xp6(1),t.AsE(" ",t.lcZ(19,25,"ticketThread.status"),": ",i.ticket.issue.status.name," ")}}function ro(n,a){if(1&n&&(t.TgZ(0,"div",34)(1,"p",35)(2,"span",36),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",37),t._uU(6),t.qZA()(),t.TgZ(7,"h5",38),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p",39),t._uU(11),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("\xa0",t.lcZ(4,4,"ticketThread.subject"),":"),t.xp6(3),t.Oqu(e.ticket.issue.subject),t.xp6(2),t.hij("",t.lcZ(9,6,"ticketThread.description"),":"),t.xp6(3),t.Oqu(e.ticket.issue.description)}}function so(n,a){1&n&&t._UZ(0,"div")}function ao(n,a){}function co(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",57)(1,"div",58)(2,"clr-radio-wrapper",59)(3,"input",60),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw(4);return t.KtG(c.notes.visibility=i)}),t.qZA(),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",58)(8,"clr-radio-wrapper",61)(9,"input",62),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw(4);return t.KtG(c.notes.visibility=i)}),t.qZA(),t.TgZ(10,"label"),t._uU(11),t.ALo(12,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(4);t.xp6(3),t.Q6J("ngModel",e.notes.visibility),t.xp6(2),t.Oqu(t.lcZ(6,4,"ticketThread.public")),t.xp6(4),t.Q6J("ngModel",e.notes.visibility),t.xp6(2),t.Oqu(t.lcZ(12,6,"ticketThread.private"))}}function lo(n,a){if(1&n&&t.YNc(0,co,13,8,"div",56),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.authService.isLogin())}}function uo(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",63)(1,"button",64),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.openResolved(!0))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ticketThread.resolved")," "))}function po(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",63)(1,"button",64),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.feedback=!0)}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ticketThread.resolvedGrivance")," "))}const go=function(){return["TICKET_VISIBILITY"]},mo=function(n,a){return{"clr-col-12":n,"clr-col-10":a}};function ho(n,a){if(1&n){const e=t.EpF();t.YNc(0,ao,0,0,"ng-template",40),t.YNc(1,lo,1,1,"ng-template",null,41,t.W1O),t.TgZ(3,"div",42)(4,"div",43)(5,"div",44)(6,"textarea",45),t.NdJ("ngModelChange",function(i){t.CHM(e);const c=t.oxw(2);return t.KtG(c.notes.notes=i)}),t.ALo(7,"translate"),t.qZA()()()(),t.TgZ(8,"div",46)(9,"div",47)(10,"span",48),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"span",49),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"div",50)(17,"div",51)(18,"div",50)(19,"div",52)(20,"button",53),t._UZ(21,"cds-icon",54),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.YNc(24,uo,4,3,"div",55),t.YNc(25,po,4,3,"div",55),t.qZA()()()}if(2&n){const e=t.MAs(2);t.oxw();const o=t.MAs(6),i=t.oxw();t.Q6J("ngxPermissionsOnly",t.DdM(20,go))("ngxPermissionsOnlyThen",e),t.xp6(6),t.Q6J("ngModel",i.notes.notes)("placeholder",t.lcZ(7,12,"ticketThread.message")),t.xp6(3),t.Q6J("ngClass",t.WLB(21,mo,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(2),t.hij("",t.lcZ(12,14,"ticketThread.note"),":"),t.xp6(3),t.hij('\xa0"',t.lcZ(15,16,"ticketThread.noteText"),'"'),t.xp6(6),t.Q6J("disabled",o.form.invalid)("disabled","Resolved"===i.ticket.issue.status.name||"Closed"===i.ticket.issue.status.name),t.xp6(2),t.hij(" ",t.lcZ(23,18,"ticketThread.addComment")," "),t.xp6(2),t.Q6J("ngIf",!i.allowStatusForComments.includes(i.ticket.issue.status.name)),t.xp6(1),t.Q6J("ngIf","Resolved"===i.ticket.issue.status.name&&!i.authService.isLogin())}}function _o(n,a){1&n&&t._UZ(0,"div")}function fo(n,a){1&n&&t._UZ(0,"div")}function vo(n,a){1&n&&(t.TgZ(0,"label",73,13),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"ticketThread.supportTitle")))}function bo(n,a){if(1&n&&(t.TgZ(0,"div",74,67),t._uU(2," User: "),t.TgZ(3,"span",75),t._uU(4),t.qZA()()),2&n){const e=t.oxw(3).$implicit;t.xp6(4),t.Oqu(e.user.name)}}function To(n,a){}function ko(n,a){1&n&&t._UZ(0,"div")}function xo(n,a){1&n&&t._uU(0,"Public")}function yo(n,a){1&n&&(t._UZ(0,"cds-icon",79),t._uU(1," Private"))}function Co(n,a){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,ko,1,0,"div",7),t.YNc(2,xo,1,0,"ng-template",null,77,t.W1O),t.YNc(4,yo,2,0,"ng-template",null,78,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.MAs(5),i=t.oxw(3).$implicit;t.Q6J("ngClass",null!=i&&i.privateNotes?"text-danger":"text-success"),t.xp6(1),t.Q6J("ngIf",null==i?null:i.privateNotes)("ngIfThen",o)("ngIfElse",e)}}function wo(n,a){if(1&n&&(t.TgZ(0,"div",51)(1,"div",50),t.YNc(2,fo,1,0,"div",7),t.YNc(3,vo,4,3,"ng-template",null,13,t.W1O),t.YNc(5,bo,5,1,"ng-template",null,67,t.W1O),t.TgZ(7,"div",68)(8,"div",69)(9,"div",70),t._uU(10),t.ALo(11,"translate"),t.ALo(12,"date"),t.qZA(),t.YNc(13,To,0,0,"ng-template",12),t.YNc(14,Co,6,4,"ng-template",null,41,t.W1O),t.qZA(),t.TgZ(16,"div",71)(17,"div",72),t._uU(18),t.qZA()()()()()),2&n){const e=t.MAs(4),o=t.MAs(6),i=t.MAs(15),c=t.oxw(2).$implicit,f=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!f.endUsers.includes(c.user.name))("ngIfThen",e)("ngIfElse",o),t.xp6(8),t.AsE("",t.lcZ(11,8,"ticketThread.postedOn")," ",t.xi3(12,10,c.createdOn,"medium"),""),t.xp6(3),t.Q6J("ngxPermissionsOnly",t.DdM(13,Ze))("ngxPermissionsOnlyElse",i),t.xp6(5),t.Oqu(null==c?null:c.notes)}}function Zo(n,a){if(1&n&&t.YNc(0,wo,19,14,"div",66),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.notes)}}function Ao(n,a){1&n&&t._UZ(0,"div")}function Oo(n,a){if(1&n&&(t.TgZ(0,"div",50)(1,"label",73),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",68)(5,"div",69)(6,"div",70),t._uU(7),t.ALo(8,"translate"),t.ALo(9,"date"),t.qZA()(),t.TgZ(10,"div",71)(11,"div",72),t._uU(12),t.qZA()()()()),2&n){const e=t.oxw(4).$implicit;t.xp6(2),t.Oqu(t.lcZ(3,4,"ticketThread.supportTitle")),t.xp6(5),t.AsE("",t.lcZ(8,6,"ticketThread.postedOn")," ",t.xi3(9,8,e.createdOn,"medium"),""),t.xp6(5),t.Oqu(null==e?null:e.notes)}}function Mo(n,a){if(1&n&&t.YNc(0,Oo,13,11,"div",80),2&n){const e=t.oxw(3).$implicit;t.Q6J("ngIf",!1===e.privateNotes)}}function qo(n,a){if(1&n&&(t.TgZ(0,"div",50)(1,"div",74),t._uU(2),t.qZA(),t.TgZ(3,"div",68)(4,"div",69)(5,"div",70),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"date"),t.qZA()(),t.TgZ(9,"div",71)(10,"div",72),t._uU(11),t.qZA()()()()),2&n){const e=t.oxw(3).$implicit,o=t.oxw(2);t.xp6(2),t.AsE("",o.ticket.firstName," ",o.ticket.lastName,":"),t.xp6(4),t.AsE("",t.lcZ(7,5,"ticketThread.postedOn")," ",t.xi3(8,7,e.createdOn,"medium"),""),t.xp6(5),t.Oqu(null==e?null:e.notes)}}function So(n,a){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,Ao,1,0,"div",7),t.YNc(2,Mo,1,1,"ng-template",null,13,t.W1O),t.YNc(4,qo,12,10,"ng-template",null,67,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.MAs(5),i=t.oxw(2).$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!c.endUsers.includes(i.user.name))("ngIfThen",e)("ngIfElse",o)}}function Lo(n,a){if(1&n&&t.YNc(0,So,6,3,"div",66),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.notes)}}function Io(n,a){if(1&n&&(t.TgZ(0,"div",65),t.YNc(1,_o,1,0,"div",7),t.YNc(2,Zo,1,1,"ng-template",null,8,t.W1O),t.YNc(4,Lo,1,1,"ng-template",null,9,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.MAs(5),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.authService.isLogin())("ngIfThen",e)("ngIfElse",o)}}function No(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t.YNc(3,oo,20,27,"ul",21),t.qZA(),t.YNc(4,ro,12,8,"div",22),t.qZA(),t.TgZ(5,"form",23,24),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.MAs(6),c=t.oxw();return t.KtG(i.form.valid&&c.onSubmit(i))}),t.YNc(7,so,1,0,"div",25),t.YNc(8,ho,26,24,"ng-template",null,26,t.W1O),t.qZA(),t.YNc(10,Io,6,3,"div",27),t.qZA()}if(2&n){const e=t.MAs(9),o=t.oxw();t.xp6(3),t.Q6J("ngIf",o.ticket.issue),t.xp6(1),t.Q6J("ngIf",o.ticket.issue),t.xp6(3),t.Q6J("ngIf",o.ticket.issue&&!o.allowStatusForComments.includes(o.ticket.issue.status.name))("ngIfThen",e),t.xp6(3),t.Q6J("ngForOf",o.sortData)}}const Do=function(n,a){return{"clr-col-12 m-0 p-0":n,"clr-col-11":a}},Uo=function(n,a){return{"border border-1 shadow-none":n,"shadow-none":a}},Jo=function(n,a){return{"":n,"border border-0":a}};let Ae=(()=>{class n{constructor(e,o,i,c,f,v,G,H){this.route=e,this.ticketService=o,this.apicall=i,this.transport=c,this.authService=f,this.permissionService=v,this._location=G,this.cnf=H,this.imei={},this.cancel=!1,this.config={},this.ticket={subject:"Not accessible",createdOn:"2023-10-24 19:05:09",updatedOn:"2023-10-24 19:05:09",raisedBy:"Vivek Kumar",category:"Mobile",currentStatus:"In progress",description:"End user\u2019s first Ticket description will be written here. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet ne. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes"},this.notes={visibility:"private"},this.documentObject=[],this.open=!1,this.feedback=!1,this.endUsers=[],this.allowStatusForComments=[],this.ticketId=this.route.snapshot.paramMap.get("ticketId")||""}ngOnInit(){this.endUsers=this.cnf.get("endUsers")||[],this.allowStatusForComments=this.cnf.get("allowStatusForComment")||[],this.notes={visibility:this.permissionService.getPermission("TICKET_VISIBILITY")?"private":"public"},g.isEmpty(this.ticketId)||this.ticketService.get(this.ticketId).subscribe({next:e=>{this.ticket=e.data,console.log("journals: {}",this.ticket.issue.journals)}})}documentSelect(e){for(let o=0;o<e.target.files.length;o++){const i=window.URL?window.URL.createObjectURL(e.target.files[o]):window.webkitURL.createObjectURL(e.target.files[o]);this.documentObject.push({file:e.target.files[o],image:i,thumbImage:i,name:e.target.files[o].name})}}onSubmit(e){e.invalid?this.clrForm.markAsTouched():this.saveNote()}saveNote(){const e=new FormData;this.documentObject.forEach(i=>e.append("attachments",i.file));const o=!g.isEmpty(this.notes.visibility)&&!g.isEqual(this.notes.visibility,"public");e.append("notes",this.notes.notes),e.append("ticketId",this.ticketId),e.append("privateNotes",o),this.apicall.post("/ticket/save/note",e).subscribe({next:i=>{console.log(i),this.transport.alert={message:"registerTicketSuccess",type:"info"},this.ticket=i,console.log("journals: {}",this.ticket.issue.journals),this.ticket.issue.journals=g.sortBy(this.ticket.issue.journals,["createdOn"],"asc")},complete:()=>{setTimeout(()=>this.transport.progress=!1,3e3),this.notes={visibility:this.authService.isLogin()?"private":"public",notes:""}}})}resolve(e){this.open=e.open;const o=new FormData;o.append("notes",e.notes),o.append("ticketId",this.ticketId),o.append("privateNotes",!0),g.isEqual(e.resolve,"yes")&&this.apicall.get(`/ticket/resolve/${this.ticketId}`).subscribe({next:i=>{this.ticket=i,g.isEmpty(e.notes)||this.apicall.post("/ticket/save/note",o).subscribe({next:c=>{console.log("res: ",i),this.ticket=c,this.notes={visibility:this.authService.isLogin()?"private":"public",notes:""},setTimeout(()=>this.openFeedback(!0),3e3)}})}})}endUserFeedback(e){this.feedback=e.open,console.log("event",e),g.isEqual(e.resolve,"yes")&&this.apicall.post("/ticket/save/rate",{feedback:e.feedback,ratings:e.ratings,ticketId:this.ticketId}).subscribe({next:()=>{console.log()}})}openResolved(e){this.ticketResoved.ngForm.reset(),this.open=e}openFeedback(e){this.feedback=e}get sortData(){return this.ticket.issue.journals.sort((e,o)=>new Date(o.createdOn)-new Date(e.createdOn))}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(R.gz),t.Y36(h),t.Y36(T.b),t.Y36(r.t),t.Y36(p.e),t.Y36(X.YI),t.Y36(Q.Ye),t.Y36(l.E4))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-view-ticket-thread"]],viewQuery:function(o,i){if(1&o&&(t.Gf(s.YAP,7),t.Gf(we,5),t.Gf(Gi,5)),2&o){let c;t.iGM(c=t.CRH())&&(i.clrForm=c.first),t.iGM(c=t.CRH())&&(i.ticketResoved=c.first),t.iGM(c=t.CRH())&&(i.ngForm=c.first)}},decls:15,vars:20,consts:[[1,"clr-row","m-0","p-0","clr-justify-content-center"],[3,"ngClass"],[1,"card","m-0","p-0",2,"min-height","500px",3,"ngClass"],[1,"card-header",3,"ngClass"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-12",2,"margin-top","5px"],[1,"card-title","text-capitalize"],[4,"ngIf","ngIfThen","ngIfElse"],["login",""],["logout",""],["class","card-block",4,"ngIf"],[3,"ticketId","open","confirmation"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyElse"],["cc",""],[1,"text-black"],[1,"fw-lighter"],["href","Javascript:void(0)",3,"click"],["shape","arrow","direction","left","solid","true","size","md",1,"text-black"],[1,"card-block"],[1,"card","border","mt-1","shadow-none"],[1,"card-header"],["class","list-group list-group-horizontal border-0 d-flex",4,"ngIf"],["class","card-block m-0 p-0",4,"ngIf"],["clrStepper","","clrForm","","clrLayout","vertical",1,"m-0","p-0",3,"ngSubmit"],["f","ngForm"],[4,"ngIf","ngIfThen"],["comment",""],["class","clr-row clr-justify-content-center m-0 p-0 mt-2 ",4,"ngFor","ngForOf"],[1,"list-group","list-group-horizontal","border-0","d-flex"],[1,"list-group-item","border-0","m-0","p-0","subjectline"],["country",""],["mail",""],[1,"list-group-item","border-0","m-0","p-0","fw-bold","ms-auto",3,"ngClass"],[1,"list-group-item","border-0","m-0","p-0","subjectline","text-truncate"],[1,"card-block","m-0","p-0"],[1,"border","border-light-subtle","p-1","m-0","p-0",2,"background-color","#EFF5FF"],[1,"fw-semibold","text-secondary"],[1,"text-black","fw-semibold","mx-2"],[1,"m-2","text-secondary","mt-2","pt-2","mb-1","pb-1","m-0","p-0"],[1,"m-2","text-black"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen"],["visibility",""],[1,"clr-row","mt-2","border","m-1","rounded"],[1,"clr-col-12","m-0","p-0"],[1,"form-group","shadow-none"],["name","notes","required","",1,"form-control","form-control-sm","border","border-0","shadow-none","text-black",3,"ngModel","placeholder","ngModelChange"],[1,"clr-row","m-1"],[1,"m-0","p-0","mt-2",3,"ngClass"],[1,"fw-semibold","text-danger"],[1,"text-black","font-bolder"],[1,"clr-row","clr-justify-content-between","m-0","p-0"],[1,"m-0","p-0","mt-2","clr-col-12"],[1,"clr-col-6"],["type","submit",1,"btn","btn-primary",3,"disabled"],["shape","plus"],["class","clr-col-6 text-right",4,"ngIf"],["class","clr-row mt-2 m-0 p-0 clr-justify-content-between",4,"ngIf"],[1,"clr-row","mt-2","m-0","p-0","clr-justify-content-between"],[1,"clr-col-3"],[1,"float-start"],["type","radio","clrRadio","","value","public","name","visibility",3,"ngModel","ngModelChange"],[1,"float-end"],["type","radio","clrRadio","","value","private","name","visibility",3,"ngModel","ngModelChange"],[1,"clr-col-6","text-right"],["type","button",1,"btn","btn-primary",3,"click"],[1,"clr-row","clr-justify-content-center","m-0","p-0","mt-2"],["class","m-0 p-0 mt-2 clr-col-12",4,"ngIf"],["eu",""],[1,"clr-col-9","rounded-1","m-0","p-0","border",2,"min-height","100px"],[1,"clr-row","clr-justify-content-between","m-0","p-0","ms-4","me-4","mt-3"],[1,"clr-col-6","text-secondary"],[1,"clr-row","m-0","p-0"],[1,"clr-col-6","ms-4","me-4","fw-medium"],[1,"clr-col-3","text-right"],[1,"clr-col-3","text-right","fw-medium"],[1,"text-break"],[1,"clr-col-6","text-right","fw-bolder",3,"ngClass"],["public",""],["private",""],["shape","lock","solid","true"],["class","clr-row clr-justify-content-between m-0 p-0",4,"ngIf"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t.YNc(7,Hi,1,0,"div",7),t.YNc(8,Xi,8,7,"ng-template",null,8,t.W1O),t.YNc(10,to,2,4,"ng-template",null,9,t.W1O),t.qZA()()()(),t.YNc(12,No,11,5,"div",10),t.qZA()()(),t.TgZ(13,"ceirpanel-ticket-resolve",11),t.NdJ("confirmation",function(f){return i.resolve(f)}),t.qZA(),t.TgZ(14,"ceirpanel-ticket-feedback",11),t.NdJ("confirmation",function(f){return i.endUserFeedback(f)}),t.qZA()),2&o){const c=t.MAs(9),f=t.MAs(11);t.xp6(1),t.Q6J("ngClass",t.WLB(11,Do,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(14,Uo,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(17,Jo,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(4),t.Q6J("ngIf",i.authService.isLogin())("ngIfThen",c)("ngIfElse",f),t.xp6(5),t.Q6J("ngIf",i.ticket.issue),t.xp6(1),t.Q6J("ticketId",i.ticketId)("open",i.open),t.xp6(1),t.Q6J("ticketId",i.ticketId)("open",i.feedback)}},dependencies:[M._Y,M.Fj,M._,M.JJ,M.JL,M.Q7,M.On,M.F,Q.mk,Q.sg,Q.O5,s.nkF,s.MgK,s.YAP,s.mIp,s.asN,s.EeQ,s.Ppb,s.cc2,X.gE,we,Ki,Q.uU,b.X$],styles:[".subjectline[_ngcontent-%COMP%]{font-size:11px;color:#828282;margin-right:.6rem!important}.green[_ngcontent-%COMP%]{color:#04c100}.blue[_ngcontent-%COMP%]{color:#2f80ed}.text-secondary[_ngcontent-%COMP%]{color:#828282!important}.h5[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-size:.8rem!important}"]})}return n})();var Eo=j(2362);const St=function(){return["/ticket"]},Qo=function(){return{clientType:"mine"}},Yo=function(){return{clientType:"mine",status:"New"}},Po=function(){return{clientType:"mine",status:"InProgress"}},Fo=function(){return{clientType:"mine",status:"Resolved"}},Ro=function(){return{clientType:"mine",status:"Closed"}},Bo=function(){return{status:"New"}},jo=function(){return{status:"InProgress"}},zo=function(){return{status:"Resolved"}},Vo=function(){return{status:"Closed"}};let Ko=(()=>{class n{constructor(e,o){this.apicall=e,this.jwtService=o}ngOnInit(){this.apicall.get("/ticket/dashboard").subscribe({next:e=>{this.dashboard=e}})}onOtpChange(e){console.log(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(T.b),t.Y36(Eo.T))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-ticket-dashboard"]],decls:96,vars:57,consts:[[1,"card","m-0","p-0","border","border-1","shadow-none",2,"min-height","85vh"],[1,"card-header"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-6",2,"margin-top","5px"],[1,"card-title","text-capitalize","text-black"],[1,"card-block"],[1,"p-1","fw-bolder","m-0","p-0","text-black"],[1,"clr-row","clr-justify-content-around","mb-3",2,"color","#1E4076"],[1,"clr-col-2","m-0","p-0"],[1,"card","clickable","shadow-none","border","border-primary","border-3","rounded",3,"routerLink","queryParams"],[1,"card-text",2,"color","#1E4076"],[1,"float-start","fw-bolder"],[1,"float-end","fw-bold","fs-5"],[1,"clr-row","clr-justify-content-around",2,"color","#1E4076"],[1,"card","clickable","shadow-none","border","border-primary","border-3","rounded",3,"routerLink"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()()(),t.TgZ(7,"div",5)(8,"h5",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"a",9)(14,"div",5)(15,"p",10)(16,"span",11),t._uU(17,"Total Tickets"),t.qZA(),t.TgZ(18,"span",12),t._uU(19),t.qZA()()()()(),t.TgZ(20,"div",8)(21,"a",9)(22,"div",5)(23,"p",10)(24,"span",11),t._uU(25,"Open"),t.qZA(),t.TgZ(26,"span",12),t._uU(27),t.qZA()()()()(),t.TgZ(28,"div",8)(29,"a",9)(30,"div",5)(31,"p",10)(32,"span",11),t._uU(33,"In Progress"),t.qZA(),t.TgZ(34,"span",12),t._uU(35),t.qZA()()()()(),t.TgZ(36,"div",8)(37,"a",9)(38,"div",5)(39,"p",10)(40,"span",11),t._uU(41,"Resolved"),t.qZA(),t.TgZ(42,"span",12),t._uU(43),t.qZA()()()()(),t.TgZ(44,"div",8)(45,"a",9)(46,"div",5)(47,"p",10)(48,"span",11),t._uU(49,"Closed"),t.qZA(),t.TgZ(50,"span",12),t._uU(51),t.qZA()()()()()(),t.TgZ(52,"h5",6),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",13)(56,"div",8)(57,"a",14)(58,"div",5)(59,"p",10)(60,"span",11),t._uU(61,"Total Tickets"),t.qZA(),t.TgZ(62,"span",12),t._uU(63),t.qZA()()()()(),t.TgZ(64,"div",8)(65,"a",9)(66,"div",5)(67,"p",10)(68,"span",11),t._uU(69,"Open"),t.qZA(),t.TgZ(70,"span",12),t._uU(71),t.qZA()()()()(),t.TgZ(72,"div",8)(73,"a",9)(74,"div",5)(75,"p",10)(76,"span",11),t._uU(77,"In Progress"),t.qZA(),t.TgZ(78,"span",12),t._uU(79),t.qZA()()()()(),t.TgZ(80,"div",8)(81,"a",9)(82,"div",5)(83,"p",10)(84,"span",11),t._uU(85,"Resolved"),t.qZA(),t.TgZ(86,"span",12),t._uU(87),t.qZA()()()()(),t.TgZ(88,"div",8)(89,"a",9)(90,"div",5)(91,"p",10)(92,"span",11),t._uU(93,"Closed"),t.qZA(),t.TgZ(94,"span",12),t._uU(95),t.qZA()()()()()()()()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,32,"dashboard.title")),t.xp6(4),t.Oqu(t.lcZ(10,34,"dashboard.mydashboard")),t.xp6(4),t.Q6J("routerLink",t.DdM(38,St))("queryParams",t.DdM(39,Qo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.myDashboard?null:i.dashboard.myDashboard.totalTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(40,St))("queryParams",t.DdM(41,Yo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.myDashboard?null:i.dashboard.myDashboard.openTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(42,St))("queryParams",t.DdM(43,Po)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.myDashboard?null:i.dashboard.myDashboard.inProgressTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(44,St))("queryParams",t.DdM(45,Fo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.myDashboard?null:i.dashboard.myDashboard.resolvedTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(46,St))("queryParams",t.DdM(47,Ro)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.myDashboard?null:i.dashboard.myDashboard.closedTickets),t.xp6(2),t.Oqu(t.lcZ(54,36,"dashboard.alldashboard")),t.xp6(4),t.Q6J("routerLink",t.DdM(48,St)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.allDashboard?null:i.dashboard.allDashboard.totalTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(49,St))("queryParams",t.DdM(50,Bo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.allDashboard?null:i.dashboard.allDashboard.openTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(51,St))("queryParams",t.DdM(52,jo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.allDashboard?null:i.dashboard.allDashboard.inProgressTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(53,St))("queryParams",t.DdM(54,zo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.allDashboard?null:i.dashboard.allDashboard.resolvedTickets),t.xp6(2),t.Q6J("routerLink",t.DdM(55,St))("queryParams",t.DdM(56,Vo)),t.xp6(6),t.Oqu(null==i.dashboard||null==i.dashboard.allDashboard?null:i.dashboard.allDashboard.closedTickets))},dependencies:[R.rH,b.X$],encapsulation:2})}return n})();const Oe=function(n){return["/ticket/ticket-thread",n]};function Go(n,a){if(1&n&&(t.TgZ(0,"clr-dg-cell")(1,"button",20),t._UZ(2,"cds-icon",21),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,Oe,e.ticketId))}}function Ho(n,a){}function Wo(n,a){if(1&n&&(t.TgZ(0,"button",24),t._UZ(1,"cds-icon",21),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("routerLink",t.VKq(1,Oe,e.ticketId))}}const $o=function(){return["TICKET_VIEW"]};function Xo(n,a){if(1&n&&(t.TgZ(0,"clr-dg-cell"),t.YNc(1,Ho,0,0,"ng-template",22),t.YNc(2,Wo,2,3,"ng-template",null,23,t.W1O),t.qZA()),2&n){const e=t.MAs(3);t.xp6(1),t.Q6J("ngxPermissionsOnly",t.DdM(2,$o))("ngxPermissionsOnlyThen",e)}}function tr(n,a){if(1&n&&(t.TgZ(0,"clr-dg-row",15)(1,"clr-dg-cell",16),t._uU(2),t.qZA(),t.TgZ(3,"clr-dg-cell",16),t._uU(4),t.qZA(),t.TgZ(5,"clr-dg-cell"),t._uU(6),t.qZA(),t.TgZ(7,"clr-dg-cell",17),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"clr-dg-cell",17),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"clr-dg-cell",18),t._uU(14),t.qZA(),t.TgZ(15,"clr-dg-cell",18),t._uU(16),t.qZA(),t.YNc(17,Go,3,3,"clr-dg-cell",19),t.YNc(18,Xo,4,3,"clr-dg-cell",19),t.qZA()),2&n){const e=a.$implicit,o=t.oxw();t.Q6J("clrDgItem",e),t.xp6(2),t.Oqu(e.ticketId),t.xp6(2),t.AsE("",o.config.get("countryCode")," ",e.mobileNumber,""),t.xp6(2),t.Oqu(e.issue.subject),t.xp6(2),t.Oqu(t.xi3(9,11,e.issue.createdOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(t.xi3(12,14,e.issue.updatedOn,"yyyy-MM-dd")),t.xp6(3),t.Oqu(e.raisedBy),t.xp6(2),t.Oqu(e.issue.status.name),t.xp6(1),t.Q6J("ngIf",!o.authService.isLogin()),t.xp6(1),t.Q6J("ngIf",o.authService.isLogin())}}const er=function(n,a){return{"clr-col-12 m-0 p-0":n,"clr-col-11":a}},nr=function(n,a){return{"border border-1 shadow-none":n,"border-0 shadow-none":a}},ir=function(n,a){return{"":n,"border border-0":a}},or=function(){return[10,20,50,100]},sr=[{path:"ticket",component:Ri,canActivate:[ne.i,X.DD],data:{permissions:{only:["TICKET"],redirectTo:{default:"access-denied"}}}},{path:"ticket/end-user/list/:msisdn",component:(()=>{class n extends it.v{constructor(e,o,i,c,f,v,G){super(),this.cdRef=e,this.apicall=o,this.exportService=i,this.route=c,this.authService=f,this.permission=v,this.config=G,this.loading=!0}ngOnInit(){this.msisdn=this.route.snapshot.paramMap.get("msisdn")||""}refresh(e){this.loading=!0,this.state=e,this.apicall.post(`/ticket/${this.msisdn}/pagination`,e).subscribe({next:o=>{this.tickets=this.sortBy(e,o.content),this.total=o.totalElements,this.loading=!1,this.cdRef.detectChanges()},error:o=>this.loading=!1,complete:()=>{this.loading=!1,this.cdRef.detectChanges()}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(t.sBO),t.Y36(T.b),t.Y36(jt.T),t.Y36(R.gz),t.Y36(p.e),t.Y36(X.YI),t.Y36(l.E4))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["ceirpanel-enduser-ticket-list"]],features:[t.qOj],decls:45,vars:59,consts:[[1,"clr-row","m-0","p-0","clr-justify-content-center","border","border-0"],[3,"ngClass"],[1,"card","border-0","shadow-none","m-0","p-0",2,"min-height","85vh",3,"ngClass"],[1,"card-header",3,"ngClass"],[1,"clr-row","clr-justify-content-between"],[1,"clr-col-4",2,"margin-top","5px"],[1,"card-title","text-black"],[1,"card-block","border","border-0"],[1,"datagrid-compact",3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],[3,"clrDgSortBy"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[1,"text-capitalize"],[3,"clrDgItem"],[1,"text-break","text-nowrap"],[1,"text-break","text-nowrap","text-truncate"],[1,"text-truncate"],[4,"ngIf"],[1,"datagrid-action-toggle","clr-anchor","m-0","p-0",3,"routerLink"],["shape","eye"],[3,"ngxPermissionsOnly","ngxPermissionsOnlyThen"],["showView",""],[1,"btn","btn-link","btn-sm","m-0","p-0",3,"routerLink"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7,"Ticket Status"),t.qZA()()()(),t.TgZ(8,"div",7)(9,"clr-datagrid",8),t.NdJ("clrDgRefresh",function(f){return i.refresh(f)})("clrDgSelectedChange",function(f){return i.selecton=f}),t.TgZ(10,"clr-dg-column",9),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"clr-dg-column",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"clr-dg-column",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"clr-dg-column",9),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"clr-dg-column",9),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"clr-dg-column",9),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"clr-dg-column",9),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"clr-dg-column"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.YNc(34,tr,19,17,"clr-dg-row",10),t.TgZ(35,"clr-dg-footer")(36,"clr-dg-pagination",11,12)(38,"clr-dg-page-size",13)(39,"span",14),t._uU(40,"Tickets"),t.qZA(),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._uU(43),t.ALo(44,"translate"),t.qZA()()()()()()()),2&o){const c=t.MAs(37);t.xp6(1),t.Q6J("ngClass",t.WLB(49,er,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(52,nr,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(1),t.Q6J("ngClass",t.WLB(55,ir,i.authService.isLogin(),!i.authService.isLogin())),t.xp6(6),t.Q6J("clrDgLoading",i.loading)("clrDgSelected",i.selecton),t.xp6(1),t.Q6J("clrDgSortBy","ticketId"),t.xp6(1),t.Oqu(t.lcZ(12,29,"datalist.ticketId")),t.xp6(2),t.Q6J("clrDgSortBy","phone"),t.xp6(1),t.Oqu(t.lcZ(15,31,"datalist.phone")),t.xp6(2),t.Q6J("clrDgSortBy","subject"),t.xp6(1),t.Oqu(t.lcZ(18,33,"datalist.subject")),t.xp6(2),t.Q6J("clrDgSortBy","createDate"),t.xp6(1),t.Oqu(t.lcZ(21,35,"datalist.createDate")),t.xp6(2),t.Q6J("clrDgSortBy","modifiedDate"),t.xp6(1),t.Oqu(t.lcZ(24,37,"datalist.modifiedDate")),t.xp6(2),t.Q6J("clrDgSortBy","raisedBy"),t.xp6(1),t.Oqu(t.lcZ(27,39,"datalist.raisedBy")),t.xp6(2),t.Q6J("clrDgSortBy","status"),t.xp6(1),t.Oqu(t.lcZ(30,41,"datalist.status")),t.xp6(3),t.Oqu(t.lcZ(33,43,"datalist.action")),t.xp6(2),t.Q6J("ngForOf",i.tickets),t.xp6(2),t.Q6J("clrDgPageSize",10)("clrDgTotalItems",i.total),t.xp6(2),t.Q6J("clrPageSizeOptions",t.DdM(58,or)),t.xp6(3),t.hij(" ",t.lcZ(42,45,"footer.perPage")," "),t.xp6(2),t.HOy(" ",c.firstItem+1," - ",c.lastItem+1," ",t.lcZ(44,47,"footer.of")," ",c.totalItems," Tickets ")}},dependencies:[Q.mk,Q.sg,Q.O5,s.C9t,s.fv_,s.m4W,s.dRQ,s.YYR,s.Ltv,s.Z4N,s.jND,s.KHL,s.PDs,s.Gcc,s.dml,s.Nh1,s.K8c,s.nkF,R.rH,X.gE,Q.uU,b.X$],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})}return n})()},...["register-ticket"].map(n=>({path:n,component:ce})),...["forgot-ticket","forgot-ticket/:msisdn"].map(n=>({path:n,component:mn})),{path:"verify-ticket-otp/:msisdn",component:an},{path:"view-ticket",component:nn},{path:"search-imei",component:Fe,canActivate:[ne.i,X.DD],data:{permissions:{only:["SEARCH IMEI"],redirectTo:{default:"access-denied"}}}},{path:"ticket/register-ticket-success/:ticketId",component:st},{path:"register-ticket/register-ticket-success/:ticketId",component:st},{path:"check-ticket-status",component:qe},{path:"check-ticket-status/ticket-thread/:ticketId",component:Ae},{path:"search-imei/result",component:Ye,canActivate:[ne.i,X.DD],data:{permissions:{only:["SEARCH IMEI"],redirectTo:{default:"access-denied"}}}},{path:"ticket/ticket-thread/:ticketId",component:Ae},{path:"dashboard",component:Ko,canActivate:[ne.i,X.DD],data:{permissions:{only:["DASHBOARD"],redirectTo:{default:"access-denied"}}}},{path:"register-ticket",component:ce},{path:"ticket/register-ticket",component:ce}];let ar=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[tt,lt.bt,k,N,at.G,wt.f,R.Bz.forChild(sr),X.VI,pt._U,rt.a,rt.lQ]})}return n})()},149:de=>{self,de.exports=(()=>{var Gt={192:(pt,lt)=>{var t,M,Q=function(){var bt=function(Z,A){var C=Z,y=Mt[A],k=null,O=0,I=null,S=[],N={},at=function(s,m){k=function(u){for(var _=new Array(u),x=0;x<u;x+=1){_[x]=new Array(u);for(var q=0;q<u;q+=1)_[x][q]=null}return _}(O=4*C+17),T(0,0),T(O-7,0),T(0,O-7),l(),r(),p(s,m),C>=7&&d(s),null==I&&(I=h(C,y,S)),g(I,m)},T=function(s,m){for(var u=-1;u<=7;u+=1)if(!(s+u<=-1||O<=s+u))for(var _=-1;_<=7;_+=1)m+_<=-1||O<=m+_||(k[s+u][m+_]=0<=u&&u<=6&&(0==_||6==_)||0<=_&&_<=6&&(0==u||6==u)||2<=u&&u<=4&&2<=_&&_<=4)},r=function(){for(var s=8;s<O-8;s+=1)null==k[s][6]&&(k[s][6]=s%2==0);for(var m=8;m<O-8;m+=1)null==k[6][m]&&(k[6][m]=m%2==0)},l=function(){for(var s=rt.getPatternPosition(C),m=0;m<s.length;m+=1)for(var u=0;u<s.length;u+=1){var _=s[m],x=s[u];if(null==k[_][x])for(var q=-2;q<=2;q+=1)for(var L=-2;L<=2;L+=1)k[_+q][x+L]=-2==q||2==q||-2==L||2==L||0==q&&0==L}},d=function(s){for(var m=rt.getBCHTypeNumber(C),u=0;u<18;u+=1){var _=!s&&1==(m>>u&1);k[Math.floor(u/3)][u%3+O-8-3]=_}for(u=0;u<18;u+=1)_=!s&&1==(m>>u&1),k[u%3+O-8-3][Math.floor(u/3)]=_},p=function(s,m){for(var _=rt.getBCHTypeInfo(y<<3|m),x=0;x<15;x+=1){var q=!s&&1==(_>>x&1);x<6?k[x][8]=q:x<8?k[x+1][8]=q:k[O-15+x][8]=q}for(x=0;x<15;x+=1)q=!s&&1==(_>>x&1),x<8?k[8][O-x-1]=q:x<9?k[8][15-x-1+1]=q:k[8][15-x-1]=q;k[O-8][8]=!s},g=function(s,m){for(var u=-1,_=O-1,x=7,q=0,L=rt.getMaskFunction(m),w=O-1;w>0;w-=2)for(6==w&&(w-=1);;){for(var D=0;D<2;D+=1)if(null==k[_][w-D]){var U=!1;q<s.length&&(U=1==(s[q]>>>x&1)),L(_,w-D)&&(U=!U),k[_][w-D]=U,-1==(x-=1)&&(q+=1,x=7)}if((_+=u)<0||O<=_){_-=u,u=-u;break}}},h=function(s,m,u){for(var _=Et.getRSBlocks(s,m),x=It(),q=0;q<u.length;q+=1){var L=u[q];x.put(L.getMode(),4),x.put(L.getLength(),rt.getLengthInBits(L.getMode(),s)),L.write(x)}var w=0;for(q=0;q<_.length;q+=1)w+=_[q].dataCount;if(x.getLengthInBits()>8*w)throw"code length overflow. ("+x.getLengthInBits()+">"+8*w+")";for(x.getLengthInBits()+4<=8*w&&x.put(0,4);x.getLengthInBits()%8!=0;)x.putBit(!1);for(;!(x.getLengthInBits()>=8*w||(x.put(236,8),x.getLengthInBits()>=8*w));)x.put(17,8);return function(D,U){for(var Y=0,V=0,J=0,P=new Array(U.length),E=new Array(U.length),F=0;F<U.length;F+=1){var vt=U[F].dataCount,et=U[F].totalCount-vt;V=Math.max(V,vt),J=Math.max(J,et),P[F]=new Array(vt);for(var B=0;B<P[F].length;B+=1)P[F][B]=255&D.getBuffer()[B+Y];Y+=vt;var nt=rt.getErrorCorrectPolynomial(et),K=X(P[F],nt.getLength()-1).mod(nt);for(E[F]=new Array(nt.getLength()-1),B=0;B<E[F].length;B+=1){var ot=B+K.getLength()-E[F].length;E[F][B]=ot>=0?K.getAt(ot):0}}var st=0;for(B=0;B<U.length;B+=1)st+=U[B].totalCount;var it=new Array(st),ht=0;for(B=0;B<V;B+=1)for(F=0;F<U.length;F+=1)B<P[F].length&&(it[ht]=P[F][B],ht+=1);for(B=0;B<J;B+=1)for(F=0;F<U.length;F+=1)B<E[F].length&&(it[ht]=E[F][B],ht+=1);return it}(x,_)};N.addData=function(s,m){var u=null;switch(m=m||"Byte"){case"Numeric":u=Nt(s);break;case"Alphanumeric":u=zt(s);break;case"Byte":u=yt(s);break;case"Kanji":u=Zt(s);break;default:throw"mode:"+m}S.push(u),I=null},N.isDark=function(s,m){if(s<0||O<=s||m<0||O<=m)throw s+","+m;return k[s][m]},N.getModuleCount=function(){return O},N.make=function(){if(C<1){for(var s=1;s<40;s++){for(var m=Et.getRSBlocks(s,y),u=It(),_=0;_<S.length;_++){var x=S[_];u.put(x.getMode(),4),u.put(x.getLength(),rt.getLengthInBits(x.getMode(),s)),x.write(u)}var q=0;for(_=0;_<m.length;_++)q+=m[_].dataCount;if(u.getLengthInBits()<=8*q)break}C=s}at(!1,function(){for(var L=0,w=0,D=0;D<8;D+=1){at(!0,D);var U=rt.getLostPoint(N);(0==D||L>U)&&(L=U,w=D)}return w}())},N.createTableTag=function(s,m){s=s||2;var u="";u+='<table style="',u+=" border-width: 0px; border-style: none;",u+=" border-collapse: collapse;",u+=" padding: 0px; margin: "+(m=void 0===m?4*s:m)+"px;",u+='">',u+="<tbody>";for(var _=0;_<N.getModuleCount();_+=1){u+="<tr>";for(var x=0;x<N.getModuleCount();x+=1)u+='<td style="',u+=" border-width: 0px; border-style: none;",u+=" border-collapse: collapse;",u+=" padding: 0px; margin: 0px;",u+=" width: "+s+"px;",u+=" height: "+s+"px;",u+=" background-color: ",u+=N.isDark(_,x)?"#000000":"#ffffff",u+=";",u+='"/>';u+="</tr>"}return(u+="</tbody>")+"</table>"},N.createSvgTag=function(s,m,u,_){var x={};"object"==typeof arguments[0]&&(s=(x=arguments[0]).cellSize,m=x.margin,u=x.alt,_=x.title),s=s||2,m=void 0===m?4*s:m,(u="string"==typeof u?{text:u}:u||{}).text=u.text||null,u.id=u.text?u.id||"qrcode-description":null,(_="string"==typeof _?{text:_}:_||{}).text=_.text||null,_.id=_.text?_.id||"qrcode-title":null;var q,L,w,D,U=N.getModuleCount()*s+2*m,Y="";for(D="l"+s+",0 0,"+s+" -"+s+",0 0,-"+s+"z ",Y+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Y+=x.scalable?"":' width="'+U+'px" height="'+U+'px"',Y+=' viewBox="0 0 '+U+" "+U+'" ',Y+=' preserveAspectRatio="xMinYMin meet"',Y+=_.text||u.text?' role="img" aria-labelledby="'+b([_.id,u.id].join(" ").trim())+'"':"",Y+=">",Y+=_.text?'<title id="'+b(_.id)+'">'+b(_.text)+"</title>":"",Y+=u.text?'<description id="'+b(u.id)+'">'+b(u.text)+"</description>":"",Y+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Y+='<path d="',L=0;L<N.getModuleCount();L+=1)for(w=L*s+m,q=0;q<N.getModuleCount();q+=1)N.isDark(L,q)&&(Y+="M"+(q*s+m)+","+w+D);return(Y+='" stroke="transparent" fill="black"/>')+"</svg>"},N.createDataURL=function(s,m){s=s||2,m=void 0===m?4*s:m;var u=N.getModuleCount()*s+2*m,_=m,x=u-m;return Bt(u,u,function(q,L){if(_<=q&&q<x&&_<=L&&L<x){var w=Math.floor((q-_)/s),D=Math.floor((L-_)/s);return N.isDark(D,w)?0:1}return 1})},N.createImgTag=function(s,m,u){s=s||2,m=void 0===m?4*s:m;var _=N.getModuleCount()*s+2*m,x="";return x+="<img",x+=' src="',x+=N.createDataURL(s,m),x+='"',x+=' width="',x+=_,x+='"',x+=' height="',x+=_,x+='"',u&&(x+=' alt="',x+=b(u),x+='"'),x+"/>"};var b=function(s){for(var m="",u=0;u<s.length;u+=1){var _=s.charAt(u);switch(_){case"<":m+="&lt;";break;case">":m+="&gt;";break;case"&":m+="&amp;";break;case'"':m+="&quot;";break;default:m+=_}}return m};return N.createASCII=function(s,m){if((s=s||1)<2)return function(P){P=void 0===P?2:P;var E,F,vt,et,B,nt=1*N.getModuleCount()+2*P,K=P,ot=nt-P,st={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},it={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},ht="";for(E=0;E<nt;E+=2){for(vt=Math.floor((E-K)/1),et=Math.floor((E+1-K)/1),F=0;F<nt;F+=1)B="\u2588",K<=F&&F<ot&&K<=E&&E<ot&&N.isDark(vt,Math.floor((F-K)/1))&&(B=" "),K<=F&&F<ot&&K<=E+1&&E+1<ot&&N.isDark(et,Math.floor((F-K)/1))?B+=" ":B+="\u2588",ht+=P<1&&E+1>=ot?it[B]:st[B];ht+="\n"}return nt%2&&P>0?ht.substring(0,ht.length-nt-1)+Array(nt+1).join("\u2580"):ht.substring(0,ht.length-1)}(m);s-=1,m=void 0===m?2*s:m;var u,_,x,q,L=N.getModuleCount()*s+2*m,w=m,D=L-m,U=Array(s+1).join("\u2588\u2588"),Y=Array(s+1).join("  "),V="",J="";for(u=0;u<L;u+=1){for(x=Math.floor((u-w)/s),J="",_=0;_<L;_+=1)q=1,w<=_&&_<D&&w<=u&&u<D&&N.isDark(x,Math.floor((_-w)/s))&&(q=0),J+=q?U:Y;for(x=0;x<s;x+=1)V+=J+"\n"}return V.substring(0,V.length-1)},N.renderTo2dContext=function(s,m){m=m||2;for(var u=N.getModuleCount(),_=0;_<u;_++)for(var x=0;x<u;x++)s.fillStyle=N.isDark(_,x)?"black":"white",s.fillRect(_*m,x*m,m,m)},N};bt.stringToBytes=(bt.stringToBytesFuncs={default:function(Z){for(var A=[],C=0;C<Z.length;C+=1){var y=Z.charCodeAt(C);A.push(255&y)}return A}}).default,bt.createStringToBytes=function(Z,A){var C=function(){for(var k=Rt(Z),O=function(){var r=k.read();if(-1==r)throw"eof";return r},I=0,S={};;){var N=k.read();if(-1==N)break;var at=O(),T=O()<<8|O();S[String.fromCharCode(N<<8|at)]=T,I+=1}if(I!=A)throw I+" != "+A;return S}(),y="?".charCodeAt(0);return function(k){for(var O=[],I=0;I<k.length;I+=1){var S=k.charCodeAt(I);if(S<128)O.push(S);else{var N=C[k.charAt(I)];"number"==typeof N?(255&N)==N?O.push(N):(O.push(N>>>8),O.push(255&N)):O.push(y)}}return O}};var xt,$,tt,Mt={L:1,M:0,Q:3,H:2},rt=(xt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],1335,7973,tt=function(Z){for(var A=0;0!=Z;)A+=1,Z>>>=1;return A},($={}).getBCHTypeInfo=function(Z){for(var A=Z<<10;tt(A)-tt(1335)>=0;)A^=1335<<tt(A)-tt(1335);return 21522^(Z<<10|A)},$.getBCHTypeNumber=function(Z){for(var A=Z<<12;tt(A)-tt(7973)>=0;)A^=7973<<tt(A)-tt(7973);return Z<<12|A},$.getPatternPosition=function(Z){return xt[Z-1]},$.getMaskFunction=function(Z){switch(Z){case 0:return function(A,C){return(A+C)%2==0};case 1:return function(A,C){return A%2==0};case 2:return function(A,C){return C%3==0};case 3:return function(A,C){return(A+C)%3==0};case 4:return function(A,C){return(Math.floor(A/2)+Math.floor(C/3))%2==0};case 5:return function(A,C){return A*C%2+A*C%3==0};case 6:return function(A,C){return(A*C%2+A*C%3)%2==0};case 7:return function(A,C){return(A*C%3+(A+C)%2)%2==0};default:throw"bad maskPattern:"+Z}},$.getErrorCorrectPolynomial=function(Z){for(var A=X([1],0),C=0;C<Z;C+=1)A=A.multiply(X([1,wt.gexp(C)],0));return A},$.getLengthInBits=function(Z,A){if(1<=A&&A<10)switch(Z){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+Z}else if(A<27)switch(Z){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+Z}else{if(!(A<41))throw"type:"+A;switch(Z){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+Z}}},$.getLostPoint=function(Z){for(var A=Z.getModuleCount(),C=0,y=0;y<A;y+=1)for(var k=0;k<A;k+=1){for(var O=0,I=Z.isDark(y,k),S=-1;S<=1;S+=1)if(!(y+S<0||A<=y+S))for(var N=-1;N<=1;N+=1)k+N<0||A<=k+N||0==S&&0==N||I==Z.isDark(y+S,k+N)&&(O+=1);O>5&&(C+=3+O-5)}for(y=0;y<A-1;y+=1)for(k=0;k<A-1;k+=1){var at=0;Z.isDark(y,k)&&(at+=1),Z.isDark(y+1,k)&&(at+=1),Z.isDark(y,k+1)&&(at+=1),Z.isDark(y+1,k+1)&&(at+=1),0!=at&&4!=at||(C+=3)}for(y=0;y<A;y+=1)for(k=0;k<A-6;k+=1)Z.isDark(y,k)&&!Z.isDark(y,k+1)&&Z.isDark(y,k+2)&&Z.isDark(y,k+3)&&Z.isDark(y,k+4)&&!Z.isDark(y,k+5)&&Z.isDark(y,k+6)&&(C+=40);for(k=0;k<A;k+=1)for(y=0;y<A-6;y+=1)Z.isDark(y,k)&&!Z.isDark(y+1,k)&&Z.isDark(y+2,k)&&Z.isDark(y+3,k)&&Z.isDark(y+4,k)&&!Z.isDark(y+5,k)&&Z.isDark(y+6,k)&&(C+=40);var T=0;for(k=0;k<A;k+=1)for(y=0;y<A;y+=1)Z.isDark(y,k)&&(T+=1);return C+Math.abs(100*T/A/A-50)/5*10},$),wt=function(){for(var Z=new Array(256),A=new Array(256),C=0;C<8;C+=1)Z[C]=1<<C;for(C=8;C<256;C+=1)Z[C]=Z[C-4]^Z[C-5]^Z[C-6]^Z[C-8];for(C=0;C<255;C+=1)A[Z[C]]=C;return{glog:function(y){if(y<1)throw"glog("+y+")";return A[y]},gexp:function(y){for(;y<0;)y+=255;for(;y>=256;)y-=255;return Z[y]}}}();function X(Z,A){if(void 0===Z.length)throw Z.length+"/"+A;var C=function(){for(var k=0;k<Z.length&&0==Z[k];)k+=1;for(var O=new Array(Z.length-k+A),I=0;I<Z.length-k;I+=1)O[I]=Z[I+k];return O}(),y={getAt:function(k){return C[k]},getLength:function(){return C.length},multiply:function(k){for(var O=new Array(y.getLength()+k.getLength()-1),I=0;I<y.getLength();I+=1)for(var S=0;S<k.getLength();S+=1)O[I+S]^=wt.gexp(wt.glog(y.getAt(I))+wt.glog(k.getAt(S)));return X(O,0)},mod:function(k){if(y.getLength()-k.getLength()<0)return y;for(var O=wt.glog(y.getAt(0))-wt.glog(k.getAt(0)),I=new Array(y.getLength()),S=0;S<y.getLength();S+=1)I[S]=y.getAt(S);for(S=0;S<k.getLength();S+=1)I[S]^=wt.gexp(wt.glog(k.getAt(S))+O);return X(I,0).mod(k)}};return y}var Z,A,Et=(Z=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],A=function(y,k){var O={};return O.totalCount=y,O.dataCount=k,O},{getRSBlocks:function(y,k){var O=function(d,p){switch(p){case Mt.L:return Z[4*(d-1)+0];case Mt.M:return Z[4*(d-1)+1];case Mt.Q:return Z[4*(d-1)+2];case Mt.H:return Z[4*(d-1)+3];default:return}}(y,k);if(void 0===O)throw"bad rs block @ typeNumber:"+y+"/errorCorrectionLevel:"+k;for(var I=O.length/3,S=[],N=0;N<I;N+=1)for(var at=O[3*N+0],T=O[3*N+1],r=O[3*N+2],l=0;l<at;l+=1)S.push(A(T,r));return S}}),It=function(){var Z=[],A=0,C={getBuffer:function(){return Z},getAt:function(y){var k=Math.floor(y/8);return 1==(Z[k]>>>7-y%8&1)},put:function(y,k){for(var O=0;O<k;O+=1)C.putBit(1==(y>>>k-O-1&1))},getLengthInBits:function(){return A},putBit:function(y){var k=Math.floor(A/8);Z.length<=k&&Z.push(0),y&&(Z[k]|=128>>>A%8),A+=1}};return C},Nt=function(Z){var A=Z,C={getMode:function(){return 1},getLength:function(O){return A.length},write:function(O){for(var I=A,S=0;S+2<I.length;)O.put(y(I.substring(S,S+3)),10),S+=3;S<I.length&&(I.length-S==1?O.put(y(I.substring(S,S+1)),4):I.length-S==2&&O.put(y(I.substring(S,S+2)),7))}},y=function(O){for(var I=0,S=0;S<O.length;S+=1)I=10*I+k(O.charAt(S));return I},k=function(O){if("0"<=O&&O<="9")return O.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+O};return C},zt=function(Z){var A=Z,C={getMode:function(){return 2},getLength:function(k){return A.length},write:function(k){for(var O=A,I=0;I+1<O.length;)k.put(45*y(O.charAt(I))+y(O.charAt(I+1)),11),I+=2;I<O.length&&k.put(y(O.charAt(I)),6)}},y=function(k){if("0"<=k&&k<="9")return k.charCodeAt(0)-"0".charCodeAt(0);if("A"<=k&&k<="Z")return k.charCodeAt(0)-"A".charCodeAt(0)+10;switch(k){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+k}};return C},yt=function(Z){var A=bt.stringToBytes(Z);return{getMode:function(){return 4},getLength:function(C){return A.length},write:function(C){for(var y=0;y<A.length;y+=1)C.put(A[y],8)}}},Zt=function(Z){var A=bt.stringToBytesFuncs.SJIS;if(!A)throw"sjis not supported.";!function(y,k){var O=A("\u53cb");if(2!=O.length||38726!=(O[0]<<8|O[1]))throw"sjis not supported."}();var C=A(Z);return{getMode:function(){return 8},getLength:function(y){return~~(C.length/2)},write:function(y){for(var k=C,O=0;O+1<k.length;){var I=(255&k[O])<<8|255&k[O+1];if(33088<=I&&I<=40956)I-=33088;else{if(!(57408<=I&&I<=60351))throw"illegal char at "+(O+1)+"/"+I;I-=49472}y.put(I=192*(I>>>8&255)+(255&I),13),O+=2}if(O<k.length)throw"illegal char at "+(O+1)}}},Vt=function(){var Z=[],A={writeByte:function(C){Z.push(255&C)},writeShort:function(C){A.writeByte(C),A.writeByte(C>>>8)},writeBytes:function(C,y,k){y=y||0,k=k||C.length;for(var O=0;O<k;O+=1)A.writeByte(C[O+y])},writeString:function(C){for(var y=0;y<C.length;y+=1)A.writeByte(C.charCodeAt(y))},toByteArray:function(){return Z},toString:function(){var C="";C+="[";for(var y=0;y<Z.length;y+=1)y>0&&(C+=","),C+=Z[y];return C+"]"}};return A},Rt=function(Z){var A=Z,C=0,y=0,k=0,O={read:function(){for(;k<8;){if(C>=A.length){if(0==k)return-1;throw"unexpected end of file./"+k}var S=A.charAt(C);if(C+=1,"="==S)return k=0,-1;S.match(/^\s$/)||(y=y<<6|I(S.charCodeAt(0)),k+=6)}var N=y>>>k-8&255;return k-=8,N}},I=function(S){if(65<=S&&S<=90)return S-65;if(97<=S&&S<=122)return S-97+26;if(48<=S&&S<=57)return S-48+52;if(43==S)return 62;if(47==S)return 63;throw"c:"+S};return O},Bt=function(Z,A,C){for(var y=function(T,r){var l=T,d=r,p=new Array(T*r),g={setPixel:function(s,m,u){p[m*l+s]=u},write:function(s){s.writeString("GIF87a"),s.writeShort(l),s.writeShort(d),s.writeByte(128),s.writeByte(0),s.writeByte(0),s.writeByte(0),s.writeByte(0),s.writeByte(0),s.writeByte(255),s.writeByte(255),s.writeByte(255),s.writeString(","),s.writeShort(0),s.writeShort(0),s.writeShort(l),s.writeShort(d),s.writeByte(0);var m=h(2);s.writeByte(2);for(var u=0;m.length-u>255;)s.writeByte(255),s.writeBytes(m,u,255),u+=255;s.writeByte(m.length-u),s.writeBytes(m,u,m.length-u),s.writeByte(0),s.writeString(";")}},h=function(s){for(var m=1<<s,u=1+(1<<s),_=s+1,x=b(),q=0;q<m;q+=1)x.add(String.fromCharCode(q));x.add(String.fromCharCode(m)),x.add(String.fromCharCode(u));var L,w,D,U=Vt(),Y=(L=U,w=0,D=0,{write:function(E,F){if(E>>>F)throw"length over";for(;w+F>=8;)L.writeByte(255&(E<<w|D)),F-=8-w,E>>>=8-w,D=0,w=0;D|=E<<w,w+=F},flush:function(){w>0&&L.writeByte(D)}});Y.write(m,_);var V=0,J=String.fromCharCode(p[V]);for(V+=1;V<p.length;){var P=String.fromCharCode(p[V]);V+=1,x.contains(J+P)?J+=P:(Y.write(x.indexOf(J),_),x.size()<4095&&(x.size()==1<<_&&(_+=1),x.add(J+P)),J=P)}return Y.write(x.indexOf(J),_),Y.write(u,_),Y.flush(),U.toByteArray()},b=function(){var s={},m=0,u={add:function(_){if(u.contains(_))throw"dup key:"+_;s[_]=m,m+=1},size:function(){return m},indexOf:function(_){return s[_]},contains:function(_){return void 0!==s[_]}};return u};return g}(Z,A),k=0;k<A;k+=1)for(var O=0;O<Z;O+=1)y.setPixel(O,k,C(O,k));var I=Vt();y.write(I);for(var S=function(){var T=0,r=0,l=0,d="",p={},g=function(b){d+=String.fromCharCode(h(63&b))},h=function(b){if(!(b<0)){if(b<26)return 65+b;if(b<52)return b-26+97;if(b<62)return b-52+48;if(62==b)return 43;if(63==b)return 47}throw"n:"+b};return p.writeByte=function(b){for(T=T<<8|255&b,r+=8,l+=1;r>=6;)g(T>>>r-6),r-=6},p.flush=function(){if(r>0&&(g(T<<6-r),T=0,r=0),l%3!=0)for(var b=3-l%3,s=0;s<b;s+=1)d+="="},p.toString=function(){return d},p}(),N=I.toByteArray(),at=0;at<N.length;at+=1)S.writeByte(N[at]);return S.flush(),"data:image/gif;base64,"+S};return bt}();Q.stringToBytesFuncs["UTF-8"]=function(bt){return function(xt){for(var dt=[],ft=0;ft<xt.length;ft++){var $=xt.charCodeAt(ft);$<128?dt.push($):$<2048?dt.push(192|$>>6,128|63&$):$<55296||$>=57344?dt.push(224|$>>12,128|$>>6&63,128|63&$):(ft++,$=65536+((1023&$)<<10|1023&xt.charCodeAt(ft)),dt.push(240|$>>18,128|$>>12&63,128|$>>6&63,128|63&$))}return dt}(bt)},void 0===(M="function"==typeof(t=function(){return Q})?t.apply(lt,[]):t)||(pt.exports=M)},676:(pt,lt,t)=>{"use strict";t.d(lt,{default:()=>at});var M=function(){return(M=Object.assign||function(T){for(var r,l=1,d=arguments.length;l<d;l++)for(var p in r=arguments[l])Object.prototype.hasOwnProperty.call(r,p)&&(T[p]=r[p]);return T}).apply(this,arguments)},bt=function(T){return!!T&&"object"==typeof T&&!Array.isArray(T)};function xt(T){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];if(!r.length)return T;var d=r.shift();return void 0!==d&&bt(T)&&bt(d)?(T=M({},T),Object.keys(d).forEach(function(p){var g=T[p],h=d[p];T[p]=Array.isArray(g)&&Array.isArray(h)?h:bt(g)&&bt(h)?xt(Object.assign({},g),h):h}),xt.apply(void 0,function(){for(var T=0,r=0,l=arguments.length;r<l;r++)T+=arguments[r].length;var d=Array(T),p=0;for(r=0;r<l;r++)for(var g=arguments[r],h=0,b=g.length;h<b;h++,p++)d[p]=g[h];return d}([T],r))):T}function dt(T,r){var l=document.createElement("a");l.download=r,l.href=T,document.body.appendChild(l),l.click(),document.body.removeChild(l)}function ft(T){return r=this,void 0,p=function(){return function(g,h){var b,s,m,u,_={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return u={next:x(0),throw:x(1),return:x(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function x(q){return function(L){return function(w){if(b)throw new TypeError("Generator is already executing.");for(;_;)try{if(b=1,s&&(m=2&w[0]?s.return:w[0]?s.throw||((m=s.return)&&m.call(s),0):s.next)&&!(m=m.call(s,w[1])).done)return m;switch(s=0,m&&(w=[2&w[0],m.value]),w[0]){case 0:case 1:m=w;break;case 4:return _.label++,{value:w[1],done:!1};case 5:_.label++,s=w[1],w=[0];continue;case 7:w=_.ops.pop(),_.trys.pop();continue;default:if(!((m=(m=_.trys).length>0&&m[m.length-1])||6!==w[0]&&2!==w[0])){_=0;continue}if(3===w[0]&&(!m||w[1]>m[0]&&w[1]<m[3])){_.label=w[1];break}if(6===w[0]&&_.label<m[1]){_.label=m[1],m=w;break}if(m&&_.label<m[2]){_.label=m[2],_.ops.push(w);break}m[2]&&_.ops.pop(),_.trys.pop();continue}w=h.call(g,_)}catch(D){w=[6,D],s=0}finally{b=m=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([q,L])}}}(this,function(g){return[2,new Promise(function(h){var b=new XMLHttpRequest;b.onload=function(){var s=new FileReader;s.onloadend=function(){h(s.result)},s.readAsDataURL(b.response)},b.open("GET",T),b.responseType="blob",b.send()})]})},new((d=void 0)||(d=Promise))(function(g,h){function b(u){try{m(p.next(u))}catch(_){h(_)}}function s(u){try{m(p.throw(u))}catch(_){h(_)}}function m(u){var _;u.done?g(u.value):(_=u.value,_ instanceof d?_:new d(function(x){x(_)})).then(b,s)}m((p=p.apply(r,[])).next())});var r,d,p}const $={L:.07,M:.15,Q:.25,H:.3};var tt=function(){return(tt=Object.assign||function(T){for(var r,l=1,d=arguments.length;l<d;l++)for(var p in r=arguments[l])Object.prototype.hasOwnProperty.call(r,p)&&(T[p]=r[p]);return T}).apply(this,arguments)};const Mt=function(){function T(r){var d=r.type;this._svg=r.svg,this._type=d}return T.prototype.draw=function(r,l,d,p){var g;switch(this._type){case"dots":g=this._drawDot;break;case"classy":g=this._drawClassy;break;case"classy-rounded":g=this._drawClassyRounded;break;case"rounded":g=this._drawRounded;break;case"extra-rounded":g=this._drawExtraRounded;break;default:g=this._drawSquare}g.call(this,{x:r,y:l,size:d,getNeighbor:p})},T.prototype._rotateFigure=function(r){var l,g=r.size,h=r.rotation,b=void 0===h?0:h,s=r.x+g/2,m=r.y+g/2;(0,r.draw)(),null===(l=this._element)||void 0===l||l.setAttribute("transform","rotate("+180*b/Math.PI+","+s+","+m+")")},T.prototype._basicDot=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),l._element.setAttribute("cx",String(p+d/2)),l._element.setAttribute("cy",String(g+d/2)),l._element.setAttribute("r",String(d/2))}}))},T.prototype._basicSquare=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),l._element.setAttribute("x",String(p)),l._element.setAttribute("y",String(g)),l._element.setAttribute("width",String(d)),l._element.setAttribute("height",String(d))}}))},T.prototype._basicSideRounded=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("d","M "+p+" "+g+"v "+d+"h "+d/2+"a "+d/2+" "+d/2+", 0, 0, 0, 0 "+-d)}}))},T.prototype._basicCornerRounded=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("d","M "+p+" "+g+"v "+d+"h "+d+"v "+-d/2+"a "+d/2+" "+d/2+", 0, 0, 0, "+-d/2+" "+-d/2)}}))},T.prototype._basicCornerExtraRounded=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("d","M "+p+" "+g+"v "+d+"h "+d+"a "+d+" "+d+", 0, 0, 0, "+-d+" "+-d)}}))},T.prototype._basicCornersRounded=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(tt(tt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("d","M "+p+" "+g+"v "+d/2+"a "+d/2+" "+d/2+", 0, 0, 0, "+d/2+" "+d/2+"h "+d/2+"v "+-d/2+"a "+d/2+" "+d/2+", 0, 0, 0, "+-d/2+" "+-d/2)}}))},T.prototype._drawDot=function(r){this._basicDot({x:r.x,y:r.y,size:r.size,rotation:0})},T.prototype._drawSquare=function(r){this._basicSquare({x:r.x,y:r.y,size:r.size,rotation:0})},T.prototype._drawRounded=function(r){var l=r.x,d=r.y,p=r.size,g=r.getNeighbor,h=g?+g(-1,0):0,b=g?+g(1,0):0,s=g?+g(0,-1):0,m=g?+g(0,1):0,u=h+b+s+m;if(0!==u)if(u>2||h&&b||s&&m)this._basicSquare({x:l,y:d,size:p,rotation:0});else{if(2===u){var _=0;return h&&s?_=Math.PI/2:s&&b?_=Math.PI:b&&m&&(_=-Math.PI/2),void this._basicCornerRounded({x:l,y:d,size:p,rotation:_})}if(1===u)return _=0,s?_=Math.PI/2:b?_=Math.PI:m&&(_=-Math.PI/2),void this._basicSideRounded({x:l,y:d,size:p,rotation:_})}else this._basicDot({x:l,y:d,size:p,rotation:0})},T.prototype._drawExtraRounded=function(r){var l=r.x,d=r.y,p=r.size,g=r.getNeighbor,h=g?+g(-1,0):0,b=g?+g(1,0):0,s=g?+g(0,-1):0,m=g?+g(0,1):0,u=h+b+s+m;if(0!==u)if(u>2||h&&b||s&&m)this._basicSquare({x:l,y:d,size:p,rotation:0});else{if(2===u){var _=0;return h&&s?_=Math.PI/2:s&&b?_=Math.PI:b&&m&&(_=-Math.PI/2),void this._basicCornerExtraRounded({x:l,y:d,size:p,rotation:_})}if(1===u)return _=0,s?_=Math.PI/2:b?_=Math.PI:m&&(_=-Math.PI/2),void this._basicSideRounded({x:l,y:d,size:p,rotation:_})}else this._basicDot({x:l,y:d,size:p,rotation:0})},T.prototype._drawClassy=function(r){var l=r.x,d=r.y,p=r.size,g=r.getNeighbor,h=g?+g(-1,0):0,b=g?+g(1,0):0,s=g?+g(0,-1):0,m=g?+g(0,1):0;h+b+s+m!==0?h||s?b||m?this._basicSquare({x:l,y:d,size:p,rotation:0}):this._basicCornerRounded({x:l,y:d,size:p,rotation:Math.PI/2}):this._basicCornerRounded({x:l,y:d,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:l,y:d,size:p,rotation:Math.PI/2})},T.prototype._drawClassyRounded=function(r){var l=r.x,d=r.y,p=r.size,g=r.getNeighbor,h=g?+g(-1,0):0,b=g?+g(1,0):0,s=g?+g(0,-1):0,m=g?+g(0,1):0;h+b+s+m!==0?h||s?b||m?this._basicSquare({x:l,y:d,size:p,rotation:0}):this._basicCornerExtraRounded({x:l,y:d,size:p,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:l,y:d,size:p,rotation:-Math.PI/2}):this._basicCornersRounded({x:l,y:d,size:p,rotation:Math.PI/2})},T}();var rt=function(){return(rt=Object.assign||function(T){for(var r,l=1,d=arguments.length;l<d;l++)for(var p in r=arguments[l])Object.prototype.hasOwnProperty.call(r,p)&&(T[p]=r[p]);return T}).apply(this,arguments)};const wt=function(){function T(r){var d=r.type;this._svg=r.svg,this._type=d}return T.prototype.draw=function(r,l,d,p){var g;switch(this._type){case"square":g=this._drawSquare;break;case"extra-rounded":g=this._drawExtraRounded;break;default:g=this._drawDot}g.call(this,{x:r,y:l,size:d,rotation:p})},T.prototype._rotateFigure=function(r){var l,g=r.size,h=r.rotation,b=void 0===h?0:h,s=r.x+g/2,m=r.y+g/2;(0,r.draw)(),null===(l=this._element)||void 0===l||l.setAttribute("transform","rotate("+180*b/Math.PI+","+s+","+m+")")},T.prototype._basicDot=function(r){var l=this,d=r.size,p=r.x,g=r.y,h=d/7;this._rotateFigure(rt(rt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("clip-rule","evenodd"),l._element.setAttribute("d","M "+(p+d/2)+" "+g+"a "+d/2+" "+d/2+" 0 1 0 0.1 0zm 0 "+h+"a "+(d/2-h)+" "+(d/2-h)+" 0 1 1 -0.1 0Z")}}))},T.prototype._basicSquare=function(r){var l=this,d=r.size,p=r.x,g=r.y,h=d/7;this._rotateFigure(rt(rt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("clip-rule","evenodd"),l._element.setAttribute("d","M "+p+" "+g+"v "+d+"h "+d+"v "+-d+"zM "+(p+h)+" "+(g+h)+"h "+(d-2*h)+"v "+(d-2*h)+"h "+(2*h-d)+"z")}}))},T.prototype._basicExtraRounded=function(r){var l=this,p=r.x,g=r.y,h=r.size/7;this._rotateFigure(rt(rt({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","path"),l._element.setAttribute("clip-rule","evenodd"),l._element.setAttribute("d","M "+p+" "+(g+2.5*h)+"v "+2*h+"a "+2.5*h+" "+2.5*h+", 0, 0, 0, "+2.5*h+" "+2.5*h+"h "+2*h+"a "+2.5*h+" "+2.5*h+", 0, 0, 0, "+2.5*h+" "+2.5*-h+"v "+-2*h+"a "+2.5*h+" "+2.5*h+", 0, 0, 0, "+2.5*-h+" "+2.5*-h+"h "+-2*h+"a "+2.5*h+" "+2.5*h+", 0, 0, 0, "+2.5*-h+" "+2.5*h+"M "+(p+2.5*h)+" "+(g+h)+"h "+2*h+"a "+1.5*h+" "+1.5*h+", 0, 0, 1, "+1.5*h+" "+1.5*h+"v "+2*h+"a "+1.5*h+" "+1.5*h+", 0, 0, 1, "+1.5*-h+" "+1.5*h+"h "+-2*h+"a "+1.5*h+" "+1.5*h+", 0, 0, 1, "+1.5*-h+" "+1.5*-h+"v "+-2*h+"a "+1.5*h+" "+1.5*h+", 0, 0, 1, "+1.5*h+" "+1.5*-h)}}))},T.prototype._drawDot=function(r){this._basicDot({x:r.x,y:r.y,size:r.size,rotation:r.rotation})},T.prototype._drawSquare=function(r){this._basicSquare({x:r.x,y:r.y,size:r.size,rotation:r.rotation})},T.prototype._drawExtraRounded=function(r){this._basicExtraRounded({x:r.x,y:r.y,size:r.size,rotation:r.rotation})},T}();var X=function(){return(X=Object.assign||function(T){for(var r,l=1,d=arguments.length;l<d;l++)for(var p in r=arguments[l])Object.prototype.hasOwnProperty.call(r,p)&&(T[p]=r[p]);return T}).apply(this,arguments)};const Et=function(){function T(r){var d=r.type;this._svg=r.svg,this._type=d}return T.prototype.draw=function(r,l,d,p){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:r,y:l,size:d,rotation:p})},T.prototype._rotateFigure=function(r){var l,g=r.size,h=r.rotation,b=void 0===h?0:h,s=r.x+g/2,m=r.y+g/2;(0,r.draw)(),null===(l=this._element)||void 0===l||l.setAttribute("transform","rotate("+180*b/Math.PI+","+s+","+m+")")},T.prototype._basicDot=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(X(X({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),l._element.setAttribute("cx",String(p+d/2)),l._element.setAttribute("cy",String(g+d/2)),l._element.setAttribute("r",String(d/2))}}))},T.prototype._basicSquare=function(r){var l=this,d=r.size,p=r.x,g=r.y;this._rotateFigure(X(X({},r),{draw:function(){l._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),l._element.setAttribute("x",String(p)),l._element.setAttribute("y",String(g)),l._element.setAttribute("width",String(d)),l._element.setAttribute("height",String(d))}}))},T.prototype._drawDot=function(r){this._basicDot({x:r.x,y:r.y,size:r.size,rotation:r.rotation})},T.prototype._drawSquare=function(r){this._basicSquare({x:r.x,y:r.y,size:r.size,rotation:r.rotation})},T}(),It="circle";var Nt=function(T,r,l,d){return new(l||(l=Promise))(function(p,g){function h(m){try{s(d.next(m))}catch(u){g(u)}}function b(m){try{s(d.throw(m))}catch(u){g(u)}}function s(m){var u;m.done?p(m.value):(u=m.value,u instanceof l?u:new l(function(_){_(u)})).then(h,b)}s((d=d.apply(T,r||[])).next())})},zt=function(T,r){var l,d,p,g,h={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return g={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function b(s){return function(m){return function(u){if(l)throw new TypeError("Generator is already executing.");for(;h;)try{if(l=1,d&&(p=2&u[0]?d.return:u[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,u[1])).done)return p;switch(d=0,p&&(u=[2&u[0],p.value]),u[0]){case 0:case 1:p=u;break;case 4:return h.label++,{value:u[1],done:!1};case 5:h.label++,d=u[1],u=[0];continue;case 7:u=h.ops.pop(),h.trys.pop();continue;default:if(!((p=(p=h.trys).length>0&&p[p.length-1])||6!==u[0]&&2!==u[0])){h=0;continue}if(3===u[0]&&(!p||u[1]>p[0]&&u[1]<p[3])){h.label=u[1];break}if(6===u[0]&&h.label<p[1]){h.label=p[1],p=u;break}if(p&&h.label<p[2]){h.label=p[2],h.ops.push(u);break}p[2]&&h.ops.pop(),h.trys.pop();continue}u=r.call(T,h)}catch(_){u=[6,_],d=0}finally{l=p=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([s,m])}}},yt=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Zt=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const Vt=function(){function T(r){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(r.width)),this._element.setAttribute("height",String(r.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=r}return Object.defineProperty(T.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),T.prototype.getElement=function(){return this._element},T.prototype.drawQR=function(r){return Nt(this,void 0,void 0,function(){var l,d,p,g,h,b,_,x=this;return zt(this,function(q){switch(q.label){case 0:return l=r.getModuleCount(),d=Math.min(this._options.width,this._options.height)-2*this._options.margin,p=this._options.shape===It?d/Math.sqrt(2):d,g=Math.floor(p/l),h={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=r,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(q.sent(),!this._image)return[2];b=this._options,_=Math.floor(b.imageOptions.imageSize*$[b.qrOptions.errorCorrectionLevel]*l*l),h=function(L){var w=L.originalHeight,D=L.originalWidth,U=L.maxHiddenDots,Y=L.maxHiddenAxisDots,V=L.dotSize,J={x:0,y:0},P={x:0,y:0};if(w<=0||D<=0||U<=0||V<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var E=w/D;return J.x=Math.floor(Math.sqrt(U/E)),J.x<=0&&(J.x=1),Y&&Y<J.x&&(J.x=Y),J.x%2==0&&J.x--,P.x=J.x*V,J.y=1+2*Math.ceil((J.x*E-1)/2),P.y=Math.round(P.x*E),(J.y*J.x>U||Y&&Y<J.y)&&(Y&&Y<J.y?(J.y=Y,J.y%2==0&&J.x--):J.y-=2,P.y=J.y*V,J.x=1+2*Math.ceil((J.y/E-1)/2),P.x=Math.round(P.y/E)),{height:P.y,width:P.x,hideYDots:J.y,hideXDots:J.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:_,maxHiddenAxisDots:l-14,dotSize:g}),q.label=2;case 2:return this.drawBackground(),this.drawDots(function(L,w){var D,U,Y,V,J,P;return!(x._options.imageOptions.hideBackgroundDots&&L>=(l-h.hideXDots)/2&&L<(l+h.hideXDots)/2&&w>=(l-h.hideYDots)/2&&w<(l+h.hideYDots)/2||null!==(D=yt[L])&&void 0!==D&&D[w]||null!==(U=yt[L-l+7])&&void 0!==U&&U[w]||null!==(Y=yt[L])&&void 0!==Y&&Y[w-l+7]||null!==(V=Zt[L])&&void 0!==V&&V[w]||null!==(J=Zt[L-l+7])&&void 0!==J&&J[w]||null!==(P=Zt[L])&&void 0!==P&&P[w-l+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:h.width,height:h.height,count:l,dotSize:g})]:[3,4];case 3:q.sent(),q.label=4;case 4:return[2]}})})},T.prototype.drawBackground=function(){var r,l,d,g=this._options;if(this._element){var h=null===(r=g.backgroundOptions)||void 0===r?void 0:r.gradient,b=null===(l=g.backgroundOptions)||void 0===l?void 0:l.color;if((h||b)&&this._createColor({options:h,color:b,additionalRotation:0,x:0,y:0,height:g.height,width:g.width,name:"background-color"}),null===(d=g.backgroundOptions)||void 0===d?void 0:d.round){var s=Math.min(g.width,g.height),m=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),m.setAttribute("x",String((g.width-s)/2)),m.setAttribute("y",String((g.height-s)/2)),m.setAttribute("width",String(s)),m.setAttribute("height",String(s)),m.setAttribute("rx",String(s/2*g.backgroundOptions.round)),this._backgroundClipPath.appendChild(m)}}},T.prototype.drawDots=function(r){var l,d,p=this;if(!this._qr)throw"QR code is not defined";var g=this._options,h=this._qr.getModuleCount();if(h>g.width||h>g.height)throw"The canvas is too small.";var b=Math.min(g.width,g.height)-2*g.margin,s=g.shape===It?b/Math.sqrt(2):b,m=Math.floor(s/h),u=Math.floor((g.width-h*m)/2),_=Math.floor((g.height-h*m)/2),x=new Mt({svg:this._element,type:g.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(l=g.dotsOptions)||void 0===l?void 0:l.gradient,color:g.dotsOptions.color,additionalRotation:0,x:0,y:0,height:g.height,width:g.width,name:"dot-color"});for(var q=function(et){for(var B=function(K){return r&&!r(et,K)?"continue":null!==(d=L._qr)&&void 0!==d&&d.isDark(et,K)?(x.draw(u+et*m,_+K*m,m,function(ot,st){return!(et+ot<0||K+st<0||et+ot>=h||K+st>=h)&&!(r&&!r(et+ot,K+st))&&!!p._qr&&p._qr.isDark(et+ot,K+st)}),void(x._element&&L._dotsClipPath&&L._dotsClipPath.appendChild(x._element))):"continue"},nt=0;nt<h;nt++)B(nt)},L=this,w=0;w<h;w++)q(w);if(g.shape===It){var D=Math.floor((b/m-h)/2),U=h+2*D,Y=u-D*m,V=_-D*m,J=[],P=Math.floor(U/2);for(w=0;w<U;w++){J[w]=[];for(var E=0;E<U;E++)J[w][E]=w>=D-1&&w<=U-D&&E>=D-1&&E<=U-D||Math.sqrt((w-P)*(w-P)+(E-P)*(E-P))>P?0:this._qr.isDark(E-2*D<0?E:E>=h?E-2*D:E-D,w-2*D<0?w:w>=h?w-2*D:w-D)?1:0}var F=function(et){for(var B=function(K){if(!J[et][K])return"continue";x.draw(Y+et*m,V+K*m,m,function(ot,st){var it;return!(null===(it=J[et+ot])||void 0===it||!it[K+st])}),x._element&&vt._dotsClipPath&&vt._dotsClipPath.appendChild(x._element)},nt=0;nt<U;nt++)B(nt)},vt=this;for(w=0;w<U;w++)F(w)}},T.prototype.drawCorners=function(){var r=this;if(!this._qr)throw"QR code is not defined";var d=this._options;if(!this._element)throw"Element code is not defined";var p=this._qr.getModuleCount(),g=Math.min(d.width,d.height)-2*d.margin,h=d.shape===It?g/Math.sqrt(2):g,b=Math.floor(h/p),s=7*b,m=3*b,u=Math.floor((d.width-p*b)/2),_=Math.floor((d.height-p*b)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(x){var q,L,w,D,U,Y,V,J,P,E,F,vt,et=x[0],B=x[1],nt=x[2],K=u+et*b*(p-7),ot=_+B*b*(p-7),st=r._dotsClipPath,it=r._dotsClipPath;if((!(null===(q=d.cornersSquareOptions)||void 0===q)&&q.gradient||!(null===(L=d.cornersSquareOptions)||void 0===L)&&L.color)&&((st=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+et+"-"+B),r._defs.appendChild(st),r._cornersSquareClipPath=r._cornersDotClipPath=it=st,r._createColor({options:null===(w=d.cornersSquareOptions)||void 0===w?void 0:w.gradient,color:null===(D=d.cornersSquareOptions)||void 0===D?void 0:D.color,additionalRotation:nt,x:K,y:ot,height:s,width:s,name:"corners-square-color-"+et+"-"+B})),null===(U=d.cornersSquareOptions)||void 0===U?void 0:U.type){var ht=new wt({svg:r._element,type:d.cornersSquareOptions.type});ht.draw(K,ot,s,nt),ht._element&&st&&st.appendChild(ht._element)}else for(var qt=new Mt({svg:r._element,type:d.dotsOptions.type}),jt=function(Ot){for(var Wt=function(Ut){if(null===(Y=yt[Ot])||void 0===Y||!Y[Ut])return"continue";qt.draw(K+Ot*b,ot+Ut*b,b,function($t,Xt){var Jt;return!(null===(Jt=yt[Ot+$t])||void 0===Jt||!Jt[Ut+Xt])}),qt._element&&st&&st.appendChild(qt._element)},Dt=0;Dt<yt[Ot].length;Dt++)Wt(Dt)},At=0;At<yt.length;At++)jt(At);if((!(null===(V=d.cornersDotOptions)||void 0===V)&&V.gradient||!(null===(J=d.cornersDotOptions)||void 0===J)&&J.color)&&((it=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+et+"-"+B),r._defs.appendChild(it),r._cornersDotClipPath=it,r._createColor({options:null===(P=d.cornersDotOptions)||void 0===P?void 0:P.gradient,color:null===(E=d.cornersDotOptions)||void 0===E?void 0:E.color,additionalRotation:nt,x:K+2*b,y:ot+2*b,height:m,width:m,name:"corners-dot-color-"+et+"-"+B})),null===(F=d.cornersDotOptions)||void 0===F?void 0:F.type){var Ht=new Et({svg:r._element,type:d.cornersDotOptions.type});Ht.draw(K+2*b,ot+2*b,m,nt),Ht._element&&it&&it.appendChild(Ht._element)}else{qt=new Mt({svg:r._element,type:d.dotsOptions.type});var ae=function(Ot){for(var Wt=function(Ut){if(null===(vt=Zt[Ot])||void 0===vt||!vt[Ut])return"continue";qt.draw(K+Ot*b,ot+Ut*b,b,function($t,Xt){var Jt;return!(null===(Jt=Zt[Ot+$t])||void 0===Jt||!Jt[Ut+Xt])}),qt._element&&it&&it.appendChild(qt._element)},Dt=0;Dt<Zt[Ot].length;Dt++)Wt(Dt)};for(At=0;At<Zt.length;At++)ae(At)}})},T.prototype.loadImage=function(){var r=this;return new Promise(function(l,d){var p=r._options,g=new Image;if(!p.image)return d("Image is not defined");"string"==typeof p.imageOptions.crossOrigin&&(g.crossOrigin=p.imageOptions.crossOrigin),r._image=g,g.onload=function(){l()},g.src=p.image})},T.prototype.drawImage=function(r){var l=r.width,d=r.height,p=r.count,g=r.dotSize;return Nt(this,void 0,void 0,function(){var h,b,s,m,u,_,x,q,L;return zt(this,function(w){switch(w.label){case 0:return h=this._options,b=Math.floor((h.width-p*g)/2),s=Math.floor((h.height-p*g)/2),m=b+h.imageOptions.margin+(p*g-l)/2,u=s+h.imageOptions.margin+(p*g-d)/2,_=l-2*h.imageOptions.margin,x=d-2*h.imageOptions.margin,(q=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(m)),q.setAttribute("y",String(u)),q.setAttribute("width",_+"px"),q.setAttribute("height",x+"px"),[4,ft(h.image||"")];case 1:return L=w.sent(),q.setAttribute("href",L||""),this._element.appendChild(q),[2]}})})},T.prototype._createColor=function(r){var l=r.options,d=r.color,p=r.additionalRotation,g=r.x,h=r.y,b=r.height,s=r.width,m=r.name,u=s>b?s:b,_=document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",String(g)),_.setAttribute("y",String(h)),_.setAttribute("height",String(b)),_.setAttribute("width",String(s)),_.setAttribute("clip-path","url('#clip-path-"+m+"')"),l){var x;if("radial"===l.type)(x=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",m),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("fx",String(g+s/2)),x.setAttribute("fy",String(h+b/2)),x.setAttribute("cx",String(g+s/2)),x.setAttribute("cy",String(h+b/2)),x.setAttribute("r",String(u/2));else{var q=((l.rotation||0)+p)%(2*Math.PI),L=(q+2*Math.PI)%(2*Math.PI),w=g+s/2,D=h+b/2,U=g+s/2,Y=h+b/2;L>=0&&L<=.25*Math.PI||L>1.75*Math.PI&&L<=2*Math.PI?(w-=s/2,D-=b/2*Math.tan(q),U+=s/2,Y+=b/2*Math.tan(q)):L>.25*Math.PI&&L<=.75*Math.PI?(D-=b/2,w-=s/2/Math.tan(q),Y+=b/2,U+=s/2/Math.tan(q)):L>.75*Math.PI&&L<=1.25*Math.PI?(w+=s/2,D+=b/2*Math.tan(q),U-=s/2,Y-=b/2*Math.tan(q)):L>1.25*Math.PI&&L<=1.75*Math.PI&&(D+=b/2,w+=s/2/Math.tan(q),Y-=b/2,U-=s/2/Math.tan(q)),(x=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",m),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("x1",String(Math.round(w))),x.setAttribute("y1",String(Math.round(D))),x.setAttribute("x2",String(Math.round(U))),x.setAttribute("y2",String(Math.round(Y)))}l.colorStops.forEach(function(V){var J=V.offset,P=V.color,E=document.createElementNS("http://www.w3.org/2000/svg","stop");E.setAttribute("offset",100*J+"%"),E.setAttribute("stop-color",P),x.appendChild(E)}),_.setAttribute("fill","url('#"+m+"')"),this._defs.appendChild(x)}else d&&_.setAttribute("fill",d);this._element.appendChild(_)},T}(),Rt="canvas";for(var Bt={},Z=0;Z<=40;Z++)Bt[Z]=Z;const A={type:Rt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Bt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var C=function(){return(C=Object.assign||function(T){for(var r,l=1,d=arguments.length;l<d;l++)for(var p in r=arguments[l])Object.prototype.hasOwnProperty.call(r,p)&&(T[p]=r[p]);return T}).apply(this,arguments)};function y(T){var r=C({},T);if(!r.colorStops||!r.colorStops.length)throw"Field 'colorStops' is required in gradient";return r.rotation=r.rotation?Number(r.rotation):0,r.colorStops=r.colorStops.map(function(l){return C(C({},l),{offset:Number(l.offset)})}),r}function k(T){var r=C({},T);return r.width=Number(r.width),r.height=Number(r.height),r.margin=Number(r.margin),r.imageOptions=C(C({},r.imageOptions),{hideBackgroundDots:!!r.imageOptions.hideBackgroundDots,imageSize:Number(r.imageOptions.imageSize),margin:Number(r.imageOptions.margin)}),r.margin>Math.min(r.width,r.height)&&(r.margin=Math.min(r.width,r.height)),r.dotsOptions=C({},r.dotsOptions),r.dotsOptions.gradient&&(r.dotsOptions.gradient=y(r.dotsOptions.gradient)),r.cornersSquareOptions&&(r.cornersSquareOptions=C({},r.cornersSquareOptions),r.cornersSquareOptions.gradient&&(r.cornersSquareOptions.gradient=y(r.cornersSquareOptions.gradient))),r.cornersDotOptions&&(r.cornersDotOptions=C({},r.cornersDotOptions),r.cornersDotOptions.gradient&&(r.cornersDotOptions.gradient=y(r.cornersDotOptions.gradient))),r.backgroundOptions&&(r.backgroundOptions=C({},r.backgroundOptions),r.backgroundOptions.gradient&&(r.backgroundOptions.gradient=y(r.backgroundOptions.gradient))),r}var O=t(192),I=t.n(O),S=function(T,r,l,d){return new(l||(l=Promise))(function(p,g){function h(m){try{s(d.next(m))}catch(u){g(u)}}function b(m){try{s(d.throw(m))}catch(u){g(u)}}function s(m){var u;m.done?p(m.value):(u=m.value,u instanceof l?u:new l(function(_){_(u)})).then(h,b)}s((d=d.apply(T,r||[])).next())})},N=function(T,r){var l,d,p,g,h={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return g={next:b(0),throw:b(1),return:b(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function b(s){return function(m){return function(u){if(l)throw new TypeError("Generator is already executing.");for(;h;)try{if(l=1,d&&(p=2&u[0]?d.return:u[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,u[1])).done)return p;switch(d=0,p&&(u=[2&u[0],p.value]),u[0]){case 0:case 1:p=u;break;case 4:return h.label++,{value:u[1],done:!1};case 5:h.label++,d=u[1],u=[0];continue;case 7:u=h.ops.pop(),h.trys.pop();continue;default:if(!((p=(p=h.trys).length>0&&p[p.length-1])||6!==u[0]&&2!==u[0])){h=0;continue}if(3===u[0]&&(!p||u[1]>p[0]&&u[1]<p[3])){h.label=u[1];break}if(6===u[0]&&h.label<p[1]){h.label=p[1],p=u;break}if(p&&h.label<p[2]){h.label=p[2],h.ops.push(u);break}p[2]&&h.ops.pop(),h.trys.pop();continue}u=r.call(T,h)}catch(_){u=[6,_],d=0}finally{l=p=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([s,m])}}};const at=function(){function T(r){this._options=r?k(xt(A,r)):A,this.update()}return T._clearContainer=function(r){r&&(r.innerHTML="")},T.prototype._setupSvg=function(){var r=this;if(this._qr){var l=new Vt(this._options);this._svg=l.getElement(),this._svgDrawingPromise=l.drawQR(this._qr).then(function(){var d;r._svg&&(null===(d=r._extension)||void 0===d||d.call(r,l.getElement(),r._options))})}},T.prototype._setupCanvas=function(){var r,l=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(r=this._svgDrawingPromise)||void 0===r?void 0:r.then(function(){if(l._svg){var d=l._svg,p=(new XMLSerializer).serializeToString(d),g="data:image/svg+xml;base64,"+btoa(p),h=new Image;return new Promise(function(b){h.onload=function(){var s,m;null===(m=null===(s=l._canvas)||void 0===s?void 0:s.getContext("2d"))||void 0===m||m.drawImage(h,0,0),b()},h.src=g})}}))},T.prototype._getElement=function(r){return void 0===r&&(r="png"),S(this,void 0,void 0,function(){return N(this,function(l){switch(l.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==r.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return l.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return l.sent(),[2,this._canvas]}})})},T.prototype.update=function(r){T._clearContainer(this._container),this._options=r?k(xt(this._options,r)):this._options,this._options.data&&(this._qr=I()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(l){switch(!0){case/^[0-9]*$/.test(l):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(l):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===Rt?this._setupCanvas():this._setupSvg(),this.append(this._container))},T.prototype.append=function(r){if(r){if("function"!=typeof r.appendChild)throw"Container should be a single DOM node";this._options.type===Rt?this._canvas&&r.appendChild(this._canvas):this._svg&&r.appendChild(this._svg),this._container=r}},T.prototype.applyExtension=function(r){if(!r)throw"Extension function should be defined.";this._extension=r,this.update()},T.prototype.deleteExtension=function(){this._extension=void 0,this.update()},T.prototype.getRawData=function(r){return void 0===r&&(r="png"),S(this,void 0,void 0,function(){var l,d,p;return N(this,function(g){switch(g.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(r)];case 1:return(l=g.sent())?"svg"===r.toLowerCase()?(d=new XMLSerializer,p=d.serializeToString(l),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+p],{type:"image/svg+xml"})]):[2,new Promise(function(h){return l.toBlob(h,"image/"+r,1)})]:[2,null]}})})},T.prototype.download=function(r){return S(this,void 0,void 0,function(){var l,d,p,g,h;return N(this,function(b){switch(b.label){case 0:if(!this._qr)throw"QR code is empty";return l="png",d="qr","string"==typeof r?(l=r,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof r&&null!==r&&(r.name&&(d=r.name),r.extension&&(l=r.extension)),[4,this._getElement(l)];case 1:return(p=b.sent())?("svg"===l.toLowerCase()?(g=new XMLSerializer,h='<?xml version="1.0" standalone="no"?>\r\n'+(h=g.serializeToString(p)),dt("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(h),d+".svg")):dt(p.toDataURL("image/"+l),d+"."+l),[2]):[2]}})})},T}()}},j={};function R(pt){if(j[pt])return j[pt].exports;var lt=j[pt]={exports:{}};return Gt[pt](lt,lt.exports,R),lt.exports}return R.n=pt=>{var lt=pt&&pt.__esModule?()=>pt.default:()=>pt;return R.d(lt,{a:lt}),lt},R.d=(pt,lt)=>{for(var t in lt)R.o(lt,t)&&!R.o(pt,t)&&Object.defineProperty(pt,t,{enumerable:!0,get:lt[t]})},R.o=(pt,lt)=>Object.prototype.hasOwnProperty.call(pt,lt),R(676)})().default}}]);